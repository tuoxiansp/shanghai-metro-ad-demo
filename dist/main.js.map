{"version":3,"sources":["webpack:///webpack/bootstrap a508de1b1f363faa1a17","webpack:///./app/src/main.js","webpack:///./app/lib/famousArchives-polyfills/functionPrototypeBind.js","webpack:///./app/lib/famousArchives-polyfills/classList.js","webpack:///./app/lib/famousArchives-polyfills/requestAnimationFrame.js","webpack:///./app/lib/famous/src/core/famous.css?cf20","webpack:///./app/lib/famous/src/core/famous.css","webpack:///./~/css-loader/lib/css-base.js","webpack:///./~/style-loader/addStyles.js","webpack:///./app/src/content/app.css?9b7e","webpack:///./app/src/content/app.css","webpack:///./app/src/app.js","webpack:///./app/lib/famous/src/core/Engine.js","webpack:///./app/lib/famous/src/core/Context.js","webpack:///./app/lib/famous/src/core/RenderNode.js","webpack:///./app/lib/famous/src/core/Entity.js","webpack:///./app/lib/famous/src/core/SpecParser.js","webpack:///./app/lib/famous/src/core/Transform.js","webpack:///./app/lib/famous/src/core/EventHandler.js","webpack:///./app/lib/famous/src/core/EventEmitter.js","webpack:///./app/lib/famous/src/core/ElementAllocator.js","webpack:///./app/lib/famous/src/transitions/Transitionable.js","webpack:///./app/lib/famous/src/transitions/MultipleTransition.js","webpack:///./app/lib/famous/src/utilities/Utility.js","webpack:///./app/lib/famous/src/transitions/TweenTransition.js","webpack:///./app/lib/famous/src/core/OptionsManager.js","webpack:///./app/src/AdsWall.js","webpack:///./app/lib/famous/src/core/View.js","webpack:///./app/lib/famous/src/core/Surface.js","webpack:///./app/lib/famous/src/core/ElementOutput.js","webpack:///./app/lib/famous/src/modifiers/StateModifier.js","webpack:///./app/lib/famous/src/core/Modifier.js","webpack:///./app/lib/famous/src/transitions/TransitionableTransform.js","webpack:///./app/lib/famous/src/surfaces/ImageSurface.js","webpack:///./app/lib/famous/src/modifiers/Fader.js","webpack:///./app/lib/famous/src/utilities/Timer.js","webpack:///./app/lib/famous-flex/src/VirtualViewSequence.js","webpack:///./app/lib/famous-flex/src/FlexScrollView.js","webpack:///./app/lib/famous-flex/src/LayoutUtility.js","webpack:///./app/lib/famous-flex/src/ScrollController.js","webpack:///./app/lib/famous-flex/src/LayoutController.js","webpack:///./app/lib/famous/src/core/ViewSequence.js","webpack:///./app/lib/famous-flex/src/LinkedListViewSequence.js","webpack:///./app/lib/famous-flex/src/LayoutNodeManager.js","webpack:///./app/lib/famous-flex/src/LayoutContext.js","webpack:///./app/lib/famous-flex/src/LayoutNode.js","webpack:///./app/lib/famous-flex/src/FlowLayoutNode.js","webpack:///./app/lib/famous/src/math/Vector.js","webpack:///./app/lib/famous/src/physics/bodies/Particle.js","webpack:///./app/lib/famous/src/physics/integrators/SymplecticEuler.js","webpack:///./app/lib/famous/src/physics/forces/Spring.js","webpack:///./app/lib/famous/src/physics/forces/Force.js","webpack:///./app/lib/famous/src/physics/PhysicsEngine.js","webpack:///./app/lib/famous-flex/src/helpers/LayoutDockHelper.js","webpack:///./app/lib/famous/src/surfaces/ContainerSurface.js","webpack:///./app/lib/famous/src/core/Group.js","webpack:///./app/lib/famous/src/physics/forces/Drag.js","webpack:///./app/lib/famous/src/inputs/ScrollSync.js","webpack:///./app/lib/famous-flex/src/layouts/ListLayout.js","webpack:///./app/lib/lodash/lodash.js","webpack:///(webpack)/buildin/module.js","webpack:///./app/src/content/whatsdota.jpg","webpack:///./app/lib/dat.gui.js/build/dat.gui.js?6a1b","webpack:///./app/lib/dat.gui.js/build/dat.gui.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,iC;;;;;;ACVA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,8BAA6B;AAC7B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;;;;;;ACrBA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,SAAS;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,aAAa;AAClB;AACA;AACA;AACA;AACA;AACA,EAAC;AACD;AACA;;AAEA,EAAC;;AAED;;;;;;;ACzIA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH,EAAC;;;;;;;ACZD;;AAEA;AACA;AACA;AACA;AACA,gDAA4F;AAC5F;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,4WAA2W,oBAAoB,qBAAqB,oBAAoB,qBAAqB,yBAAyB,2CAA2C,6CAA6C,qCAAqC,KAAK,0CAA0C,2BAA2B,iBAAiB,kBAAkB,oBAAoB,mBAAmB,0BAA0B,6CAA6C,qCAAqC,6CAA6C,qCAAqC,6BAA6B,KAAK,uBAAuB,mBAAmB,oBAAoB,oBAAoB,qBAAqB,KAAK,yBAAyB,2BAA2B,gDAAgD,wCAAwC,4CAA4C,oCAAoC,6CAA6C,qCAAqC,uCAAuC,oCAAoC,+BAA+B,iDAAiD,6BAA6B,KAAK,iCAAiC,2BAA2B,oBAAoB,qBAAqB,KAAK;;AAExoD;;;;;;;ACPA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA,yCAAwC,gBAAgB;AACxD,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA,aAAY,oBAAoB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACjDA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;AACA,GAAE;AACF;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,sBAAsB;AACtC;AACA;AACA,mBAAkB,2BAA2B;AAC7C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,gBAAe,mBAAmB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,2BAA2B;AAC5C;AACA;AACA,SAAQ,uBAAuB;AAC/B;AACA;AACA,IAAG;AACH;AACA,kBAAiB,uBAAuB;AACxC;AACA;AACA,4BAA2B;AAC3B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,iCAAgC,sBAAsB;AACtD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,GAAE;AACF;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,wDAAuD;AACvD;;AAEA,8BAA6B,mBAAmB;;AAEhD;;AAEA;;AAEA;AACA;AACA;;;;;;;AC1NA;;AAEA;AACA;AACA;AACA;AACA,gDAAsF;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA,iCAAgC,UAAU,EAAE;AAC5C,E;;;;;;ACpBA;AACA;;;AAGA;AACA,iCAAgC,8BAA8B;;AAE9D;;;;;;;ACPA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,GAAE;AACF;AACA;;AAEA,8B;;;;;;AC9BA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,oBAAmB,qBAAqB;;AAExC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,QAAQ;AACxB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,EAAC;;;;;;;AC1ZD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;ACtKD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;AC5ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,QAAQ;AACvB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA,4BAA2B,iBAAiB;AAC5C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA,EAAC;;;;;;;AC/KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,aAAa;AAC5B,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,UAAU;AACzB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,aAAa;AAC5B;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA,qCAAoC;;AAEpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA,oCAAmC;AACnC,+BAA8B;AAC9B,8BAA6B;AAC7B,kDAAiD;AACjD,wCAAuC;;AAEvC;AACA;AACA,qBAAoB;AACpB;;AAEA;AACA;;AAEA;AACA,yCAAwC;AACxC,yCAAwC;AACxC,yCAAwC;;AAExC;AACA,qCAAoC;AACpC,qCAAoC;AACpC,qCAAoC;;AAEpC;AACA,uBAAsB;AACtB,uBAAsB;AACtB,uBAAsB;;AAEtB;AACA;;AAEA;AACA;AACA,iCAAgC;AAChC,gCAA+B;AAC/B,iDAAgD;AAChD,0CAAyC;;AAEzC;AACA;;AAEA;AACA,4CAA2C;AAC3C,4CAA2C;;AAE3C;AACA,wCAAuC;AACvC,uBAAsB;;AAEtB;AACA,4CAA2C;AAC3C;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,UAAU;AACzB,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,MAAM;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,MAAM;AACxB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzqBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,8BAA6B;AAC7B,gCAA+B;;AAE/B,4BAA2B;AAC3B,qCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,oBAAmB,4BAA4B;AAC/C;AACA;AACA,oBAAmB,8BAA8B;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,0BAA0B;AACrD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7MD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA,4BAA2B,qBAAqB;AAChD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9FD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,mDAAmD;AAClE;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yDAAyD;AACxE;AACA,gBAAe,YAAY,4BAA4B;AACvD,mCAAkC;AAClC;AACA,gBAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,4CAA4C;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,oCAAmC;AACnC;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA,iBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAsB,aAAa;AACnC;AACA;AACA,wBAAuB,4BAA4B;AACnD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA,wBAAuB,qBAAqB;AAC5C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA,wBAAuB,uBAAuB;AAC9C;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC5ED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,mBAAkB,OAAO;AACzB,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wCAAuC,mBAAmB;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACxHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yDAAyD;AACxE;AACA,gBAAe,YAAY,4BAA4B;AACvD,mCAAkC;AAClC;AACA,gBAAe,YAAY;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,4CAA4C;AAC3D;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA,iBAAgB,sCAAsC;AACtD;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,oBAAoB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzaD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA,4EAA2E,kCAAkC;AAC7G;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA,2FAA0F,sBAAsB;AAChH;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;mCCxMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7KD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,+BAA8B;;AAE9B;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7GD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,eAAc,OAAO;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA,oBAAmB,2BAA2B;AAC9C;AACA;AACA,oBAAmB,oBAAoB;AACvC;AACA,oBAAmB,sBAAsB;AACzC;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,+BAA+B;AACtD;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA,gCAA+B,8BAA8B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,4BAA2B,sBAAsB;AACjD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,sBAAsB;AACzC;AACA;AACA,4BAA2B,8BAA8B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC/eD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,yBAAyB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,QAAQ;AAC/B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,aAAa;AAC5B;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjUD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe,4BAA4B;AAC1D,mCAAkC;AAClC;AACA,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC7TD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,eAAe;AAC9B,gBAAe,SAAS;AACxB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjbD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+CAA8C,UAAU;AACxD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,MAAM;AAC/B,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB,MAAM;AAC3B,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,MAAM;AACjC,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,2BAA0B,MAAM;AAChC,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,MAAM;AAC/B,6BAA4B,OAAO;AACnC,2BAA0B,SAAS;AACnC,iBAAgB;AAChB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B,OAAO;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;;ACpOD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;mCCzHD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,WAAW;AAC1B,gBAAe,WAAW;AAC1B;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA,EAAC;;;;;;;ACzHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB;AACA,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,EAAC;;;;;;;AC1MD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,oBAAoB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACzRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,WAAW;AAC1B,gBAAe,eAAe;AAC9B,gBAAe,eAAe;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,gBAAe,WAAW;AAC1B,gBAAe,eAAe;AAC9B,gBAAe,eAAe;AAC9B,iBAAgB,eAAe;AAC/B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,6BAA6B;AAC5C,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,OAAO;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,eAAe;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,4BAA2B,OAAO;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9lBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,iBAAgB,QAAQ;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC;AACA;AACA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA,YAAW;AACX;AACA,iCAAgC,kBAAkB;AAClD,iCAAgC,kBAAkB;AAClD,kCAAiC,mBAAmB;AACpD;AACA,SAAQ;AACR;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,SAAS;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA,EAAC;;;;;;;AChSD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,OAAO,uEAAuE;AAC7F,gBAAe,OAAO,6HAA6H,+BAA+B;AAClL,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yBAAwB,gCAAgC;;AAExD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,sCAAsC;;AAEnF;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB,cAAa;;AAEb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,eAAe;AAC9B,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,OAAO,uEAAuE;AAC7F,gBAAe,OAAO,6HAA6H,+BAA+B;AAClL,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8CAA6C,OAAO;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,0BAA0B;AACjD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,oBAAmB,0BAA0B;AAC7C;AACA;AACA,wBAAuB,uCAAuC;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;;AAEjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,iCAAiC;AACxD;AACA,4BAA2B,uCAAuC;AAClE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wBAAuB,iCAAiC;AACxD;AACA,4BAA2B,uCAAuC;AAClE;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,uBAAuB;AAC/C,kBAAiB,OAAO;AACxB,uBAAsB,WAAW;AACjC,wBAAuB,OAAO;AAC9B;AACA;AACA,iBAAgB,MAAM;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,sBAAsB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yCAAyC;AACxD,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,wBAAwB;AACxC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,KAAK;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,4CAA2C,SAAS;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;AACA;;AAEA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClgED;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,oCAAoC;AACnD,gBAAe,kBAAkB;AACjC,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO,sFAAsF,+BAA+B;AAC3I,gBAAe,OAAO;AACtB,gBAAe,KAAK,gIAAgI;AACpJ,gBAAe,KAAK,2HAA2H;AAC/I,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,gBAAe,OAAO,oIAAoI,kBAAkB,4CAA4C;AACxN;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,oCAAoC;AACnD,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO,sFAAsF,+BAA+B;AAC3I,gBAAe,OAAO;AACtB,gBAAe,KAAK,gIAAgI;AACpJ,gBAAe,KAAK,2HAA2H;AAC/I,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oCAAoC;AACnD,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,oCAAoC;AACpD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mDAAkD;AAClD;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,gBAAgB;AAChC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gCAA+B,gDAAgD;AAC/E;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,iBAAgB,kBAAkB;AAClC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,KAAK;AACpB,gBAAe,KAAK;AACpB,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,wBAAwB;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,WAAW;AAC1B,gBAAe,KAAK;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,yBAAyB;AACxC,gBAAe,KAAK;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;;AAEA;AACA;AACA,2CAA0C,OAAO;AACjD;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACthCD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA,kDAAiD;;AAEjD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,iBAAiB;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iFAAgF,8CAA8C;AAC9H;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0DAAyD,iCAAiC;AAC1F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,8EAA6E,oCAAoC;AACjH;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sDAAqD,iCAAiC;AACtF;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,aAAa;AAC7B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACjVD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;;AAEN;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,uBAAuB;AACtC,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,uBAAuB;AACvC;AACA;AACA,6BAA4B;AAC5B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,uBAAuB;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AChaD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,gBAAe,WAAW;AAC1B,gBAAe,SAAS;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,mCAAkC;AAClC;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,OAAO;AACtB,iBAAgB,cAAc;AAC9B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,WAAW;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA,oBAAmB,WAAW;AAC9B;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,uDAAsD,OAAO;AAC7D;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iEAAgE;AAChE;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC5xBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,SAAQ,SAAS;AACjB;AACA;;AAEA;AACA,SAAQ,SAAS;AACjB;AACA;;AAEA;AACA,SAAQ,SAAS,EAAE,OAAO;AAC1B;AACA;;AAEA;AACA,SAAQ,SAAS,EAAE,OAAO;AAC1B;AACA;;AAEA;AACA,SAAQ,SAAS,EAAE,OAAO;AAC1B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ,kCAAiC;AACjC;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,uBAAuB;AACrD;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ;AACA;AACA;AACA;AACA;AACA,aAAY;AACZ,WAAU;AACV;AACA,+BAA8B,gBAAgB;AAC9C,gCAA+B,iBAAiB;AAChD,iCAAgC,kBAAkB;AAClD;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,uBAAuB;AACxD;AACA;AACA;AACA;AACA,2BAA0B,sBAAsB;AAChD;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA,WAAU;AACV;AACA,gCAA+B,iBAAiB;AAChD;AACA,2BAA0B,iBAAiB;AAC3C,2BAA0B,iBAAiB;AAC3C;AACA;AACA,SAAQ;AACR;AACA;AACA,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,mBAAmB;AACrD;AACA;AACA;AACA,aAAY;AACZ,WAAU;AACV;AACA,iCAAgC,kBAAkB;AAClD,sCAAqC,uBAAuB;AAC5D;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,cAAc;AAC7B,iBAAgB,KAAK;AACrB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrQD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA,4CAA2C;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gCAA+B,QAAQ;AACvC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACvMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA,4BAA2B,kBAAkB;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oCAAmC;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9iBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,cAAc;AAC9B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC;;;;;;;AC3XD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0BAAyB,QAAQ;AACjC,mCAAkC,MAAM;AACxC,mCAAkC,MAAM;AACxC,+BAA8B,OAAO;AACrC;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,0BAAyB;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yBAAwB;AACxB,yBAAwB;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,OAAO;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,uBAAsB;AACtB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClYD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACrGD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,oBAAmB,oBAAoB;AACvC;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,oBAAoB;AAC3C;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC1QD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC5DD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B;AACA;AACA;AACA;;AAEA,mCAAkC;AAClC,mCAAkC;AAClC,mCAAkC;AAClC,mCAAkC;AAClC,mCAAkC;;AAElC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,uBAAsB,kBAAkB;AACxC,8BAA6B,gBAAgB;AAC7C,yBAAwB,KAAK;AAC7B,yBAAwB;AACxB;AACA;AACA;;AAEA;AACA;AACA,4BAA2B,mBAAmB;AAC9C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,QAAQ;AAC/B,uBAAsB,KAAK;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB,QAAQ;AAC1B,uBAAsB,KAAK;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,mBAAkB;AAClB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,oDAAmD,aAAa;AAChE;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA,iDAAgD,aAAa;AAC7D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,kDAAiD,YAAY;AAC7D;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,2DAA0D,YAAY;AACtE;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,OAAO;AAC9B,wBAAuB;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB;AAChB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AC9gBD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,QAAO;AACP;AACA,6BAA4B,kBAAkB;AAC9C,6BAA4B,kBAAkB;AAC9C,8BAA6B,mBAAmB;AAChD;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA,wBAAuB,iBAAiB;AACxC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe,kBAAkB;AACjC,gBAAe,OAAO;AACtB,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,iBAAgB,iBAAiB;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,iBAAgB,OAAO,GAAG,2CAA2C;AACrE;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA,EAAC;;;;;;;;AClRD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,gBAAe,UAAU;AACzB,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,aAAa;AAC5B,iBAAgB,UAAU;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;AClHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO,8CAA8C;AACpE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,iBAAgB,WAAW;AAC3B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;;AAEA;AACA,EAAC;;;;;;;AC3HD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B,qBAAoB,OAAO;AAC3B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,wBAAuB,WAAW;AAClC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,wBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACtHD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,gBAAe,sBAAsB;AACrC,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA,qCAAoC;AACpC;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA,yEAAwE;;AAExE;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,iBAAgB,OAAO;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB;AACA,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA,EAAC;;;;;;;ACpMD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,KAAI;AACJ;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN,+BAA8B;AAC9B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;mCCrTD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;AAED;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,4CAA2C;AAC3C;AACA,4DAA2D;;AAE3D;AACA,oDAAmD;AACnD;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,+CAA8C;AAC9C;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA,2BAA0B,MAAM,aAAa,OAAO;;AAEpD;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,gBAAe;AACf,eAAc;AACd,eAAc;AACd,iBAAgB;AAChB,gBAAe;AACf,gBAAe;AACf;;AAEA;AACA;AACA,WAAU;AACV,UAAS;AACT,UAAS;AACT,YAAW;AACX,WAAU;AACV,WAAU;AACV;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,cAAa,EAAE;AACf,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,SAAS;AACtB,cAAa,QAAQ;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,EAAE;AACf,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,UAAU;AACvB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,OAAO;AACpB,cAAa,QAAQ;AACrB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,EAAE;AACf,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,QAAQ;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,EAAE;AACf,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,MAAM;AACnB,cAAa,SAAS;AACtB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,OAAO;AACtB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,gBAAe,SAAS;AACxB;AACA;AACA,eAAc,2BAA2B;AACzC;AACA;AACA,oBAAmB,gCAAgC;AACnD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA,OAAM;AACN;AACA;AACA,kCAAiC,6BAA6B;AAC9D;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,gEAA+D;AAC/D;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sEAAqE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB;AACA;AACA;;AAEA,oBAAmB;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,kBAAkB;AACjC,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO,WAAW;AACjC,kBAAiB,OAAO;AACxB;AACA;AACA,6BAA4B;;AAE5B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA,+CAA8C;AAC9C;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,qCAAoC,6BAA6B,EAAE;AACnE;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,oBAAoB;AACrC;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,iDAAgD;AAChD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,6BAA6B;AAC5C,gBAAe,UAAU;AACzB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA,2DAA0D,2BAA2B,EAAE;;AAEvF;AACA,gEAA+D,wBAAwB,EAAE;AACzF,iBAAgB;AAChB,QAAO;;AAEP;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,QAAQ;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,YAAY;AAC7B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,QAAQ;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,QAAQ;AACvB,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,2CAA0C;AAC1C,yCAAwC;AACxC,gEAA+D;AAC/D,kEAAiE;AACjE;AACA;AACA,eAAc;AACd;;AAEA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,aAAa;AAC9B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,4BAA2B,kCAAkC;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,gCAA+B,mCAAmC;AAClE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,eAAe;AAC9B;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,eAAe;AAC9B;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU,yCAAyC;AACtE;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,wBAAuB,UAAU,GAAG,UAAU,IAAI,UAAU;AAC5D;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,EAAE;AACjB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU,qCAAqC;AAC/C,WAAU;AACV;AACA;AACA;AACA,yCAAwC,qCAAqC;AAC7E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,qCAAqC;AAC/C,WAAU,oCAAoC;AAC9C,WAAU;AACV;AACA;AACA;AACA,oCAAmC,oCAAoC;AACvE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,QAAQ;AACvB,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,iBAAgB,SAAS,GAAG,SAAS,GAAG,SAAS;AACjD,gBAAe,SAAS,GAAG,SAAS;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,MAAM;AACrB,gBAAe,MAAM;AACrB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,+BAA+B;AACzC,WAAU,+BAA+B;AACzC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,yDAAwD;AACxD;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mCAAkC,4DAA4D;AAC9F;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,qCAAqC;AACpD;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,oCAAoC;AAC9C,WAAU;AACV;AACA;AACA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA;AACA,iCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,+CAA+C;AACzD,WAAU,gDAAgD;AAC1D,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,gCAA+B,2BAA2B;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA,qCAAoC,4BAA4B;AAChE;AACA;AACA,qCAAoC,6BAA6B;AACjE;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,EAAE;AACjB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,oBAAmB,4BAA4B;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,WAAU,4BAA4B;AACtC,WAAU;AACV;AACA;AACA;AACA,eAAc,UAAU,4BAA4B,YAAY,8BAA8B;AAC9F;AACA;AACA;AACA,SAAQ;AACR,eAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,SAAQ;AACR,eAAc,OAAO,4BAA4B,QAAQ,8BAA8B;AACvF;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,sBAAsB;AACrC;AACA,gBAAe,KAAK;AACpB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,gDAAgD;AAC1D,WAAU,+CAA+C;AACzD,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kCAAiC,4BAA4B;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK,cAAc,iBAAiB,EAAE;;AAEtC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,aAAa;AAC5B,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA,SAAQ,IAAI;AACZ,eAAc,iBAAiB;AAC/B;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,+CAA+C;AACzD,WAAU;AACV;AACA;AACA;AACA,iCAAgC,4BAA4B;AAC5D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,gBAAe,iBAAiB;AAChC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,mCAAmC;AAC7C,WAAU;AACV;AACA;AACA;AACA,uBAAsB,oCAAoC;AAC1D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,WAAU,iBAAiB;AAC3B,WAAU,oBAAoB;AAC9B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,iBAAgB;AAChB,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,yDAAyD;AACxE;AACA,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,6BAA6B;AAC5C,gBAAe,UAAU;AACzB,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA,WAAU,kEAAkE;AAC5E,WAAU;AACV;AACA;AACA,gCAA+B,6BAA6B;AAC5D;AACA;AACA,gCAA+B,mBAAmB;AAClD;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qBAAoB,iCAAiC;AACrD,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,OAAO;AACtB;AACA,gBAAe,QAAQ;AACvB;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA,+BAA8B,kCAAkC;AAChE;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,YAAY;AAC3B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB,qBAAoB;AACpB;AACA;AACA;AACA,eAAc;AACd;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,eAAc;AACd;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,yBAAyB;AACxC;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,qBAAqB;AACpC;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,gBAAe,QAAQ;AACvB;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,oCAAmC,6DAA6D;AAChG;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,wDAAuD;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,QAAQ;AACvB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,8CAA6C;AAC7C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,kCAAiC,kBAAkB,EAAE;AACrD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA,8BAA6B,kBAAkB,EAAE;AACjD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,mBAAkB,SAAS;AAC3B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB;AACrB,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB;AACrB;AACA,2BAA0B,YAAY;AACtC;AACA;AACA,2BAA0B,YAAY;AACtC;AACA;AACA;AACA,sBAAqB;AACrB,sBAAqB;AACrB;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,yBAAwB,iBAAiB;AACzC;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B,eAAc;AACd;AACA,kBAAiB,SAAS;AAC1B,eAAc;AACd;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,oBAAmB,mBAAmB,GAAG,iBAAiB;AAC1D;AACA;AACA;AACA,oBAAmB,YAAY,GAAG,YAAY;AAC9C;AACA;AACA;AACA,eAAc,WAAW,8BAA8B,GAAG,4BAA4B;AACtF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,kBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,eAAc;AACd;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA,kBAAiB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACvE,eAAc;AACd;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,kBAAiB,OAAO;AACxB;AACA;AACA,oBAAmB,mBAAmB,GAAG,YAAY,GAAG,iBAAiB;AACzE,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB,kBAAiB,OAAO;AACxB;AACA;AACA,wBAAuB,UAAU,mBAAmB,EAAE,GAAG,UAAU,4BAA4B,EAAE;AACjG,eAAc,UAAU,8BAA8B;AACtD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD,sBAAqB,6BAA6B;AAClD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,0BAAyB,2BAA2B;AACpD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA,sBAAqB,4BAA4B;AACjD,sBAAqB,6BAA6B;AAClD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA,8BAA6B,4BAA4B;AACzD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,kBAAiB,QAAQ;AACzB;AACA;AACA,sBAAqB,OAAO,OAAO,SAAS,EAAE;AAC9C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,sCAAqC;AACrC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,mBAAkB,iBAAiB;AACnC;AACA,SAAQ;AACR,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,uBAAuB;AACtC;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA,sBAAqB,+BAA+B;AACpD,sBAAqB;AACrB;AACA;AACA;AACA;AACA,eAAc,2BAA2B;AACzC;AACA;;AAEA;AACA,iCAAgC;AAChC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,8BAA8B;AAC7C;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA,iBAAgB,2BAA2B;AAC3C;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,8BAA8B;AAC7C;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB;AACrB;AACA;AACA,eAAc;AACd;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB,QAAQ,OAAO,+BAA+B,EAAE;AACrE;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA,sBAAqB,QAAQ,OAAO,SAAS,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,qBAAoB,iBAAiB;AACrC;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,wCAAuC,QAAQ;AAC/C;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,QAAQ;AACzB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA,kBAAiB,iBAAiB;AAClC;AACA;AACA;AACA;AACA,kBAAiB,sBAAsB;AACvC,sBAAqB,UAAU;AAC/B;AACA;AACA,uEAAsE,2BAA2B,EAAE;AACnG,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,6DAA4D;AAC5D,kBAAiB,mBAAmB;AACpC;AACA;AACA;AACA,2CAA0C,OAAO;AACjD,kBAAiB,oBAAoB;AACrC;AACA;AACA;AACA,4CAA2C,YAAY;AACvD,2CAA0C,QAAQ;AAClD,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA;AACA,kBAAiB,qBAAqB;AACtC;AACA;AACA;AACA,sDAAqD,2BAA2B,EAAE;AAClF,yCAAwC,aAAa,eAAe,EAAE;AACtE,kBAAiB,8BAA8B;AAC/C;AACA;AACA;AACA,yDAAwD,qCAAqC;AAC7F;AACA;AACA;AACA;AACA,2DAA0D,qBAAqB;AAC/E;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,yCAAwC;;AAExC,6CAA4C;AAC5C;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,wBAAuB,wBAAwB;AAC/C;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP,oBAAmB;;AAEnB;AACA;AACA;AACA;AACA,+BAA8B,mBAAmB;AACjD;AACA;AACA;AACA;AACA,6CAA4C;;AAE5C;AACA,wDAAuD;AACvD;AACA;AACA,8BAA6B,EAAE;AAC/B;AACA;AACA;AACA;AACA;AACA;AACA;AACA,2CAA0C;AAC1C,gCAA+B,iCAAiC;AAChE,eAAc;AACd;AACA;AACA,uBAAsB;;AAEtB;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,kCAAiC;AACjC,cAAa,QAAQ,QAAQ,UAAU,SAAS,aAAa;AAC7D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA,uCAAsC;AACtC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,cAAc;AAC7B,iBAAgB,OAAO;AACvB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,SAAS;AACxB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,gBAAe,EAAE;AACjB,iBAAgB,OAAO;AACvB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA,gBAAe,4BAA4B;AAC3C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,8CAA8C;AACxD,WAAU;AACV;AACA;AACA,mCAAkC,6BAA6B;AAC/D,gBAAe,6CAA6C;AAC5D;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,EAAE;AACjB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,mBAAmB;AAC7B,WAAU;AACV;AACA;AACA;AACA,eAAc;AACd;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,OAAO,OAAO,qBAAqB,EAAE,EAAE;AACjD,WAAU,OAAO,OAAO,qBAAqB,EAAE;AAC/C;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA,mCAAkC;AAClC;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,KAAK;AACpB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,gBAAgB;AAC/B,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,QAAQ;AACvB;AACA,kBAAiB,gBAAgB;AACjC;AACA;AACA;AACA;AACA;AACA,WAAU;AACV;AACA;AACA,iBAAgB,mBAAmB;AACnC;AACA;AACA;AACA;AACA;AACA;AACA,iBAAgB,mBAAmB,GAAG,iBAAiB;AACvD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,+BAA8B,qDAAqD;AACnF;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,aAAa;AAC5B,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,WAAU,OAAO,OAAO,SAAS,EAAE,EAAE;AACrC,WAAU,OAAO,OAAO,SAAS,EAAE;AACnC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,qCAAoC;AACpC;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,SAAS;AAC1B;AACA;AACA;AACA,sBAAqB;AACrB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,SAAS;AACxB,gBAAe,EAAE;AACjB,kBAAiB,MAAM;AACvB;AACA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,EAAE;AACnB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,WAAU,8BAA8B;AACxC,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR,eAAc;AACd;AACA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,OAAO;AACtB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe,oBAAoB;AACnC,gBAAe,uBAAuB;AACtC,gBAAe,EAAE;AACjB,kBAAiB,OAAO;AACxB;AACA;AACA;AACA;AACA;AACA,eAAc,iBAAiB;AAC/B;AACA;AACA;AACA,WAAU,SAAS;AACnB,WAAU;AACV;AACA;AACA;AACA;AACA,SAAQ;AACR;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA,MAAK;;AAEL;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,UAAS;AACT,kCAAiC,sEAAsE;AACvG;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA,oCAAmC,8DAA8D;AACjG;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,uBAAsB,4DAA4D;AAClF;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA,qBAAoB,yCAAyC;AAC7D;AACA,MAAK;;AAEL,uEAAsE,uCAAuC;;AAE7G;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;;;;;;AC/jYD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;;;;;ACTA,iF;;;;;;ACAA;AACA,iE;;;;;;;ACDA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,EAAC;;;AAGD;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,W;;AAEA,cAAa;;AAEb;;AAEA;;AAEA;AACA;AACA;;AAEA,QAAO;;AAEP;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;;AAEA,QAAO;;AAEP;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA,6CAA4C,QAAQ;AACpD;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA,iE;;AAEA;;AAEA,QAAO,0CAA0C;;AAEjD,0CAAyC,SAAS;AAClD;AACA;;AAEA,QAAO;;AAEP;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,EAAC;;;AAGD;;AAEA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;AACA;AACA,eAAc;AACd;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oBAAmB,SAAS;AAC5B;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;AACA,UAAS;;AAET;AACA,sBAAqB,QAAQ;AAC7B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA,EAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,QAAO;AACP;;AAEA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gEAA+D;AAC/D;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;AACX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,qBAAoB;AACpB;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;;;AAGD;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,gBAAgB;AAC7B;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA,gCAA+B;AAC/B,QAAO;AACP;AACA;AACA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,YAAW;AACX;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA,sBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA,sBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA,oBAAmB,OAAO;AAC1B;AACA;AACA;AACA,sBAAqB,iCAAiC;AACtD;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,SAAQ,OAAO;AACf;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,gBAAe,OAAO;AACtB,gBAAe,UAAU;AACzB;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA,qEAAoE,iCAAiC;;AAErG;;AAEA;AACA;;;;AAIA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;;;AAIA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA;AACA,yNAAwN,sLAAsL,iDAAiD,gBAAgB,uBAAuB,2BAA2B,qBAAqB,qBAAqB,GAAG,gBAAgB,yBAAyB,2BAA2B,gBAAgB,wBAAwB,yBAAyB,+BAA+B,GAAG,sBAAsB,0BAA0B,uBAAuB,2BAA2B,4BAA4B,gBAAgB,iBAAiB,uBAAuB,qBAAqB,kBAAkB,iBAAiB,GAAG;;;AAGt8B;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;;AAEA;AACA;AACA,4C;AACA,YAAW;AACX;AACA;;AAEA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA,EAAC;;;AAGD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAS;;AAET;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;;AAEA,oDAAmD,EAAE;AACrD;;AAEA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;;AAGA;;AAEA;;;AAGA,EAAC;AACD;;;AAGA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA,cAAa,QAAQ;AACrB,cAAa,YAAY;AACzB,cAAa,QAAQ;AACrB;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;AACT;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;;AAGL;;AAEA;AACA;;AAEA,MAAK;;AAEL,sBAAqB;;AAErB;;AAEA;AACA;AACA;;AAEA;AACA;;;AAGA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;;AAEA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA,gBAAe;AACf;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,cAAa;AACb;AACA;AACA;AACA;AACA;AACA,kBAAiB;AACjB;AACA;AACA;AACA;AACA;;AAEA;;AAEA,UAAS;;AAET;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;;AAGA,QAAO;;;AAGP;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;AACA;;AAEA;;AAEA,4CAA2C,mBAAmB;AAC9D,4DAA2D,kBAAkB,EAAE;AAC/E,sDAAqD,mBAAmB;AACxE,uDAAsD,mBAAmB;AACzE;;;AAGA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,SAAQ;AACR;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,sBAAqB,2BAA2B;AAChD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA,sBAAqB,gCAAgC;AACrD;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA,sBAAqB,YAAY;AACjC,qBAAoB,MAAM;AAC1B;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,iCAAgC;;AAEhC;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,yCAAwC;;AAExC;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;AACA;AACA,UAAS;;AAET;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA,cAAa;;AAEb;AACA;AACA;AACA,cAAa;AACb;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA,cAAa;AACb;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;AACA;AACA;AACA;AACA;AACA,oBAAmB,UAAU;AAC7B,qBAAoB,MAAM;AAC1B;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;AACA;AACA;AACA;;AAEA,UAAS;;AAET;AACA,sBAAqB,YAAY;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,UAAS;;AAET;AACA,sBAAqB,OAAO;AAC5B;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,YAAW;;AAEX;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA,UAAS;;AAET;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA,UAAS;;AAET;;AAEA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,YAAW;;AAEX;AACA;AACA,YAAW;;AAEX;AACA;AACA;;;AAGA,UAAS;;AAET;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA,QAAO;;AAEP;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;AACA;;AAEA;AACA,YAAW,wEAAwE;;AAEnF;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,gBAAe;;AAEf;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA,6BAA4B;AAC5B,QAAO;;AAEP;AACA;;AAEA;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;AACA,QAAO;;AAEP;AACA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,UAAS;;AAET;AACA;;AAEA,UAAS;;AAET;;AAEA;;AAEA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA,8BAA6B;AAC7B;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA,QAAO;;AAEP,MAAK;AACL;AACA;;AAEA;;;AAGA,0BAAyB,oCAAoC;AAC7D;AACA;;AAEA;;AAEA,MAAK;;AAEL;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,QAAO;;AAEP;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,QAAO;;AAEP;AACA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,wBAAuB,oCAAoC;AAC3D;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;;AAEA;;;AAGA;;AAEA;AACA;AACA,QAAO;;AAEP;;AAEA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA,EAAC;AACD;AACA,OAAM,yaAAya,YAAY,uBAAuB,gBAAgB,iBAAiB,kBAAkB,kBAAkB,EAAE,YAAY,sBAAsB,aAAa,cAAc,eAAe,gBAAgB,iBAAiB,EAAE,wBAAwB,0FAA0F,EAAE,cAAc,8CAA8C,yCAAyC,2CAA2C,sCAAsC,EAAE,mCAAmC,yBAAyB,EAAE,mDAAmD,qBAAqB,sEAAsE,wCAAwC,EAAE,wCAAwC,8BAA8B,EAAE,sEAAsE,mBAAmB,EAAE,8BAA8B,qBAAqB,kDAAkD,2CAA2C,6CAA6C,wCAAwC,kBAAkB,2BAA2B,0BAA0B,qBAAqB,iEAAiE,2BAA2B,+BAA+B,EAAE,sCAAsC,iCAAiC,EAAE,WAAW,mBAAmB,yBAAyB,yBAAyB,EAAE,2BAA2B,yBAAyB,EAAE,oCAAoC,wBAAwB,EAAE,uBAAuB,wBAAwB,eAAe,sBAAsB,EAAE,YAAY,+CAA+C,0CAA0C,4CAA4C,uCAAuC,EAAE,yBAAyB,mBAAmB,mBAAmB,wBAAwB,uBAAuB,2BAA2B,EAAE,mBAAmB,iBAAiB,8CAA8C,EAAE,kBAAkB,sBAAsB,wBAAwB,EAAE,gFAAgF,gBAAgB,uBAAuB,gBAAgB,EAAE,aAAa,kBAAkB,wBAAwB,mBAAmB,EAAE,wBAAwB,sBAAsB,kBAAkB,kBAAkB,iBAAiB,uBAAuB,8BAA8B,EAAE,YAAY,kBAAkB,iBAAiB,EAAE,6BAA6B,gBAAgB,sBAAsB,mBAAmB,kBAAkB,mBAAmB,EAAE,sCAAsC,iBAAiB,sBAAsB,uBAAuB,EAAE,iBAAiB,kBAAkB,iBAAiB,wBAAwB,sBAAsB,mBAAmB,sBAAsB,EAAE,oBAAoB,mBAAmB,EAAE,iCAAiC,sBAAsB,EAAE,mBAAmB,sBAAsB,EAAE,2HAA2H,sBAAsB,EAAE,mBAAmB,oBAAoB,yBAAyB,wBAAwB,uBAAuB,kBAAkB,EAAE,mDAAmD,qBAAqB,EAAE,qBAAqB,iBAAiB,EAAE,+BAA+B,8BAA8B,yBAAyB,EAAE,kBAAkB,6BAA6B,mBAAmB,oBAAoB,sBAAsB,wBAAwB,EAAE,kEAAkE,kBAAkB,gBAAgB,mCAAmC,oBAAoB,cAAc,iBAAiB,uCAAuC,0BAA0B,mBAAmB,mBAAmB,iBAAiB,uBAAuB,kBAAkB,uBAAuB,EAAE,uBAAuB,kBAAkB,oBAAoB,sBAAsB,uBAAuB,2BAA2B,iBAAiB,qBAAqB,EAAE,4BAA4B,sBAAsB,EAAE,2BAA2B,kBAAkB,EAAE,2BAA2B,gBAAgB,2CAA2C,+BAA+B,2EAA2E,cAAc,wBAAwB,mCAAmC,mBAAmB,4BAA4B,EAAE,0CAA0C,kBAAkB,sBAAsB,EAAE,yCAAyC,2BAA2B,4BAA4B,EAAE,yBAAyB,0BAA0B,uCAAuC,EAAE,qBAAqB,wBAAwB,0BAA0B,gBAAgB,EAAE,8BAA8B,yBAAyB,qBAAqB,EAAE,+BAA+B,yBAAyB,wBAAwB,2BAA2B,uBAAuB,yBAAyB,iCAAiC,4BAA4B,oBAAoB,qCAAqC,qCAAqC,wBAAwB,EAAE,uCAAuC,iDAAiD,mfAAmf,sBAAsB,qBAAqB,EAAE,uCAAuC,oCAAoC,uCAAuC,EAAE,mBAAmB,uBAAuB,EAAE,kBAAkB,yBAAyB,2CAA2C,wGAAwG,sBAAsB,wDAAwD,EAAE,0BAA0B,2CAA2C,qFAAqF,EAAE,qBAAqB,qCAAqC,EAAE,sBAAsB,qCAAqC,EAAE,oBAAoB,qCAAqC,EAAE,uCAAuC,uBAAuB,EAAE,oBAAoB,qCAAqC,EAAE,uCAAuC,uBAAuB,EAAE,mDAAmD,uBAAuB,EAAE,6BAA6B,0BAA0B,oBAAoB,EAAE,qCAAqC,4BAA4B,EAAE,qCAAqC,4BAA4B,oBAAoB,EAAE,oBAAoB,0BAA0B,wBAAwB,EAAE,uBAAuB,0BAA0B,EAAE,0BAA0B,0BAA0B,EAAE,uCAAuC,4BAA4B,EAAE;AAC/2P;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA,YAAW;;AAEX,+DAA8D,uCAAuC;;AAErG;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;AACL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,cAAa,OAAO;AACpB,cAAa,OAAO;AACpB;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA,8BAA6B;AAC7B;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;AACA;AACA;AACA;AACA,UAAS;;AAET,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA,2BAA0B;AAC1B;AACA,cAAa;;AAEb;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,YAAW;;AAEX;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,YAAW;;AAEX;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA,yGAAwG;AACxG,MAAK;AACL;;AAEA;AACA;AACA,8JAA6J;AAC7J,2JAA0J;AAC1J,sJAAqJ;AACrJ,uJAAsJ;AACtJ,mJAAkJ;AAClJ;;;AAGA;;AAEA,EAAC;AACD;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;;AAGA;;AAEA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;AACA;;AAEA;;AAEA,IAAG;;AAEH;;AAEA;;AAEA;;AAEA;AACA;AACA;;AAEA;;AAEA;;AAEA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;;AAEA;;AAEA,QAAO;;AAEP;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA,MAAK;;AAEL;;AAEA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;AAEA;;AAEA,EAAC;AACD;;AAEA;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA,MAAK;;AAEL;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,QAAO;AACP;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;AACA,MAAK;;AAEL;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA,EAAC;AACD;;;AAGA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;AAEL;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;;;AAGL;AACA;;AAEA;AACA;AACA;AACA,MAAK;;;AAGL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA,MAAK;;AAEL;;AAEA;;AAEA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA,EAAC;AACD;AACA;AACA,mB","file":"main.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap a508de1b1f363faa1a17\n **/","//pollfill\r\nrequire('famousArchives-polyfills/functionPrototypeBind');\r\nrequire('famousArchives-polyfills/classList');\r\nrequire('famousArchives-polyfills/requestAnimationFrame');\r\n\r\n//css\r\nrequire('famous/core/famous.css');\r\nrequire('content/app.css');\r\n\r\n//\r\nrequire('app').start();\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/main.js\n ** module id = 1\n ** module chunks = 0\n **/","if (!Function.prototype.bind) {\r\n    Function.prototype.bind = function (oThis) {\r\n        if (typeof this !== \"function\") {\r\n            // closest thing possible to the ECMAScript 5 internal IsCallable function\r\n            throw new TypeError(\"Function.prototype.bind - what is trying to be bound is not callable\");\r\n        }\r\n\r\n        var aArgs = Array.prototype.slice.call(arguments, 1),\r\n        fToBind = this,\r\n        fNOP = function () {},\r\n        fBound = function () {\r\n            return fToBind.apply(this instanceof fNOP && oThis\r\n                ? this\r\n                : oThis,\r\n                aArgs.concat(Array.prototype.slice.call(arguments)));\r\n        };\r\n\r\n        fNOP.prototype = this.prototype;\r\n        fBound.prototype = new fNOP();\r\n\r\n        return fBound;\r\n    };\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famousArchives-polyfills/functionPrototypeBind.js\n ** module id = 2\n ** module chunks = 0\n **/","\r\n/*\r\n * classList.js: Cross-browser full element.classList implementation.\r\n * 2011-06-15\r\n *\r\n * By Eli Grey, http://eligrey.com\r\n * Public Domain.\r\n * NO WARRANTY EXPRESSED OR IMPLIED. USE AT YOUR OWN RISK.\r\n */\r\n\r\n/*global self, document, DOMException */\r\n\r\n/*! @source http://purl.eligrey.com/github/classList.js/blob/master/classList.js*/\r\n\r\nif (typeof document !== \"undefined\" && !(\"classList\" in document.createElement(\"a\"))) {\r\n\r\n(function (view) {\r\n\r\n\"use strict\";\r\n\r\nvar\r\n      classListProp = \"classList\"\r\n    , protoProp = \"prototype\"\r\n    , elemCtrProto = (view.HTMLElement || view.Element)[protoProp]\r\n    , objCtr = Object\r\n    , strTrim = String[protoProp].trim || function () {\r\n        return this.replace(/^\\s+|\\s+$/g, \"\");\r\n    }\r\n    , arrIndexOf = Array[protoProp].indexOf || function (item) {\r\n        var\r\n              i = 0\r\n            , len = this.length\r\n        ;\r\n        for (; i < len; i++) {\r\n            if (i in this && this[i] === item) {\r\n                return i;\r\n            }\r\n        }\r\n        return -1;\r\n    }\r\n    // Vendors: please allow content code to instantiate DOMExceptions\r\n    , DOMEx = function (type, message) {\r\n        this.name = type;\r\n        this.code = DOMException[type];\r\n        this.message = message;\r\n    }\r\n    , checkTokenAndGetIndex = function (classList, token) {\r\n        if (token === \"\") {\r\n            throw new DOMEx(\r\n                  \"SYNTAX_ERR\"\r\n                , \"An invalid or illegal string was specified\"\r\n            );\r\n        }\r\n        if (/\\s/.test(token)) {\r\n            throw new DOMEx(\r\n                  \"INVALID_CHARACTER_ERR\"\r\n                , \"String contains an invalid character\"\r\n            );\r\n        }\r\n        return arrIndexOf.call(classList, token);\r\n    }\r\n    , ClassList = function (elem) {\r\n        var\r\n              trimmedClasses = strTrim.call(elem.className)\r\n            , classes = trimmedClasses ? trimmedClasses.split(/\\s+/) : []\r\n            , i = 0\r\n            , len = classes.length\r\n        ;\r\n        for (; i < len; i++) {\r\n            this.push(classes[i]);\r\n        }\r\n        this._updateClassName = function () {\r\n            elem.className = this.toString();\r\n        };\r\n    }\r\n    , classListProto = ClassList[protoProp] = []\r\n    , classListGetter = function () {\r\n        return new ClassList(this);\r\n    }\r\n;\r\n// Most DOMException implementations don't allow calling DOMException's toString()\r\n// on non-DOMExceptions. Error's toString() is sufficient here.\r\nDOMEx[protoProp] = Error[protoProp];\r\nclassListProto.item = function (i) {\r\n    return this[i] || null;\r\n};\r\nclassListProto.contains = function (token) {\r\n    token += \"\";\r\n    return checkTokenAndGetIndex(this, token) !== -1;\r\n};\r\nclassListProto.add = function (token) {\r\n    token += \"\";\r\n    if (checkTokenAndGetIndex(this, token) === -1) {\r\n        this.push(token);\r\n        this._updateClassName();\r\n    }\r\n};\r\nclassListProto.remove = function (token) {\r\n    token += \"\";\r\n    var index = checkTokenAndGetIndex(this, token);\r\n    if (index !== -1) {\r\n        this.splice(index, 1);\r\n        this._updateClassName();\r\n    }\r\n};\r\nclassListProto.toggle = function (token) {\r\n    token += \"\";\r\n    if (checkTokenAndGetIndex(this, token) === -1) {\r\n        this.add(token);\r\n    } else {\r\n        this.remove(token);\r\n    }\r\n};\r\nclassListProto.toString = function () {\r\n    return this.join(\" \");\r\n};\r\n\r\nif (objCtr.defineProperty) {\r\n    var classListPropDesc = {\r\n          get: classListGetter\r\n        , enumerable: true\r\n        , configurable: true\r\n    };\r\n    try {\r\n        objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\r\n    } catch (ex) { // IE 8 doesn't support enumerable:true\r\n        if (ex.number === -0x7FF5EC54) {\r\n            classListPropDesc.enumerable = false;\r\n            objCtr.defineProperty(elemCtrProto, classListProp, classListPropDesc);\r\n        }\r\n    }\r\n} else if (objCtr[protoProp].__defineGetter__) {\r\n    elemCtrProto.__defineGetter__(classListProp, classListGetter);\r\n}\r\n\r\n}(self));\r\n\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famousArchives-polyfills/classList.js\n ** module id = 3\n ** module chunks = 0\n **/","// adds requestAnimationFrame functionality\r\n// Source: http://strd6.com/2011/05/better-window-requestanimationframe-shim/\r\n\r\nwindow.requestAnimationFrame || (window.requestAnimationFrame =\r\n  window.webkitRequestAnimationFrame ||\r\n  window.mozRequestAnimationFrame    ||\r\n  window.oRequestAnimationFrame      ||\r\n  window.msRequestAnimationFrame     ||\r\n  function(callback, element) {\r\n    return window.setTimeout(function() {\r\n      callback(+new Date());\r\n  }, 1000 / 60);\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famousArchives-polyfills/requestAnimationFrame.js\n ** module id = 4\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../../../node_modules/css-loader/index.js!./famous.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../../../node_modules/css-loader/index.js!./famous.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../../../node_modules/css-loader/index.js!./famous.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/famous.css\n ** module id = 5\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"/* This Source Code Form is subject to the terms of the Mozilla Public\\r\\n * License, v. 2.0. If a copy of the MPL was not distributed with this\\r\\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\\r\\n *\\r\\n * Owner: mark@famo.us\\r\\n * @license MPL 2.0\\r\\n * @copyright Famous Industries, Inc. 2015\\r\\n */\\r\\n\\r\\n.famous-root {\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n    margin: 0px;\\r\\n    padding: 0px;\\r\\n    opacity: .999999; /* ios8 hotfix */\\r\\n    overflow: hidden;\\r\\n    -webkit-transform-style: preserve-3d;\\r\\n    transform-style: preserve-3d;\\r\\n}\\r\\n\\r\\n.famous-container, .famous-group {\\r\\n    position: absolute;\\r\\n    top: 0px;\\r\\n    left: 0px;\\r\\n    bottom: 0px;\\r\\n    right: 0px;\\r\\n    overflow: visible;\\r\\n    -webkit-transform-style: preserve-3d;\\r\\n    transform-style: preserve-3d;\\r\\n    -webkit-backface-visibility: visible;\\r\\n    backface-visibility: visible;\\r\\n    pointer-events: none;\\r\\n}\\r\\n\\r\\n.famous-group {\\r\\n    width: 0px;\\r\\n    height: 0px;\\r\\n    margin: 0px;\\r\\n    padding: 0px;\\r\\n}\\r\\n\\r\\n.famous-surface {\\r\\n    position: absolute;\\r\\n    -webkit-transform-origin: center center;\\r\\n    transform-origin: center center;\\r\\n    -webkit-backface-visibility: hidden;\\r\\n    backface-visibility: hidden;\\r\\n    -webkit-transform-style: preserve-3d;\\r\\n    transform-style: preserve-3d;\\r\\n    -webkit-box-sizing: border-box;\\r\\n    -moz-box-sizing: border-box;\\r\\n    box-sizing: border-box;\\r\\n    -webkit-tap-highlight-color: transparent;\\r\\n    pointer-events: auto;\\r\\n}\\r\\n\\r\\n.famous-container-group {\\r\\n    position: relative;\\r\\n    width: 100%;\\r\\n    height: 100%;\\r\\n}\\r\\n\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./app/lib/famous/src/core/famous.css\n ** module id = 6\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\n// css base code, injected by the css-loader\r\nmodule.exports = function() {\r\n\tvar list = [];\r\n\r\n\t// return the list of modules as css string\r\n\tlist.toString = function toString() {\r\n\t\tvar result = [];\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar item = this[i];\r\n\t\t\tif(item[2]) {\r\n\t\t\t\tresult.push(\"@media \" + item[2] + \"{\" + item[1] + \"}\");\r\n\t\t\t} else {\r\n\t\t\t\tresult.push(item[1]);\r\n\t\t\t}\r\n\t\t}\r\n\t\treturn result.join(\"\");\r\n\t};\r\n\r\n\t// import a list of modules into the list\r\n\tlist.i = function(modules, mediaQuery) {\r\n\t\tif(typeof modules === \"string\")\r\n\t\t\tmodules = [[null, modules, \"\"]];\r\n\t\tvar alreadyImportedModules = {};\r\n\t\tfor(var i = 0; i < this.length; i++) {\r\n\t\t\tvar id = this[i][0];\r\n\t\t\tif(typeof id === \"number\")\r\n\t\t\t\talreadyImportedModules[id] = true;\r\n\t\t}\r\n\t\tfor(i = 0; i < modules.length; i++) {\r\n\t\t\tvar item = modules[i];\r\n\t\t\t// skip already imported module\r\n\t\t\t// this implementation is not 100% perfect for weird media query combinations\r\n\t\t\t//  when a module is imported multiple times with different media queries.\r\n\t\t\t//  I hope this will never occur (Hey this way we have smaller bundles)\r\n\t\t\tif(typeof item[0] !== \"number\" || !alreadyImportedModules[item[0]]) {\r\n\t\t\t\tif(mediaQuery && !item[2]) {\r\n\t\t\t\t\titem[2] = mediaQuery;\r\n\t\t\t\t} else if(mediaQuery) {\r\n\t\t\t\t\titem[2] = \"(\" + item[2] + \") and (\" + mediaQuery + \")\";\r\n\t\t\t\t}\r\n\t\t\t\tlist.push(item);\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n\treturn list;\r\n};\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader/lib/css-base.js\n ** module id = 7\n ** module chunks = 0\n **/","/*\r\n\tMIT License http://www.opensource.org/licenses/mit-license.php\r\n\tAuthor Tobias Koppers @sokra\r\n*/\r\nvar stylesInDom = {},\r\n\tmemoize = function(fn) {\r\n\t\tvar memo;\r\n\t\treturn function () {\r\n\t\t\tif (typeof memo === \"undefined\") memo = fn.apply(this, arguments);\r\n\t\t\treturn memo;\r\n\t\t};\r\n\t},\r\n\tisOldIE = memoize(function() {\r\n\t\treturn /msie [6-9]\\b/.test(window.navigator.userAgent.toLowerCase());\r\n\t}),\r\n\tgetHeadElement = memoize(function () {\r\n\t\treturn document.head || document.getElementsByTagName(\"head\")[0];\r\n\t}),\r\n\tsingletonElement = null,\r\n\tsingletonCounter = 0;\r\n\r\nmodule.exports = function(list, options) {\r\n\tif(typeof DEBUG !== \"undefined\" && DEBUG) {\r\n\t\tif(typeof document !== \"object\") throw new Error(\"The style-loader cannot be used in a non-browser environment\");\r\n\t}\r\n\r\n\toptions = options || {};\r\n\t// Force single-tag solution on IE6-9, which has a hard limit on the # of <style>\r\n\t// tags it will allow on a page\r\n\tif (typeof options.singleton === \"undefined\") options.singleton = isOldIE();\r\n\r\n\tvar styles = listToStyles(list);\r\n\taddStylesToDom(styles, options);\r\n\r\n\treturn function update(newList) {\r\n\t\tvar mayRemove = [];\r\n\t\tfor(var i = 0; i < styles.length; i++) {\r\n\t\t\tvar item = styles[i];\r\n\t\t\tvar domStyle = stylesInDom[item.id];\r\n\t\t\tdomStyle.refs--;\r\n\t\t\tmayRemove.push(domStyle);\r\n\t\t}\r\n\t\tif(newList) {\r\n\t\t\tvar newStyles = listToStyles(newList);\r\n\t\t\taddStylesToDom(newStyles, options);\r\n\t\t}\r\n\t\tfor(var i = 0; i < mayRemove.length; i++) {\r\n\t\t\tvar domStyle = mayRemove[i];\r\n\t\t\tif(domStyle.refs === 0) {\r\n\t\t\t\tfor(var j = 0; j < domStyle.parts.length; j++)\r\n\t\t\t\t\tdomStyle.parts[j]();\r\n\t\t\t\tdelete stylesInDom[domStyle.id];\r\n\t\t\t}\r\n\t\t}\r\n\t};\r\n}\r\n\r\nfunction addStylesToDom(styles, options) {\r\n\tfor(var i = 0; i < styles.length; i++) {\r\n\t\tvar item = styles[i];\r\n\t\tvar domStyle = stylesInDom[item.id];\r\n\t\tif(domStyle) {\r\n\t\t\tdomStyle.refs++;\r\n\t\t\tfor(var j = 0; j < domStyle.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts[j](item.parts[j]);\r\n\t\t\t}\r\n\t\t\tfor(; j < item.parts.length; j++) {\r\n\t\t\t\tdomStyle.parts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t} else {\r\n\t\t\tvar parts = [];\r\n\t\t\tfor(var j = 0; j < item.parts.length; j++) {\r\n\t\t\t\tparts.push(addStyle(item.parts[j], options));\r\n\t\t\t}\r\n\t\t\tstylesInDom[item.id] = {id: item.id, refs: 1, parts: parts};\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction listToStyles(list) {\r\n\tvar styles = [];\r\n\tvar newStyles = {};\r\n\tfor(var i = 0; i < list.length; i++) {\r\n\t\tvar item = list[i];\r\n\t\tvar id = item[0];\r\n\t\tvar css = item[1];\r\n\t\tvar media = item[2];\r\n\t\tvar sourceMap = item[3];\r\n\t\tvar part = {css: css, media: media, sourceMap: sourceMap};\r\n\t\tif(!newStyles[id])\r\n\t\t\tstyles.push(newStyles[id] = {id: id, parts: [part]});\r\n\t\telse\r\n\t\t\tnewStyles[id].parts.push(part);\r\n\t}\r\n\treturn styles;\r\n}\r\n\r\nfunction createStyleElement() {\r\n\tvar styleElement = document.createElement(\"style\");\r\n\tvar head = getHeadElement();\r\n\tstyleElement.type = \"text/css\";\r\n\thead.appendChild(styleElement);\r\n\treturn styleElement;\r\n}\r\n\r\nfunction createLinkElement() {\r\n\tvar linkElement = document.createElement(\"link\");\r\n\tvar head = getHeadElement();\r\n\tlinkElement.rel = \"stylesheet\";\r\n\thead.appendChild(linkElement);\r\n\treturn linkElement;\r\n}\r\n\r\nfunction addStyle(obj, options) {\r\n\tvar styleElement, update, remove;\r\n\r\n\tif (options.singleton) {\r\n\t\tvar styleIndex = singletonCounter++;\r\n\t\tstyleElement = singletonElement || (singletonElement = createStyleElement());\r\n\t\tupdate = applyToSingletonTag.bind(null, styleElement, styleIndex, false);\r\n\t\tremove = applyToSingletonTag.bind(null, styleElement, styleIndex, true);\r\n\t} else if(obj.sourceMap &&\r\n\t\ttypeof URL === \"function\" &&\r\n\t\ttypeof URL.createObjectURL === \"function\" &&\r\n\t\ttypeof URL.revokeObjectURL === \"function\" &&\r\n\t\ttypeof Blob === \"function\" &&\r\n\t\ttypeof btoa === \"function\") {\r\n\t\tstyleElement = createLinkElement();\r\n\t\tupdate = updateLink.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t\tif(styleElement.href)\r\n\t\t\t\tURL.revokeObjectURL(styleElement.href);\r\n\t\t};\r\n\t} else {\r\n\t\tstyleElement = createStyleElement();\r\n\t\tupdate = applyToTag.bind(null, styleElement);\r\n\t\tremove = function() {\r\n\t\t\tstyleElement.parentNode.removeChild(styleElement);\r\n\t\t};\r\n\t}\r\n\r\n\tupdate(obj);\r\n\r\n\treturn function updateStyle(newObj) {\r\n\t\tif(newObj) {\r\n\t\t\tif(newObj.css === obj.css && newObj.media === obj.media && newObj.sourceMap === obj.sourceMap)\r\n\t\t\t\treturn;\r\n\t\t\tupdate(obj = newObj);\r\n\t\t} else {\r\n\t\t\tremove();\r\n\t\t}\r\n\t};\r\n}\r\n\r\nvar replaceText = (function () {\r\n\tvar textStore = [];\r\n\r\n\treturn function (index, replacement) {\r\n\t\ttextStore[index] = replacement;\r\n\t\treturn textStore.filter(Boolean).join('\\n');\r\n\t};\r\n})();\r\n\r\nfunction applyToSingletonTag(styleElement, index, remove, obj) {\r\n\tvar css = remove ? \"\" : obj.css;\r\n\r\n\tif (styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = replaceText(index, css);\r\n\t} else {\r\n\t\tvar cssNode = document.createTextNode(css);\r\n\t\tvar childNodes = styleElement.childNodes;\r\n\t\tif (childNodes[index]) styleElement.removeChild(childNodes[index]);\r\n\t\tif (childNodes.length) {\r\n\t\t\tstyleElement.insertBefore(cssNode, childNodes[index]);\r\n\t\t} else {\r\n\t\t\tstyleElement.appendChild(cssNode);\r\n\t\t}\r\n\t}\r\n}\r\n\r\nfunction applyToTag(styleElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(media) {\r\n\t\tstyleElement.setAttribute(\"media\", media)\r\n\t}\r\n\r\n\tif(styleElement.styleSheet) {\r\n\t\tstyleElement.styleSheet.cssText = css;\r\n\t} else {\r\n\t\twhile(styleElement.firstChild) {\r\n\t\t\tstyleElement.removeChild(styleElement.firstChild);\r\n\t\t}\r\n\t\tstyleElement.appendChild(document.createTextNode(css));\r\n\t}\r\n}\r\n\r\nfunction updateLink(linkElement, obj) {\r\n\tvar css = obj.css;\r\n\tvar media = obj.media;\r\n\tvar sourceMap = obj.sourceMap;\r\n\r\n\tif(sourceMap) {\r\n\t\t// http://stackoverflow.com/a/26603875\r\n\t\tcss += \"\\n/*# sourceMappingURL=data:application/json;base64,\" + btoa(unescape(encodeURIComponent(JSON.stringify(sourceMap)))) + \" */\";\r\n\t}\r\n\r\n\tvar blob = new Blob([css], { type: \"text/css\" });\r\n\r\n\tvar oldSrc = linkElement.href;\r\n\r\n\tlinkElement.href = URL.createObjectURL(blob);\r\n\r\n\tif(oldSrc)\r\n\t\tURL.revokeObjectURL(oldSrc);\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/style-loader/addStyles.js\n ** module id = 8\n ** module chunks = 0\n **/","// style-loader: Adds some css to the DOM by adding a <style> tag\n\n// load the styles\nvar content = require(\"!!./../../../node_modules/css-loader/index.js!./app.css\");\nif(typeof content === 'string') content = [[module.id, content, '']];\n// add the styles to the DOM\nvar update = require(\"!./../../../node_modules/style-loader/addStyles.js\")(content, {});\nif(content.locals) module.exports = content.locals;\n// Hot Module Replacement\nif(module.hot) {\n\t// When the styles change, update the <style> tags\n\tif(!content.locals) {\n\t\tmodule.hot.accept(\"!!./../../../node_modules/css-loader/index.js!./app.css\", function() {\n\t\t\tvar newContent = require(\"!!./../../../node_modules/css-loader/index.js!./app.css\");\n\t\t\tif(typeof newContent === 'string') newContent = [[module.id, newContent, '']];\n\t\t\tupdate(newContent);\n\t\t});\n\t}\n\t// When the module is disposed, remove the <style> tags\n\tmodule.hot.dispose(function() { update(); });\n}\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/content/app.css\n ** module id = 9\n ** module chunks = 0\n **/","exports = module.exports = require(\"./../../../node_modules/css-loader/lib/css-base.js\")();\n// imports\n\n\n// module\nexports.push([module.id, \"body {\\r\\n\\tbackground: #000000\\r\\n}\", \"\"]);\n\n// exports\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/css-loader!./app/src/content/app.css\n ** module id = 10\n ** module chunks = 0\n **/","/**\r\n * \r\n */\r\n\r\nvar Engine = require('famous/core/Engine');\r\nvar AdsWall = require('AdsWall');\r\nrequire('expose?dat.gui!dat-gui');\r\n\r\nconsole.log(dat);\r\n\r\nfunction start() {\r\n\tvar mainContext = Engine.createContext();\r\n\r\n\tvar adsWall = new AdsWall();\r\n\tmainContext.add(adsWall);\r\n\r\n\tvar data = adsWall.getMovingVars();\r\n\tvar gui = new dat.GUI();\r\n\tgui.add(data, 'speed');\r\n\tgui.add(data, 'spacing').listen();\r\n\tgui.add(data, 'blink');\r\n\tgui.add(data, 'deviation');\r\n\tgui.add(data, 'lockSpacing');\r\n\tgui.add(data, 'fps');\r\n\tgui.add(data, 'autoBlink').onFinishChange(function() {\r\n\t\tadsWall.autoBlink();\r\n\t});\r\n\tgui.add(data, 'isMoving');\r\n};\r\n\r\nmodule.exports.start = start;\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/app.js\n ** module id = 11\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * The singleton object initiated upon process\r\n     *   startup which manages all active Context instances, runs\r\n     *   the render dispatch loop, and acts as a listener and dispatcher\r\n     *   for events.  All methods are therefore static.\r\n     *\r\n     *   On static initialization, window.requestAnimationFrame is called with\r\n     *     the event loop function.\r\n     *\r\n     *   Note: Any window in which Engine runs will prevent default\r\n     *     scrolling behavior on the 'touchmove' event.\r\n     *\r\n     * @static\r\n     * @class Engine\r\n     */\r\n    var Context = require('./Context');\r\n    var EventHandler = require('./EventHandler');\r\n    var OptionsManager = require('./OptionsManager');\r\n\r\n    var Engine = {};\r\n\r\n    var contexts = [];\r\n\r\n    var nextTickQueue = [];\r\n\r\n    var currentFrame = 0;\r\n    var nextTickFrame = 0;\r\n\r\n    var deferQueue = [];\r\n\r\n    var lastTime = Date.now();\r\n    var frameTime;\r\n    var frameTimeLimit;\r\n    var loopEnabled = true;\r\n    var eventForwarders = {};\r\n    var eventHandler = new EventHandler();\r\n\r\n    var options = {\r\n        containerType: 'div',\r\n        containerClass: 'famous-container',\r\n        fpsCap: undefined,\r\n        runLoop: true,\r\n        appMode: true\r\n    };\r\n    var optionsManager = new OptionsManager(options);\r\n\r\n    /** @const */\r\n    var MAX_DEFER_FRAME_TIME = 10;\r\n\r\n    /**\r\n     * Inside requestAnimationFrame loop, step() is called, which:\r\n     *   calculates current FPS (throttling loop if it is over limit set in setFPSCap),\r\n     *   emits dataless 'prerender' event on start of loop,\r\n     *   calls in order any one-shot functions registered by nextTick on last loop,\r\n     *   calls Context.update on all Context objects registered,\r\n     *   and emits dataless 'postrender' event on end of loop.\r\n     *\r\n     * @static\r\n     * @private\r\n     * @method step\r\n     */\r\n    Engine.step = function step() {\r\n        currentFrame++;\r\n        nextTickFrame = currentFrame;\r\n\r\n        var currentTime = Date.now();\r\n\r\n        // skip frame if we're over our framerate cap\r\n        if (frameTimeLimit && currentTime - lastTime < frameTimeLimit) return;\r\n\r\n        var i = 0;\r\n\r\n        frameTime = currentTime - lastTime;\r\n        lastTime = currentTime;\r\n\r\n        Engine.frameTime = frameTime;\r\n\r\n        eventHandler.emit('prerender');\r\n\r\n        // empty the queue\r\n        var numFunctions = nextTickQueue.length;\r\n        while (numFunctions--) (nextTickQueue.shift())(currentFrame);\r\n\r\n        // limit total execution time for deferrable functions\r\n        while (deferQueue.length && (Date.now() - currentTime) < MAX_DEFER_FRAME_TIME) {\r\n            deferQueue.shift().call(this);\r\n        }\r\n\r\n        for (i = 0; i < contexts.length; i++) contexts[i].update();\r\n\r\n        eventHandler.emit('postrender');\r\n    };\r\n\r\n    // engage requestAnimationFrame\r\n    function loop() {\r\n        if (options.runLoop) {\r\n            Engine.step();\r\n            window.requestAnimationFrame(loop);\r\n        }\r\n        else loopEnabled = false;\r\n    }\r\n    window.requestAnimationFrame(loop);\r\n\r\n    //\r\n    // Upon main document window resize (unless on an \"input\" HTML element):\r\n    //   scroll to the top left corner of the window,\r\n    //   and for each managed Context: emit the 'resize' event and update its size.\r\n    // @param {Object=} event document event\r\n    //\r\n    function handleResize(event) {\r\n        for (var i = 0; i < contexts.length; i++) {\r\n            contexts[i].emit('resize');\r\n        }\r\n        eventHandler.emit('resize');\r\n    }\r\n    window.addEventListener('resize', handleResize, false);\r\n    handleResize();\r\n\r\n    /**\r\n     * Initialize famous for app mode\r\n     *\r\n     * @static\r\n     * @private\r\n     * @method initialize\r\n     */\r\n    function initialize() {\r\n        // prevent scrolling via browser\r\n        window.addEventListener('touchmove', function(event) {\r\n            event.preventDefault();\r\n        }, true);\r\n\r\n        addRootClasses();\r\n    }\r\n    var initialized = false;\r\n\r\n    function addRootClasses() {\r\n        if (!document.body) {\r\n            Engine.nextTick(addRootClasses);\r\n            return;\r\n        }\r\n\r\n        document.body.classList.add('famous-root');\r\n        document.documentElement.classList.add('famous-root');\r\n    }\r\n\r\n    /**\r\n     * Add event handler object to set of downstream handlers.\r\n     *\r\n     * @method pipe\r\n     *\r\n     * @param {EventHandler} target event handler target object\r\n     * @return {EventHandler} passed event handler\r\n     */\r\n    Engine.pipe = function pipe(target) {\r\n        if (target.subscribe instanceof Function) return target.subscribe(Engine);\r\n        else return eventHandler.pipe(target);\r\n    };\r\n\r\n    /**\r\n     * Remove handler object from set of downstream handlers.\r\n     *   Undoes work of \"pipe\".\r\n     *\r\n     * @method unpipe\r\n     *\r\n     * @param {EventHandler} target target handler object\r\n     * @return {EventHandler} provided target\r\n     */\r\n    Engine.unpipe = function unpipe(target) {\r\n        if (target.unsubscribe instanceof Function) return target.unsubscribe(Engine);\r\n        else return eventHandler.unpipe(target);\r\n    };\r\n\r\n    /**\r\n     * Bind a callback function to an event type handled by this object.\r\n     *\r\n     * @static\r\n     * @method \"on\"\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function(string, Object)} handler callback\r\n     * @return {EventHandler} this\r\n     */\r\n    Engine.on = function on(type, handler) {\r\n        if (!(type in eventForwarders)) {\r\n            eventForwarders[type] = eventHandler.emit.bind(eventHandler, type);\r\n\r\n            addEngineListener(type, eventForwarders[type]);\r\n        }\r\n        return eventHandler.on(type, handler);\r\n    };\r\n\r\n    function addEngineListener(type, forwarder) {\r\n        if (!document.body) {\r\n            Engine.nextTick(addEventListener.bind(this, type, forwarder));\r\n            return;\r\n        }\r\n\r\n        document.body.addEventListener(type, forwarder);\r\n    }\r\n\r\n    /**\r\n     * Trigger an event, sending to all downstream handlers\r\n     *   listening for provided 'type' key.\r\n     *\r\n     * @method emit\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {Object} event event data\r\n     * @return {EventHandler} this\r\n     */\r\n    Engine.emit = function emit(type, event) {\r\n        return eventHandler.emit(type, event);\r\n    };\r\n\r\n    /**\r\n     * Unbind an event by type and handler.\r\n     *   This undoes the work of \"on\".\r\n     *\r\n     * @static\r\n     * @method removeListener\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function} handler function object to remove\r\n     * @return {EventHandler} internal event handler object (for chaining)\r\n     */\r\n    Engine.removeListener = function removeListener(type, handler) {\r\n        return eventHandler.removeListener(type, handler);\r\n    };\r\n\r\n    /**\r\n     * Return the current calculated frames per second of the Engine.\r\n     *\r\n     * @static\r\n     * @method getFPS\r\n     *\r\n     * @return {Number} calculated fps\r\n     */\r\n    Engine.getFPS = function getFPS() {\r\n        return 1000 / frameTime;\r\n    };\r\n\r\n    /**\r\n     * Set the maximum fps at which the system should run. If internal render\r\n     *    loop is called at a greater frequency than this FPSCap, Engine will\r\n     *    throttle render and update until this rate is achieved.\r\n     *\r\n     * @static\r\n     * @method setFPSCap\r\n     *\r\n     * @param {Number} fps maximum frames per second\r\n     */\r\n    Engine.setFPSCap = function setFPSCap(fps) {\r\n        frameTimeLimit = Math.floor(1000 / fps);\r\n    };\r\n\r\n    /**\r\n     * Return engine options.\r\n     *\r\n     * @static\r\n     * @method getOptions\r\n     * @param {string} key\r\n     * @return {Object} engine options\r\n     */\r\n    Engine.getOptions = function getOptions(key) {\r\n        return optionsManager.getOptions(key);\r\n    };\r\n\r\n    /**\r\n     * Set engine options\r\n     *\r\n     * @static\r\n     * @method setOptions\r\n     *\r\n     * @param {Object} [options] overrides of default options\r\n     * @param {Number} [options.fpsCap]  maximum fps at which the system should run\r\n     * @param {boolean} [options.runLoop=true] whether the run loop should continue\r\n     * @param {string} [options.containerType=\"div\"] type of container element.  Defaults to 'div'.\r\n     * @param {string} [options.containerClass=\"famous-container\"] type of container element.  Defaults to 'famous-container'.\r\n     */\r\n    Engine.setOptions = function setOptions(options) {\r\n        return optionsManager.setOptions.apply(optionsManager, arguments);\r\n    };\r\n\r\n    /**\r\n     * Creates a new Context for rendering and event handling with\r\n     *    provided document element as top of each tree. This will be tracked by the\r\n     *    process-wide Engine.\r\n     *\r\n     * @static\r\n     * @method createContext\r\n     *\r\n     * @param {Node} el will be top of Famo.us document element tree\r\n     * @return {Context} new Context within el\r\n     */\r\n    Engine.createContext = function createContext(el) {\r\n        if (!initialized && options.appMode) Engine.nextTick(initialize);\r\n\r\n        var needMountContainer = false;\r\n        if (!el) {\r\n            el = document.createElement(options.containerType);\r\n            el.classList.add(options.containerClass);\r\n            needMountContainer = true;\r\n        }\r\n\r\n        var context = new Context(el);\r\n        Engine.registerContext(context);\r\n\r\n        if (needMountContainer) mount(context, el);\r\n\r\n        return context;\r\n    };\r\n\r\n    function mount(context, el) {\r\n        if (!document.body) {\r\n            Engine.nextTick(mount.bind(this, context, el));\r\n            return;\r\n        }\r\n\r\n        document.body.appendChild(el);\r\n        context.emit('resize');\r\n    }\r\n\r\n    /**\r\n     * Registers an existing context to be updated within the run loop.\r\n     *\r\n     * @static\r\n     * @method registerContext\r\n     *\r\n     * @param {Context} context Context to register\r\n     * @return {FamousContext} provided context\r\n     */\r\n    Engine.registerContext = function registerContext(context) {\r\n        contexts.push(context);\r\n        return context;\r\n    };\r\n\r\n    /**\r\n     * Returns a list of all contexts.\r\n     *\r\n     * @static\r\n     * @method getContexts\r\n     * @return {Array} contexts that are updated on each tick\r\n     */\r\n    Engine.getContexts = function getContexts() {\r\n        return contexts;\r\n    };\r\n\r\n    /**\r\n     * Removes a context from the run loop. Note: this does not do any\r\n     *     cleanup.\r\n     *\r\n     * @static\r\n     * @method deregisterContext\r\n     *\r\n     * @param {Context} context Context to deregister\r\n     */\r\n    Engine.deregisterContext = function deregisterContext(context) {\r\n        var i = contexts.indexOf(context);\r\n        if (i >= 0) contexts.splice(i, 1);\r\n    };\r\n\r\n    /**\r\n     * Queue a function to be executed on the next tick of the\r\n     *    Engine.\r\n     *\r\n     * @static\r\n     * @method nextTick\r\n     *\r\n     * @param {function(Object)} fn function accepting window object\r\n     */\r\n    Engine.nextTick = function nextTick(fn) {\r\n        nextTickQueue.push(fn);\r\n    };\r\n\r\n    /**\r\n     * Queue a function to be executed sometime soon, at a time that is\r\n     *    unlikely to affect frame rate.\r\n     *\r\n     * @static\r\n     * @method defer\r\n     *\r\n     * @param {Function} fn\r\n     */\r\n    Engine.defer = function defer(fn) {\r\n        deferQueue.push(fn);\r\n    };\r\n\r\n    optionsManager.on('change', function(data) {\r\n        if (data.id === 'fpsCap') Engine.setFPSCap(data.value);\r\n        else if (data.id === 'runLoop') {\r\n            // kick off the loop only if it was stopped\r\n            if (!loopEnabled && data.value) {\r\n                loopEnabled = true;\r\n                window.requestAnimationFrame(loop);\r\n            }\r\n        }\r\n    });\r\n\r\n    module.exports = Engine;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Engine.js\n ** module id = 12\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var RenderNode = require('./RenderNode');\r\n    var EventHandler = require('./EventHandler');\r\n    var ElementAllocator = require('./ElementAllocator');\r\n    var Transform = require('./Transform');\r\n    var Transitionable = require('../transitions/Transitionable');\r\n\r\n    var _zeroZero = [0, 0];\r\n    var usePrefix = !('perspective' in document.documentElement.style);\r\n\r\n    function _getElementSize() {\r\n        var element = this.container;\r\n        return [element.clientWidth, element.clientHeight];\r\n    }\r\n\r\n    var _setPerspective = usePrefix ? function(element, perspective) {\r\n        element.style.webkitPerspective = perspective ? perspective.toFixed() + 'px' : '';\r\n    } : function(element, perspective) {\r\n        element.style.perspective = perspective ? perspective.toFixed() + 'px' : '';\r\n    };\r\n\r\n    /**\r\n     * The top-level container for a Famous-renderable piece of the document.\r\n     *   It is directly updated by the process-wide Engine object, and manages one\r\n     *   render tree root, which can contain other renderables.\r\n     *\r\n     * @class Context\r\n     * @constructor\r\n     * @private\r\n     * @param {Node} container Element in which content will be inserted\r\n     */\r\n    function Context(container) {\r\n        this.container = container;\r\n        this._allocator = new ElementAllocator(container);\r\n\r\n        this._node = new RenderNode();\r\n        this._eventOutput = new EventHandler();\r\n        this._size = _getElementSize.call(this);\r\n\r\n        this._perspectiveState = new Transitionable(0);\r\n        this._perspective = undefined;\r\n\r\n        this._nodeContext = {\r\n            allocator: this._allocator,\r\n            transform: Transform.identity,\r\n            opacity: 1,\r\n            origin: _zeroZero,\r\n            align: _zeroZero,\r\n            size: this._size\r\n        };\r\n\r\n        this._eventOutput.on('resize', function() {\r\n            this.setSize(_getElementSize.call(this));\r\n        }.bind(this));\r\n\r\n    }\r\n\r\n    // Note: Unused\r\n    Context.prototype.getAllocator = function getAllocator() {\r\n        return this._allocator;\r\n    };\r\n\r\n    /**\r\n     * Add renderables to this Context's render tree.\r\n     *\r\n     * @method add\r\n     *\r\n     * @param {Object} obj renderable object\r\n     * @return {RenderNode} RenderNode wrapping this object, if not already a RenderNode\r\n     */\r\n    Context.prototype.add = function add(obj) {\r\n        return this._node.add(obj);\r\n    };\r\n\r\n    /**\r\n     * Move this Context to another containing document element.\r\n     *\r\n     * @method migrate\r\n     *\r\n     * @param {Node} container Element to which content will be migrated\r\n     */\r\n    Context.prototype.migrate = function migrate(container) {\r\n        if (container === this.container) return;\r\n        this.container = container;\r\n        this._allocator.migrate(container);\r\n    };\r\n\r\n    /**\r\n     * Gets viewport size for Context.\r\n     *\r\n     * @method getSize\r\n     *\r\n     * @return {Array.Number} viewport size as [width, height]\r\n     */\r\n    Context.prototype.getSize = function getSize() {\r\n        return this._size;\r\n    };\r\n\r\n    /**\r\n     * Sets viewport size for Context.\r\n     *\r\n     * @method setSize\r\n     *\r\n     * @param {Array.Number} size [width, height].  If unspecified, use size of root document element.\r\n     */\r\n    Context.prototype.setSize = function setSize(size) {\r\n        if (!size) size = _getElementSize.call(this);\r\n        this._size[0] = size[0];\r\n        this._size[1] = size[1];\r\n    };\r\n\r\n    /**\r\n     * Commit this Context's content changes to the document.\r\n     *\r\n     * @private\r\n     * @method update\r\n     * @param {Object} contextParameters engine commit specification\r\n     */\r\n    Context.prototype.update = function update(contextParameters) {\r\n        if (contextParameters) {\r\n            if (contextParameters.transform) this._nodeContext.transform = contextParameters.transform;\r\n            if (contextParameters.opacity) this._nodeContext.opacity = contextParameters.opacity;\r\n            if (contextParameters.origin) this._nodeContext.origin = contextParameters.origin;\r\n            if (contextParameters.align) this._nodeContext.align = contextParameters.align;\r\n            if (contextParameters.size) this._nodeContext.size = contextParameters.size;\r\n        }\r\n        var perspective = this._perspectiveState.get();\r\n        if (perspective !== this._perspective) {\r\n            _setPerspective(this.container, perspective);\r\n            this._perspective = perspective;\r\n        }\r\n\r\n        this._node.commit(this._nodeContext);\r\n    };\r\n\r\n    /**\r\n     * Get current perspective of this context in pixels.\r\n     *\r\n     * @method getPerspective\r\n     * @return {Number} depth perspective in pixels\r\n     */\r\n    Context.prototype.getPerspective = function getPerspective() {\r\n        return this._perspectiveState.get();\r\n    };\r\n\r\n    /**\r\n     * Set current perspective of this context in pixels.\r\n     *\r\n     * @method setPerspective\r\n     * @param {Number} perspective in pixels\r\n     * @param {Object} [transition] Transitionable object for applying the change\r\n     * @param {function(Object)} callback function called on completion of transition\r\n     */\r\n    Context.prototype.setPerspective = function setPerspective(perspective, transition, callback) {\r\n        return this._perspectiveState.set(perspective, transition, callback);\r\n    };\r\n\r\n    /**\r\n     * Trigger an event, sending to all downstream handlers\r\n     *   listening for provided 'type' key.\r\n     *\r\n     * @method emit\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {Object} event event data\r\n     * @return {EventHandler} this\r\n     */\r\n    Context.prototype.emit = function emit(type, event) {\r\n        return this._eventOutput.emit(type, event);\r\n    };\r\n\r\n    /**\r\n     * Bind a callback function to an event type handled by this object.\r\n     *\r\n     * @method \"on\"\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function(string, Object)} handler callback\r\n     * @return {EventHandler} this\r\n     */\r\n    Context.prototype.on = function on(type, handler) {\r\n        return this._eventOutput.on(type, handler);\r\n    };\r\n\r\n    /**\r\n     * Unbind an event by type and handler.\r\n     *   This undoes the work of \"on\".\r\n     *\r\n     * @method removeListener\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function} handler function object to remove\r\n     * @return {EventHandler} internal event handler object (for chaining)\r\n     */\r\n    Context.prototype.removeListener = function removeListener(type, handler) {\r\n        return this._eventOutput.removeListener(type, handler);\r\n    };\r\n\r\n    /**\r\n     * Add event handler object to set of downstream handlers.\r\n     *\r\n     * @method pipe\r\n     *\r\n     * @param {EventHandler} target event handler target object\r\n     * @return {EventHandler} passed event handler\r\n     */\r\n    Context.prototype.pipe = function pipe(target) {\r\n        return this._eventOutput.pipe(target);\r\n    };\r\n\r\n    /**\r\n     * Remove handler object from set of downstream handlers.\r\n     *   Undoes work of \"pipe\".\r\n     *\r\n     * @method unpipe\r\n     *\r\n     * @param {EventHandler} target target handler object\r\n     * @return {EventHandler} provided target\r\n     */\r\n    Context.prototype.unpipe = function unpipe(target) {\r\n        return this._eventOutput.unpipe(target);\r\n    };\r\n\r\n    module.exports = Context;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Context.js\n ** module id = 13\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Entity = require('./Entity');\r\n    var SpecParser = require('./SpecParser');\r\n\r\n    /**\r\n     * A wrapper for inserting a renderable component (like a Modifer or\r\n     *   Surface) into the render tree.\r\n     *\r\n     * @class RenderNode\r\n     * @constructor\r\n     *\r\n     * @param {Object} object Target renderable component\r\n     */\r\n    function RenderNode(object) {\r\n        this._object = null;\r\n        this._child = null;\r\n        this._hasMultipleChildren = false;\r\n        this._isRenderable = false;\r\n        this._isModifier = false;\r\n\r\n        this._resultCache = {};\r\n        this._prevResults = {};\r\n\r\n        this._childResult = null;\r\n\r\n        if (object) this.set(object);\r\n    }\r\n\r\n    /**\r\n     * Append a renderable to the list of this node's children.\r\n     *   This produces a new RenderNode in the tree.\r\n     *   Note: Does not double-wrap if child is a RenderNode already.\r\n     *\r\n     * @method add\r\n     * @param {Object} child renderable object\r\n     * @return {RenderNode} new render node wrapping child\r\n     */\r\n    RenderNode.prototype.add = function add(child) {\r\n        var childNode = (child instanceof RenderNode) ? child : new RenderNode(child);\r\n        if (this._child instanceof Array) this._child.push(childNode);\r\n        else if (this._child) {\r\n            this._child = [this._child, childNode];\r\n            this._hasMultipleChildren = true;\r\n            this._childResult = []; // to be used later\r\n        }\r\n        else this._child = childNode;\r\n\r\n        return childNode;\r\n    };\r\n\r\n    /**\r\n     * Return the single wrapped object.  Returns null if this node has multiple child nodes.\r\n     *\r\n     * @method get\r\n     *\r\n     * @return {Ojbect} contained renderable object\r\n     */\r\n    RenderNode.prototype.get = function get() {\r\n        return this._object || (this._hasMultipleChildren ? null : (this._child ? this._child.get() : null));\r\n    };\r\n\r\n    /**\r\n     * Overwrite the list of children to contain the single provided object\r\n     *\r\n     * @method set\r\n     * @param {Object} child renderable object\r\n     * @return {RenderNode} this render node, or child if it is a RenderNode\r\n     */\r\n    RenderNode.prototype.set = function set(child) {\r\n        this._childResult = null;\r\n        this._hasMultipleChildren = false;\r\n        this._isRenderable = child.render ? true : false;\r\n        this._isModifier = child.modify ? true : false;\r\n        this._object = child;\r\n        this._child = null;\r\n        if (child instanceof RenderNode) return child;\r\n        else return this;\r\n    };\r\n\r\n    /**\r\n     * Get render size of contained object.\r\n     *\r\n     * @method getSize\r\n     * @return {Array.Number} size of this or size of single child.\r\n     */\r\n    RenderNode.prototype.getSize = function getSize() {\r\n        var result = null;\r\n        var target = this.get();\r\n        if (target && target.getSize) result = target.getSize();\r\n        if (!result && this._child && this._child.getSize) result = this._child.getSize();\r\n        return result;\r\n    };\r\n\r\n    // apply results of rendering this subtree to the document\r\n    function _applyCommit(spec, context, cacheStorage) {\r\n        var result = SpecParser.parse(spec, context);\r\n        var keys = Object.keys(result);\r\n        for (var i = 0; i < keys.length; i++) {\r\n            var id = keys[i];\r\n            var childNode = Entity.get(id);\r\n            var commitParams = result[id];\r\n            commitParams.allocator = context.allocator;\r\n            var commitResult = childNode.commit(commitParams);\r\n            if (commitResult) _applyCommit(commitResult, context, cacheStorage);\r\n            else cacheStorage[id] = commitParams;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Commit the content change from this node to the document.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     * @param {Context} context render context\r\n     */\r\n    RenderNode.prototype.commit = function commit(context) {\r\n        // free up some divs from the last loop\r\n        var prevKeys = Object.keys(this._prevResults);\r\n        for (var i = 0; i < prevKeys.length; i++) {\r\n            var id = prevKeys[i];\r\n            if (this._resultCache[id] === undefined) {\r\n                var object = Entity.get(id);\r\n                if (object.cleanup) object.cleanup(context.allocator);\r\n            }\r\n        }\r\n\r\n        this._prevResults = this._resultCache;\r\n        this._resultCache = {};\r\n        _applyCommit(this.render(), context, this._resultCache);\r\n    };\r\n\r\n    /**\r\n     * Generate a render spec from the contents of the wrapped component.\r\n     *\r\n     * @private\r\n     * @method render\r\n     *\r\n     * @return {Object} render specification for the component subtree\r\n     *    only under this node.\r\n     */\r\n    RenderNode.prototype.render = function render() {\r\n        if (this._isRenderable) return this._object.render();\r\n\r\n        var result = null;\r\n        if (this._hasMultipleChildren) {\r\n            result = this._childResult;\r\n            var children = this._child;\r\n            for (var i = 0; i < children.length; i++) {\r\n                result[i] = children[i].render();\r\n            }\r\n        }\r\n        else if (this._child) result = this._child.render();\r\n\r\n        return this._isModifier ? this._object.modify(result) : result;\r\n    };\r\n\r\n    module.exports = RenderNode;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/RenderNode.js\n ** module id = 14\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    /**\r\n     * A singleton that maintains a global registry of Surfaces.\r\n     *   Private.\r\n     *\r\n     * @private\r\n     * @static\r\n     * @class Entity\r\n     */\r\n\r\n    var entities = [];\r\n\r\n    /**\r\n     * Get entity from global index.\r\n     *\r\n     * @private\r\n     * @method get\r\n     * @param {Number} id entity registration id\r\n     * @return {Surface} entity in the global index\r\n     */\r\n    function get(id) {\r\n        return entities[id];\r\n    }\r\n\r\n    /**\r\n     * Overwrite entity in the global index\r\n     *\r\n     * @private\r\n     * @method set\r\n     * @param {Number} id entity registration id\r\n     * @param {Surface} entity to add to the global index\r\n     */\r\n    function set(id, entity) {\r\n        entities[id] = entity;\r\n    }\r\n\r\n    /**\r\n     * Add entity to global index\r\n     *\r\n     * @private\r\n     * @method register\r\n     * @param {Surface} entity to add to global index\r\n     * @return {Number} new id\r\n     */\r\n    function register(entity) {\r\n        var id = entities.length;\r\n        set(id, entity);\r\n        return id;\r\n    }\r\n\r\n    /**\r\n     * Remove entity from global index\r\n     *\r\n     * @private\r\n     * @method unregister\r\n     * @param {Number} id entity registration id\r\n     */\r\n    function unregister(id) {\r\n        set(id, null);\r\n    }\r\n\r\n    module.exports = {\r\n        register: register,\r\n        unregister: unregister,\r\n        get: get,\r\n        set: set\r\n    };\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Entity.js\n ** module id = 15\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Transform = require('./Transform');\r\n\r\n    /**\r\n     *\r\n     * This object translates the rendering instructions (\"render specs\")\r\n     *   that renderable components generate into document update\r\n     *   instructions (\"update specs\").  Private.\r\n     *\r\n     * @private\r\n     * @class SpecParser\r\n     * @constructor\r\n     */\r\n    function SpecParser() {\r\n        this.result = {};\r\n    }\r\n    SpecParser._instance = new SpecParser();\r\n\r\n    /**\r\n     * Convert a render spec coming from the context's render chain to an\r\n     *    update spec for the update chain. This is the only major entry point\r\n     *    for a consumer of this class.\r\n     *\r\n     * @method parse\r\n     * @static\r\n     * @private\r\n     *\r\n     * @param {renderSpec} spec input render spec\r\n     * @param {Object} context context to do the parse in\r\n     * @return {Object} the resulting update spec (if no callback\r\n     *   specified, else none)\r\n     */\r\n    SpecParser.parse = function parse(spec, context) {\r\n        return SpecParser._instance.parse(spec, context);\r\n    };\r\n\r\n    /**\r\n     * Convert a renderSpec coming from the context's render chain to an update\r\n     *    spec for the update chain. This is the only major entrypoint for a\r\n     *    consumer of this class.\r\n     *\r\n     * @method parse\r\n     *\r\n     * @private\r\n     * @param {renderSpec} spec input render spec\r\n     * @param {Context} context\r\n     * @return {updateSpec} the resulting update spec\r\n     */\r\n    SpecParser.prototype.parse = function parse(spec, context) {\r\n        this.reset();\r\n        this._parseSpec(spec, context, Transform.identity);\r\n        return this.result;\r\n    };\r\n\r\n    /**\r\n     * Prepare SpecParser for re-use (or first use) by setting internal state\r\n     *  to blank.\r\n     *\r\n     * @private\r\n     * @method reset\r\n     */\r\n    SpecParser.prototype.reset = function reset() {\r\n        this.result = {};\r\n    };\r\n\r\n    // Multiply matrix M by vector v\r\n    function _vecInContext(v, m) {\r\n        return [\r\n            v[0] * m[0] + v[1] * m[4] + v[2] * m[8],\r\n            v[0] * m[1] + v[1] * m[5] + v[2] * m[9],\r\n            v[0] * m[2] + v[1] * m[6] + v[2] * m[10]\r\n        ];\r\n    }\r\n\r\n    var _zeroZero = [0, 0];\r\n\r\n    // From the provided renderSpec tree, recursively compose opacities,\r\n    //    origins, transforms, and sizes corresponding to each surface id from\r\n    //    the provided renderSpec tree structure. On completion, those\r\n    //    properties of 'this' object should be ready to use to build an\r\n    //    updateSpec.\r\n    SpecParser.prototype._parseSpec = function _parseSpec(spec, parentContext, sizeContext) {\r\n        var id;\r\n        var target;\r\n        var transform;\r\n        var opacity;\r\n        var origin;\r\n        var align;\r\n        var size;\r\n\r\n        if (typeof spec === 'number') {\r\n            id = spec;\r\n            transform = parentContext.transform;\r\n            align = parentContext.align || _zeroZero;\r\n            if (parentContext.size && align && (align[0] || align[1])) {\r\n                var alignAdjust = [align[0] * parentContext.size[0], align[1] * parentContext.size[1], 0];\r\n                transform = Transform.thenMove(transform, _vecInContext(alignAdjust, sizeContext));\r\n            }\r\n            this.result[id] = {\r\n                transform: transform,\r\n                opacity: parentContext.opacity,\r\n                origin: parentContext.origin || _zeroZero,\r\n                align: parentContext.align || _zeroZero,\r\n                size: parentContext.size\r\n            };\r\n        }\r\n        else if (!spec) { // placed here so 0 will be cached earlier\r\n            return;\r\n        }\r\n        else if (spec instanceof Array) {\r\n            for (var i = 0; i < spec.length; i++) {\r\n                this._parseSpec(spec[i], parentContext, sizeContext);\r\n            }\r\n        }\r\n        else {\r\n            target = spec.target;\r\n            transform = parentContext.transform;\r\n            opacity = parentContext.opacity;\r\n            origin = parentContext.origin;\r\n            align = parentContext.align;\r\n            size = parentContext.size;\r\n            var nextSizeContext = sizeContext;\r\n\r\n            if (spec.opacity !== undefined) opacity = parentContext.opacity * spec.opacity;\r\n            if (spec.transform) transform = Transform.multiply(parentContext.transform, spec.transform);\r\n            if (spec.origin) {\r\n                origin = spec.origin;\r\n                nextSizeContext = parentContext.transform;\r\n            }\r\n            if (spec.align) align = spec.align;\r\n\r\n            if (spec.size || spec.proportions) {\r\n                var parentSize = size;\r\n                size = [size[0], size[1]];\r\n\r\n                if (spec.size) {\r\n                    if (spec.size[0] !== undefined) size[0] = spec.size[0];\r\n                    if (spec.size[1] !== undefined) size[1] = spec.size[1];\r\n                }\r\n\r\n                if (spec.proportions) {\r\n                    if (spec.proportions[0] !== undefined) size[0] = size[0] * spec.proportions[0];\r\n                    if (spec.proportions[1] !== undefined) size[1] = size[1] * spec.proportions[1];\r\n                }\r\n\r\n                if (parentSize) {\r\n                    if (align && (align[0] || align[1])) transform = Transform.thenMove(transform, _vecInContext([align[0] * parentSize[0], align[1] * parentSize[1], 0], sizeContext));\r\n                    if (origin && (origin[0] || origin[1])) transform = Transform.moveThen([-origin[0] * size[0], -origin[1] * size[1], 0], transform);\r\n                }\r\n\r\n                nextSizeContext = parentContext.transform;\r\n                origin = null;\r\n                align = null;\r\n            }\r\n\r\n            this._parseSpec(target, {\r\n                transform: transform,\r\n                opacity: opacity,\r\n                origin: origin,\r\n                align: align,\r\n                size: size\r\n            }, nextSizeContext);\r\n        }\r\n    };\r\n\r\n    module.exports = SpecParser;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/SpecParser.js\n ** module id = 16\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     *  A high-performance static matrix math library used to calculate\r\n     *    affine transforms on surfaces and other renderables.\r\n     *    Famo.us uses 4x4 matrices corresponding directly to\r\n     *    WebKit matrices (column-major order).\r\n     *\r\n     *    The internal \"type\" of a Matrix is a 16-long float array in\r\n     *    row-major order, with:\r\n     *    elements [0],[1],[2],[4],[5],[6],[8],[9],[10] forming the 3x3\r\n     *          transformation matrix;\r\n     *    elements [12], [13], [14] corresponding to the t_x, t_y, t_z\r\n     *           translation;\r\n     *    elements [3], [7], [11] set to 0;\r\n     *    element [15] set to 1.\r\n     *    All methods are static.\r\n     *\r\n     * @static\r\n     *\r\n     * @class Transform\r\n     */\r\n    var Transform = {};\r\n\r\n    // WARNING: these matrices correspond to WebKit matrices, which are\r\n    //    transposed from their math counterparts\r\n    Transform.precision = 1e-6;\r\n    Transform.identity = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n\r\n    /**\r\n     * Multiply two or more Transform matrix types to return a Transform matrix.\r\n     *\r\n     * @method multiply4x4\r\n     * @static\r\n     * @param {Transform} a left Transform\r\n     * @param {Transform} b right Transform\r\n     * @return {Transform}\r\n     */\r\n    Transform.multiply4x4 = function multiply4x4(a, b) {\r\n        return [\r\n            a[0] * b[0] + a[4] * b[1] + a[8] * b[2] + a[12] * b[3],\r\n            a[1] * b[0] + a[5] * b[1] + a[9] * b[2] + a[13] * b[3],\r\n            a[2] * b[0] + a[6] * b[1] + a[10] * b[2] + a[14] * b[3],\r\n            a[3] * b[0] + a[7] * b[1] + a[11] * b[2] + a[15] * b[3],\r\n            a[0] * b[4] + a[4] * b[5] + a[8] * b[6] + a[12] * b[7],\r\n            a[1] * b[4] + a[5] * b[5] + a[9] * b[6] + a[13] * b[7],\r\n            a[2] * b[4] + a[6] * b[5] + a[10] * b[6] + a[14] * b[7],\r\n            a[3] * b[4] + a[7] * b[5] + a[11] * b[6] + a[15] * b[7],\r\n            a[0] * b[8] + a[4] * b[9] + a[8] * b[10] + a[12] * b[11],\r\n            a[1] * b[8] + a[5] * b[9] + a[9] * b[10] + a[13] * b[11],\r\n            a[2] * b[8] + a[6] * b[9] + a[10] * b[10] + a[14] * b[11],\r\n            a[3] * b[8] + a[7] * b[9] + a[11] * b[10] + a[15] * b[11],\r\n            a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12] * b[15],\r\n            a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13] * b[15],\r\n            a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14] * b[15],\r\n            a[3] * b[12] + a[7] * b[13] + a[11] * b[14] + a[15] * b[15]\r\n        ];\r\n    };\r\n\r\n    /**\r\n     * Fast-multiply two Transform matrix types to return a\r\n     *    Matrix, assuming bottom row on each is [0 0 0 1].\r\n     *\r\n     * @method multiply\r\n     * @static\r\n     * @param {Transform} a left Transform\r\n     * @param {Transform} b right Transform\r\n     * @return {Transform}\r\n     */\r\n    Transform.multiply = function multiply(a, b) {\r\n        return [\r\n            a[0] * b[0] + a[4] * b[1] + a[8] * b[2],\r\n            a[1] * b[0] + a[5] * b[1] + a[9] * b[2],\r\n            a[2] * b[0] + a[6] * b[1] + a[10] * b[2],\r\n            0,\r\n            a[0] * b[4] + a[4] * b[5] + a[8] * b[6],\r\n            a[1] * b[4] + a[5] * b[5] + a[9] * b[6],\r\n            a[2] * b[4] + a[6] * b[5] + a[10] * b[6],\r\n            0,\r\n            a[0] * b[8] + a[4] * b[9] + a[8] * b[10],\r\n            a[1] * b[8] + a[5] * b[9] + a[9] * b[10],\r\n            a[2] * b[8] + a[6] * b[9] + a[10] * b[10],\r\n            0,\r\n            a[0] * b[12] + a[4] * b[13] + a[8] * b[14] + a[12],\r\n            a[1] * b[12] + a[5] * b[13] + a[9] * b[14] + a[13],\r\n            a[2] * b[12] + a[6] * b[13] + a[10] * b[14] + a[14],\r\n            1\r\n        ];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform translated by additional amounts in each\r\n     *    dimension. This is equivalent to the result of\r\n     *\r\n     *    Transform.multiply(Matrix.translate(t[0], t[1], t[2]), m).\r\n     *\r\n     * @method thenMove\r\n     * @static\r\n     * @param {Transform} m a Transform\r\n     * @param {Array.Number} t floats delta vector of length 2 or 3\r\n     * @return {Transform}\r\n     */\r\n    Transform.thenMove = function thenMove(m, t) {\r\n        if (!t[2]) t[2] = 0;\r\n        return [m[0], m[1], m[2], 0, m[4], m[5], m[6], 0, m[8], m[9], m[10], 0, m[12] + t[0], m[13] + t[1], m[14] + t[2], 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform matrix which represents the result of a transform matrix\r\n     *    applied after a move. This is faster than the equivalent multiply.\r\n     *    This is equivalent to the result of:\r\n     *\r\n     *    Transform.multiply(m, Transform.translate(t[0], t[1], t[2])).\r\n     *\r\n     * @method moveThen\r\n     * @static\r\n     * @param {Array.Number} v vector representing initial movement\r\n     * @param {Transform} m matrix to apply afterwards\r\n     * @return {Transform} the resulting matrix\r\n     */\r\n    Transform.moveThen = function moveThen(v, m) {\r\n        if (!v[2]) v[2] = 0;\r\n        var t0 = v[0] * m[0] + v[1] * m[4] + v[2] * m[8];\r\n        var t1 = v[0] * m[1] + v[1] * m[5] + v[2] * m[9];\r\n        var t2 = v[0] * m[2] + v[1] * m[6] + v[2] * m[10];\r\n        return Transform.thenMove(m, [t0, t1, t2]);\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents a translation by specified\r\n     *    amounts in each dimension.\r\n     *\r\n     * @method translate\r\n     * @static\r\n     * @param {Number} x x translation\r\n     * @param {Number} y y translation\r\n     * @param {Number} z z translation\r\n     * @return {Transform}\r\n     */\r\n    Transform.translate = function translate(x, y, z) {\r\n        if (z === undefined) z = 0;\r\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, x, y, z, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform scaled by a vector in each\r\n     *    dimension. This is a more performant equivalent to the result of\r\n     *\r\n     *    Transform.multiply(Transform.scale(s[0], s[1], s[2]), m).\r\n     *\r\n     * @method thenScale\r\n     * @static\r\n     * @param {Transform} m a matrix\r\n     * @param {Array.Number} s delta vector (array of floats &&\r\n     *    array.length == 3)\r\n     * @return {Transform}\r\n     */\r\n    Transform.thenScale = function thenScale(m, s) {\r\n        return [\r\n            s[0] * m[0], s[1] * m[1], s[2] * m[2], 0,\r\n            s[0] * m[4], s[1] * m[5], s[2] * m[6], 0,\r\n            s[0] * m[8], s[1] * m[9], s[2] * m[10], 0,\r\n            s[0] * m[12], s[1] * m[13], s[2] * m[14], 1\r\n        ];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents a scale by specified amounts\r\n     *    in each dimension.\r\n     *\r\n     * @method scale\r\n     * @static\r\n     * @param {Number} x x scale factor\r\n     * @param {Number} y y scale factor\r\n     * @param {Number} z z scale factor\r\n     * @return {Transform}\r\n     */\r\n    Transform.scale = function scale(x, y, z) {\r\n        if (z === undefined) z = 1;\r\n        if (y === undefined) y = x;\r\n        return [x, 0, 0, 0, 0, y, 0, 0, 0, 0, z, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents a clockwise\r\n     *    rotation around the x axis.\r\n     *\r\n     * @method rotateX\r\n     * @static\r\n     * @param {Number} theta radians\r\n     * @return {Transform}\r\n     */\r\n    Transform.rotateX = function rotateX(theta) {\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n        return [1, 0, 0, 0, 0, cosTheta, sinTheta, 0, 0, -sinTheta, cosTheta, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents a clockwise\r\n     *    rotation around the y axis.\r\n     *\r\n     * @method rotateY\r\n     * @static\r\n     * @param {Number} theta radians\r\n     * @return {Transform}\r\n     */\r\n    Transform.rotateY = function rotateY(theta) {\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n        return [cosTheta, 0, -sinTheta, 0, 0, 1, 0, 0, sinTheta, 0, cosTheta, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents a clockwise\r\n     *    rotation around the z axis.\r\n     *\r\n     * @method rotateZ\r\n     * @static\r\n     * @param {Number} theta radians\r\n     * @return {Transform}\r\n     */\r\n    Transform.rotateZ = function rotateZ(theta) {\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n        return [cosTheta, sinTheta, 0, 0, -sinTheta, cosTheta, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents composed clockwise\r\n     *    rotations along each of the axes. Equivalent to the result of\r\n     *    Matrix.multiply(rotateX(phi), rotateY(theta), rotateZ(psi)).\r\n     *\r\n     * @method rotate\r\n     * @static\r\n     * @param {Number} phi radians to rotate about the positive x axis\r\n     * @param {Number} theta radians to rotate about the positive y axis\r\n     * @param {Number} psi radians to rotate about the positive z axis\r\n     * @return {Transform}\r\n     */\r\n    Transform.rotate = function rotate(phi, theta, psi) {\r\n        var cosPhi = Math.cos(phi);\r\n        var sinPhi = Math.sin(phi);\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n        var cosPsi = Math.cos(psi);\r\n        var sinPsi = Math.sin(psi);\r\n        var result = [\r\n            cosTheta * cosPsi,\r\n            cosPhi * sinPsi + sinPhi * sinTheta * cosPsi,\r\n            sinPhi * sinPsi - cosPhi * sinTheta * cosPsi,\r\n            0,\r\n            -cosTheta * sinPsi,\r\n            cosPhi * cosPsi - sinPhi * sinTheta * sinPsi,\r\n            sinPhi * cosPsi + cosPhi * sinTheta * sinPsi,\r\n            0,\r\n            sinTheta,\r\n            -sinPhi * cosTheta,\r\n            cosPhi * cosTheta,\r\n            0,\r\n            0, 0, 0, 1\r\n        ];\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents an axis-angle rotation\r\n     *\r\n     * @method rotateAxis\r\n     * @static\r\n     * @param {Array.Number} v unit vector representing the axis to rotate about\r\n     * @param {Number} theta radians to rotate clockwise about the axis\r\n     * @return {Transform}\r\n     */\r\n    Transform.rotateAxis = function rotateAxis(v, theta) {\r\n        var sinTheta = Math.sin(theta);\r\n        var cosTheta = Math.cos(theta);\r\n        var verTheta = 1 - cosTheta; // versine of theta\r\n\r\n        var xxV = v[0] * v[0] * verTheta;\r\n        var xyV = v[0] * v[1] * verTheta;\r\n        var xzV = v[0] * v[2] * verTheta;\r\n        var yyV = v[1] * v[1] * verTheta;\r\n        var yzV = v[1] * v[2] * verTheta;\r\n        var zzV = v[2] * v[2] * verTheta;\r\n        var xs = v[0] * sinTheta;\r\n        var ys = v[1] * sinTheta;\r\n        var zs = v[2] * sinTheta;\r\n\r\n        var result = [\r\n            xxV + cosTheta, xyV + zs, xzV - ys, 0,\r\n            xyV - zs, yyV + cosTheta, yzV + xs, 0,\r\n            xzV + ys, yzV - xs, zzV + cosTheta, 0,\r\n            0, 0, 0, 1\r\n        ];\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Return a Transform which represents a transform matrix applied about\r\n     * a separate origin point.\r\n     *\r\n     * @method aboutOrigin\r\n     * @static\r\n     * @param {Array.Number} v origin point to apply matrix\r\n     * @param {Transform} m matrix to apply\r\n     * @return {Transform}\r\n     */\r\n    Transform.aboutOrigin = function aboutOrigin(v, m) {\r\n        var t0 = v[0] - (v[0] * m[0] + v[1] * m[4] + v[2] * m[8]);\r\n        var t1 = v[1] - (v[0] * m[1] + v[1] * m[5] + v[2] * m[9]);\r\n        var t2 = v[2] - (v[0] * m[2] + v[1] * m[6] + v[2] * m[10]);\r\n        return Transform.thenMove(m, [t0, t1, t2]);\r\n    };\r\n\r\n    /**\r\n     * Return a Transform representation of a skew transformation\r\n     *\r\n     * @method skew\r\n     * @static\r\n     * @param {Number} phi scale factor skew in the x axis\r\n     * @param {Number} theta scale factor skew in the y axis\r\n     * @param {Number} psi scale factor skew in the z axis\r\n     * @return {Transform}\r\n     */\r\n    Transform.skew = function skew(phi, theta, psi) {\r\n        return [1, Math.tan(theta), 0, 0, Math.tan(psi), 1, 0, 0, 0, Math.tan(phi), 1, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform representation of a skew in the x-direction\r\n     *\r\n     * @method skewX\r\n     * @static\r\n     * @param {Number} angle the angle between the top and left sides\r\n     * @return {Transform}\r\n     */\r\n    Transform.skewX = function skewX(angle) {\r\n        return [1, 0, 0, 0, Math.tan(angle), 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return a Transform representation of a skew in the y-direction\r\n     *\r\n     * @method skewY\r\n     * @static\r\n     * @param {Number} angle the angle between the top and right sides\r\n     * @return {Transform}\r\n     */\r\n    Transform.skewY = function skewY(angle) {\r\n        return [1, Math.tan(angle), 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Returns a perspective Transform matrix\r\n     *\r\n     * @method perspective\r\n     * @static\r\n     * @param {Number} focusZ z position of focal point\r\n     * @return {Transform}\r\n     */\r\n    Transform.perspective = function perspective(focusZ) {\r\n        return [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, -1 / focusZ, 0, 0, 0, 1];\r\n    };\r\n\r\n    /**\r\n     * Return translation vector component of given Transform\r\n     *\r\n     * @method getTranslate\r\n     * @static\r\n     * @param {Transform} m Transform\r\n     * @return {Array.Number} the translation vector [t_x, t_y, t_z]\r\n     */\r\n    Transform.getTranslate = function getTranslate(m) {\r\n        return [m[12], m[13], m[14]];\r\n    };\r\n\r\n    /**\r\n     * Return inverse affine transform for given Transform.\r\n     *   Note: This assumes m[3] = m[7] = m[11] = 0, and m[15] = 1.\r\n     *   Will provide incorrect results if not invertible or preconditions not met.\r\n     *\r\n     * @method inverse\r\n     * @static\r\n     * @param {Transform} m Transform\r\n     * @return {Transform}\r\n     */\r\n    Transform.inverse = function inverse(m) {\r\n        // only need to consider 3x3 section for affine\r\n        var c0 = m[5] * m[10] - m[6] * m[9];\r\n        var c1 = m[4] * m[10] - m[6] * m[8];\r\n        var c2 = m[4] * m[9] - m[5] * m[8];\r\n        var c4 = m[1] * m[10] - m[2] * m[9];\r\n        var c5 = m[0] * m[10] - m[2] * m[8];\r\n        var c6 = m[0] * m[9] - m[1] * m[8];\r\n        var c8 = m[1] * m[6] - m[2] * m[5];\r\n        var c9 = m[0] * m[6] - m[2] * m[4];\r\n        var c10 = m[0] * m[5] - m[1] * m[4];\r\n        var detM = m[0] * c0 - m[1] * c1 + m[2] * c2;\r\n        var invD = 1 / detM;\r\n        var result = [\r\n            invD * c0, -invD * c4, invD * c8, 0,\r\n            -invD * c1, invD * c5, -invD * c9, 0,\r\n            invD * c2, -invD * c6, invD * c10, 0,\r\n            0, 0, 0, 1\r\n        ];\r\n        result[12] = -m[12] * result[0] - m[13] * result[4] - m[14] * result[8];\r\n        result[13] = -m[12] * result[1] - m[13] * result[5] - m[14] * result[9];\r\n        result[14] = -m[12] * result[2] - m[13] * result[6] - m[14] * result[10];\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Returns the transpose of a 4x4 matrix\r\n     *\r\n     * @method transpose\r\n     * @static\r\n     * @param {Transform} m matrix\r\n     * @return {Transform} the resulting transposed matrix\r\n     */\r\n    Transform.transpose = function transpose(m) {\r\n        return [m[0], m[4], m[8], m[12], m[1], m[5], m[9], m[13], m[2], m[6], m[10], m[14], m[3], m[7], m[11], m[15]];\r\n    };\r\n\r\n    function _normSquared(v) {\r\n        return (v.length === 2) ? v[0] * v[0] + v[1] * v[1] : v[0] * v[0] + v[1] * v[1] + v[2] * v[2];\r\n    }\r\n    function _norm(v) {\r\n        return Math.sqrt(_normSquared(v));\r\n    }\r\n    function _sign(n) {\r\n        return (n < 0) ? -1 : 1;\r\n    }\r\n\r\n    /**\r\n     * Decompose Transform into separate .translate, .rotate, .scale,\r\n     *    and .skew components.\r\n     *\r\n     * @method interpret\r\n     * @static\r\n     * @param {Transform} M transform matrix\r\n     * @return {Object} matrix spec object with component matrices .translate,\r\n     *    .rotate, .scale, .skew\r\n     */\r\n    Transform.interpret = function interpret(M) {\r\n\r\n        // QR decomposition via Householder reflections\r\n        //FIRST ITERATION\r\n\r\n        //default Q1 to the identity matrix;\r\n        var x = [M[0], M[1], M[2]];                // first column vector\r\n        var sgn = _sign(x[0]);                     // sign of first component of x (for stability)\r\n        var xNorm = _norm(x);                      // norm of first column vector\r\n        var v = [x[0] + sgn * xNorm, x[1], x[2]];  // v = x + sign(x[0])|x|e1\r\n        var mult = 2 / _normSquared(v);            // mult = 2/v'v\r\n\r\n        //bail out if our Matrix is singular\r\n        if (mult >= Infinity) {\r\n            return {translate: Transform.getTranslate(M), rotate: [0, 0, 0], scale: [0, 0, 0], skew: [0, 0, 0]};\r\n        }\r\n\r\n        //evaluate Q1 = I - 2vv'/v'v\r\n        var Q1 = [0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];\r\n\r\n        //diagonals\r\n        Q1[0]  = 1 - mult * v[0] * v[0];    // 0,0 entry\r\n        Q1[5]  = 1 - mult * v[1] * v[1];    // 1,1 entry\r\n        Q1[10] = 1 - mult * v[2] * v[2];    // 2,2 entry\r\n\r\n        //upper diagonal\r\n        Q1[1] = -mult * v[0] * v[1];        // 0,1 entry\r\n        Q1[2] = -mult * v[0] * v[2];        // 0,2 entry\r\n        Q1[6] = -mult * v[1] * v[2];        // 1,2 entry\r\n\r\n        //lower diagonal\r\n        Q1[4] = Q1[1];                      // 1,0 entry\r\n        Q1[8] = Q1[2];                      // 2,0 entry\r\n        Q1[9] = Q1[6];                      // 2,1 entry\r\n\r\n        //reduce first column of M\r\n        var MQ1 = Transform.multiply(Q1, M);\r\n\r\n        //SECOND ITERATION on (1,1) minor\r\n        var x2 = [MQ1[5], MQ1[6]];\r\n        var sgn2 = _sign(x2[0]);                    // sign of first component of x (for stability)\r\n        var x2Norm = _norm(x2);                     // norm of first column vector\r\n        var v2 = [x2[0] + sgn2 * x2Norm, x2[1]];    // v = x + sign(x[0])|x|e1\r\n        var mult2 = 2 / _normSquared(v2);           // mult = 2/v'v\r\n\r\n        //evaluate Q2 = I - 2vv'/v'v\r\n        var Q2 = [1, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 1];\r\n\r\n        //diagonal\r\n        Q2[5]  = 1 - mult2 * v2[0] * v2[0]; // 1,1 entry\r\n        Q2[10] = 1 - mult2 * v2[1] * v2[1]; // 2,2 entry\r\n\r\n        //off diagonals\r\n        Q2[6] = -mult2 * v2[0] * v2[1];     // 2,1 entry\r\n        Q2[9] = Q2[6];                      // 1,2 entry\r\n\r\n        //calc QR decomposition. Q = Q1*Q2, R = Q'*M\r\n        var Q = Transform.multiply(Q2, Q1);      //note: really Q transpose\r\n        var R = Transform.multiply(Q, M);\r\n\r\n        //remove negative scaling\r\n        var remover = Transform.scale(R[0] < 0 ? -1 : 1, R[5] < 0 ? -1 : 1, R[10] < 0 ? -1 : 1);\r\n        R = Transform.multiply(R, remover);\r\n        Q = Transform.multiply(remover, Q);\r\n\r\n        //decompose into rotate/scale/skew matrices\r\n        var result = {};\r\n        result.translate = Transform.getTranslate(M);\r\n        result.rotate = [Math.atan2(-Q[6], Q[10]), Math.asin(Q[2]), Math.atan2(-Q[1], Q[0])];\r\n        if (!result.rotate[0]) {\r\n            result.rotate[0] = 0;\r\n            result.rotate[2] = Math.atan2(Q[4], Q[5]);\r\n        }\r\n        result.scale = [R[0], R[5], R[10]];\r\n        result.skew = [Math.atan2(R[9], result.scale[2]), Math.atan2(R[8], result.scale[2]), Math.atan2(R[4], result.scale[0])];\r\n\r\n        //double rotation workaround\r\n        if (Math.abs(result.rotate[0]) + Math.abs(result.rotate[2]) > 1.5 * Math.PI) {\r\n            result.rotate[1] = Math.PI - result.rotate[1];\r\n            if (result.rotate[1] > Math.PI) result.rotate[1] -= 2 * Math.PI;\r\n            if (result.rotate[1] < -Math.PI) result.rotate[1] += 2 * Math.PI;\r\n            if (result.rotate[0] < 0) result.rotate[0] += Math.PI;\r\n            else result.rotate[0] -= Math.PI;\r\n            if (result.rotate[2] < 0) result.rotate[2] += Math.PI;\r\n            else result.rotate[2] -= Math.PI;\r\n        }\r\n\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Weighted average between two matrices by averaging their\r\n     *     translation, rotation, scale, skew components.\r\n     *     f(M1,M2,t) = (1 - t) * M1 + t * M2\r\n     *\r\n     * @method average\r\n     * @static\r\n     * @param {Transform} M1 f(M1,M2,0) = M1\r\n     * @param {Transform} M2 f(M1,M2,1) = M2\r\n     * @param {Number} t\r\n     * @return {Transform}\r\n     */\r\n    Transform.average = function average(M1, M2, t) {\r\n        t = (t === undefined) ? 0.5 : t;\r\n        var specM1 = Transform.interpret(M1);\r\n        var specM2 = Transform.interpret(M2);\r\n\r\n        var specAvg = {\r\n            translate: [0, 0, 0],\r\n            rotate: [0, 0, 0],\r\n            scale: [0, 0, 0],\r\n            skew: [0, 0, 0]\r\n        };\r\n\r\n        for (var i = 0; i < 3; i++) {\r\n            specAvg.translate[i] = (1 - t) * specM1.translate[i] + t * specM2.translate[i];\r\n            specAvg.rotate[i] = (1 - t) * specM1.rotate[i] + t * specM2.rotate[i];\r\n            specAvg.scale[i] = (1 - t) * specM1.scale[i] + t * specM2.scale[i];\r\n            specAvg.skew[i] = (1 - t) * specM1.skew[i] + t * specM2.skew[i];\r\n        }\r\n        return Transform.build(specAvg);\r\n    };\r\n\r\n    /**\r\n     * Compose .translate, .rotate, .scale, .skew components into\r\n     * Transform matrix\r\n     *\r\n     * @method build\r\n     * @static\r\n     * @param {matrixSpec} spec object with component matrices .translate,\r\n     *    .rotate, .scale, .skew\r\n     * @return {Transform} composed transform\r\n     */\r\n    Transform.build = function build(spec) {\r\n        var scaleMatrix = Transform.scale(spec.scale[0], spec.scale[1], spec.scale[2]);\r\n        var skewMatrix = Transform.skew(spec.skew[0], spec.skew[1], spec.skew[2]);\r\n        var rotateMatrix = Transform.rotate(spec.rotate[0], spec.rotate[1], spec.rotate[2]);\r\n        return Transform.thenMove(Transform.multiply(Transform.multiply(rotateMatrix, skewMatrix), scaleMatrix), spec.translate);\r\n    };\r\n\r\n    /**\r\n     * Determine if two Transforms are component-wise equal\r\n     *   Warning: breaks on perspective Transforms\r\n     *\r\n     * @method equals\r\n     * @static\r\n     * @param {Transform} a matrix\r\n     * @param {Transform} b matrix\r\n     * @return {boolean}\r\n     */\r\n    Transform.equals = function equals(a, b) {\r\n        return !Transform.notEquals(a, b);\r\n    };\r\n\r\n    /**\r\n     * Determine if two Transforms are component-wise unequal\r\n     *   Warning: breaks on perspective Transforms\r\n     *\r\n     * @method notEquals\r\n     * @static\r\n     * @param {Transform} a matrix\r\n     * @param {Transform} b matrix\r\n     * @return {boolean}\r\n     */\r\n    Transform.notEquals = function notEquals(a, b) {\r\n        if (a === b) return false;\r\n\r\n        // shortci\r\n        return !(a && b) ||\r\n            a[12] !== b[12] || a[13] !== b[13] || a[14] !== b[14] ||\r\n            a[0] !== b[0] || a[1] !== b[1] || a[2] !== b[2] ||\r\n            a[4] !== b[4] || a[5] !== b[5] || a[6] !== b[6] ||\r\n            a[8] !== b[8] || a[9] !== b[9] || a[10] !== b[10];\r\n    };\r\n\r\n    /**\r\n     * Constrain angle-trio components to range of [-pi, pi).\r\n     *\r\n     * @method normalizeRotation\r\n     * @static\r\n     * @param {Array.Number} rotation phi, theta, psi (array of floats\r\n     *    && array.length == 3)\r\n     * @return {Array.Number} new phi, theta, psi triplet\r\n     *    (array of floats && array.length == 3)\r\n     */\r\n    Transform.normalizeRotation = function normalizeRotation(rotation) {\r\n        var result = rotation.slice(0);\r\n        if (result[0] === Math.PI * 0.5 || result[0] === -Math.PI * 0.5) {\r\n            result[0] = -result[0];\r\n            result[1] = Math.PI - result[1];\r\n            result[2] -= Math.PI;\r\n        }\r\n        if (result[0] > Math.PI * 0.5) {\r\n            result[0] = result[0] - Math.PI;\r\n            result[1] = Math.PI - result[1];\r\n            result[2] -= Math.PI;\r\n        }\r\n        if (result[0] < -Math.PI * 0.5) {\r\n            result[0] = result[0] + Math.PI;\r\n            result[1] = -Math.PI - result[1];\r\n            result[2] -= Math.PI;\r\n        }\r\n        while (result[1] < -Math.PI) result[1] += 2 * Math.PI;\r\n        while (result[1] >= Math.PI) result[1] -= 2 * Math.PI;\r\n        while (result[2] < -Math.PI) result[2] += 2 * Math.PI;\r\n        while (result[2] >= Math.PI) result[2] -= 2 * Math.PI;\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * (Property) Array defining a translation forward in z by 1\r\n     *\r\n     * @property {array} inFront\r\n     * @static\r\n     * @final\r\n     */\r\n    Transform.inFront = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, 1e-3, 1];\r\n\r\n    /**\r\n     * (Property) Array defining a translation backwards in z by 1\r\n     *\r\n     * @property {array} behind\r\n     * @static\r\n     * @final\r\n     */\r\n    Transform.behind = [1, 0, 0, 0, 0, 1, 0, 0, 0, 0, 1, 0, 0, 0, -1e-3, 1];\r\n\r\n    module.exports = Transform;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Transform.js\n ** module id = 17\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var EventEmitter = require('./EventEmitter');\r\n\r\n    /**\r\n     * EventHandler forwards received events to a set of provided callback functions.\r\n     * It allows events to be captured, processed, and optionally piped through to other event handlers.\r\n     *\r\n     * @class EventHandler\r\n     * @extends EventEmitter\r\n     * @constructor\r\n     */\r\n    function EventHandler() {\r\n        EventEmitter.apply(this, arguments);\r\n\r\n        this.downstream = []; // downstream event handlers\r\n        this.downstreamFn = []; // downstream functions\r\n\r\n        this.upstream = []; // upstream event handlers\r\n        this.upstreamListeners = {}; // upstream listeners\r\n    }\r\n    EventHandler.prototype = Object.create(EventEmitter.prototype);\r\n    EventHandler.prototype.constructor = EventHandler;\r\n\r\n    /**\r\n     * Assign an event handler to receive an object's input events.\r\n     *\r\n     * @method setInputHandler\r\n     * @static\r\n     *\r\n     * @param {Object} object object to mix trigger, subscribe, and unsubscribe functions into\r\n     * @param {EventHandler} handler assigned event handler\r\n     */\r\n    EventHandler.setInputHandler = function setInputHandler(object, handler) {\r\n        object.trigger = handler.trigger.bind(handler);\r\n        if (handler.subscribe && handler.unsubscribe) {\r\n            object.subscribe = handler.subscribe.bind(handler);\r\n            object.unsubscribe = handler.unsubscribe.bind(handler);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Assign an event handler to receive an object's output events.\r\n     *\r\n     * @method setOutputHandler\r\n     * @static\r\n     *\r\n     * @param {Object} object object to mix pipe, unpipe, on, addListener, and removeListener functions into\r\n     * @param {EventHandler} handler assigned event handler\r\n     */\r\n    EventHandler.setOutputHandler = function setOutputHandler(object, handler) {\r\n        if (handler instanceof EventHandler) handler.bindThis(object);\r\n        object.pipe = handler.pipe.bind(handler);\r\n        object.unpipe = handler.unpipe.bind(handler);\r\n        object.on = handler.on.bind(handler);\r\n        object.addListener = object.on;\r\n        object.removeListener = handler.removeListener.bind(handler);\r\n    };\r\n\r\n    /**\r\n     * Trigger an event, sending to all downstream handlers\r\n     *   listening for provided 'type' key.\r\n     *\r\n     * @method emit\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {Object} event event data\r\n     * @return {EventHandler} this\r\n     */\r\n    EventHandler.prototype.emit = function emit(type, event) {\r\n        EventEmitter.prototype.emit.apply(this, arguments);\r\n        var i = 0;\r\n        for (i = 0; i < this.downstream.length; i++) {\r\n            if (this.downstream[i].trigger) this.downstream[i].trigger(type, event);\r\n        }\r\n        for (i = 0; i < this.downstreamFn.length; i++) {\r\n            this.downstreamFn[i](type, event);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias for emit\r\n     * @method addListener\r\n     */\r\n    EventHandler.prototype.trigger = EventHandler.prototype.emit;\r\n\r\n    /**\r\n     * Add event handler object to set of downstream handlers.\r\n     *\r\n     * @method pipe\r\n     *\r\n     * @param {EventHandler} target event handler target object\r\n     * @return {EventHandler} passed event handler\r\n     */\r\n    EventHandler.prototype.pipe = function pipe(target) {\r\n        if (target.subscribe instanceof Function) return target.subscribe(this);\r\n\r\n        var downstreamCtx = (target instanceof Function) ? this.downstreamFn : this.downstream;\r\n        var index = downstreamCtx.indexOf(target);\r\n        if (index < 0) downstreamCtx.push(target);\r\n\r\n        if (target instanceof Function) target('pipe', null);\r\n        else if (target.trigger) target.trigger('pipe', null);\r\n\r\n        return target;\r\n    };\r\n\r\n    /**\r\n     * Remove handler object from set of downstream handlers.\r\n     *   Undoes work of \"pipe\".\r\n     *\r\n     * @method unpipe\r\n     *\r\n     * @param {EventHandler} target target handler object\r\n     * @return {EventHandler} provided target\r\n     */\r\n    EventHandler.prototype.unpipe = function unpipe(target) {\r\n        if (target.unsubscribe instanceof Function) return target.unsubscribe(this);\r\n\r\n        var downstreamCtx = (target instanceof Function) ? this.downstreamFn : this.downstream;\r\n        var index = downstreamCtx.indexOf(target);\r\n        if (index >= 0) {\r\n            downstreamCtx.splice(index, 1);\r\n            if (target instanceof Function) target('unpipe', null);\r\n            else if (target.trigger) target.trigger('unpipe', null);\r\n            return target;\r\n        }\r\n        else return false;\r\n    };\r\n\r\n    /**\r\n     * Bind a callback function to an event type handled by this object.\r\n     *\r\n     * @method \"on\"\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function(string, Object)} handler callback\r\n     * @return {EventHandler} this\r\n     */\r\n    EventHandler.prototype.on = function on(type, handler) {\r\n        EventEmitter.prototype.on.apply(this, arguments);\r\n        if (!(type in this.upstreamListeners)) {\r\n            var upstreamListener = this.trigger.bind(this, type);\r\n            this.upstreamListeners[type] = upstreamListener;\r\n            for (var i = 0; i < this.upstream.length; i++) {\r\n                this.upstream[i].on(type, upstreamListener);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias for \"on\"\r\n     * @method addListener\r\n     */\r\n    EventHandler.prototype.addListener = EventHandler.prototype.on;\r\n\r\n    /**\r\n     * Listen for events from an upstream event handler.\r\n     *\r\n     * @method subscribe\r\n     *\r\n     * @param {EventEmitter} source source emitter object\r\n     * @return {EventHandler} this\r\n     */\r\n    EventHandler.prototype.subscribe = function subscribe(source) {\r\n        var index = this.upstream.indexOf(source);\r\n        if (index < 0) {\r\n            this.upstream.push(source);\r\n            for (var type in this.upstreamListeners) {\r\n                source.on(type, this.upstreamListeners[type]);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Stop listening to events from an upstream event handler.\r\n     *\r\n     * @method unsubscribe\r\n     *\r\n     * @param {EventEmitter} source source emitter object\r\n     * @return {EventHandler} this\r\n     */\r\n    EventHandler.prototype.unsubscribe = function unsubscribe(source) {\r\n        var index = this.upstream.indexOf(source);\r\n        if (index >= 0) {\r\n            this.upstream.splice(index, 1);\r\n            for (var type in this.upstreamListeners) {\r\n                source.removeListener(type, this.upstreamListeners[type]);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    module.exports = EventHandler;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/EventHandler.js\n ** module id = 18\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    /**\r\n     * EventEmitter represents a channel for events.\r\n     *\r\n     * @class EventEmitter\r\n     * @constructor\r\n     */\r\n    function EventEmitter() {\r\n        this.listeners = {};\r\n        this._owner = this;\r\n    }\r\n\r\n    /**\r\n     * Trigger an event, sending to all downstream handlers\r\n     *   listening for provided 'type' key.\r\n     *\r\n     * @method emit\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {Object} event event data\r\n     * @return {EventHandler} this\r\n     */\r\n    EventEmitter.prototype.emit = function emit(type, event) {\r\n        var handlers = this.listeners[type];\r\n        if (handlers) {\r\n            for (var i = 0; i < handlers.length; i++) {\r\n                handlers[i].call(this._owner, event);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Bind a callback function to an event type handled by this object.\r\n     *\r\n     * @method \"on\"\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function(string, Object)} handler callback\r\n     * @return {EventHandler} this\r\n     */\r\n   EventEmitter.prototype.on = function on(type, handler) {\r\n        if (!(type in this.listeners)) this.listeners[type] = [];\r\n        var index = this.listeners[type].indexOf(handler);\r\n        if (index < 0) this.listeners[type].push(handler);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias for \"on\".\r\n     * @method addListener\r\n     */\r\n    EventEmitter.prototype.addListener = EventEmitter.prototype.on;\r\n\r\n   /**\r\n     * Unbind an event by type and handler.\r\n     *   This undoes the work of \"on\".\r\n     *\r\n     * @method removeListener\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function} handler function object to remove\r\n     * @return {EventEmitter} this\r\n     */\r\n    EventEmitter.prototype.removeListener = function removeListener(type, handler) {\r\n        var listener = this.listeners[type];\r\n        if (listener !== undefined) {\r\n            var index = listener.indexOf(handler);\r\n            if (index >= 0) listener.splice(index, 1);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Call event handlers with this set to owner.\r\n     *\r\n     * @method bindThis\r\n     *\r\n     * @param {Object} owner object this EventEmitter belongs to\r\n     */\r\n    EventEmitter.prototype.bindThis = function bindThis(owner) {\r\n        this._owner = owner;\r\n    };\r\n\r\n    module.exports = EventEmitter;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/EventEmitter.js\n ** module id = 19\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * Internal helper object to Context that handles the process of\r\n     *   creating and allocating DOM elements within a managed div.\r\n     *   Private.\r\n     *\r\n     * @class ElementAllocator\r\n     * @constructor\r\n     * @private\r\n     * @param {Node} container document element in which Famo.us content will be inserted\r\n     */\r\n    function ElementAllocator(container) {\r\n        if (!container) container = document.createDocumentFragment();\r\n        this.container = container;\r\n        this.detachedNodes = {};\r\n        this.nodeCount = 0;\r\n    }\r\n\r\n    /**\r\n     * Move the document elements from their original container to a new one.\r\n     *\r\n     * @private\r\n     * @method migrate\r\n     *\r\n     * @param {Node} container document element to which Famo.us content will be migrated\r\n     */\r\n    ElementAllocator.prototype.migrate = function migrate(container) {\r\n        var oldContainer = this.container;\r\n        if (container === oldContainer) return;\r\n\r\n        if (oldContainer instanceof DocumentFragment) {\r\n            container.appendChild(oldContainer);\r\n        }\r\n        else {\r\n            while (oldContainer.hasChildNodes()) {\r\n                container.appendChild(oldContainer.firstChild);\r\n            }\r\n        }\r\n\r\n        this.container = container;\r\n    };\r\n\r\n    /**\r\n     * Allocate an element of specified type from the pool.\r\n     *\r\n     * @private\r\n     * @method allocate\r\n     *\r\n     * @param {string} type type of element, e.g. 'div'\r\n     * @return {Node} allocated document element\r\n     */\r\n    ElementAllocator.prototype.allocate = function allocate(type) {\r\n        type = type.toLowerCase();\r\n        if (!(type in this.detachedNodes)) this.detachedNodes[type] = [];\r\n        var nodeStore = this.detachedNodes[type];\r\n        var result;\r\n        if (nodeStore.length > 0) {\r\n            result = nodeStore.pop();\r\n        }\r\n        else {\r\n            result = document.createElement(type);\r\n            this.container.appendChild(result);\r\n        }\r\n        this.nodeCount++;\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * De-allocate an element of specified type to the pool.\r\n     *\r\n     * @private\r\n     * @method deallocate\r\n     *\r\n     * @param {Node} element document element to deallocate\r\n     */\r\n    ElementAllocator.prototype.deallocate = function deallocate(element) {\r\n        var nodeType = element.nodeName.toLowerCase();\r\n        var nodeStore = this.detachedNodes[nodeType];\r\n        nodeStore.push(element);\r\n        this.nodeCount--;\r\n    };\r\n\r\n    /**\r\n     * Get count of total allocated nodes in the document.\r\n     *\r\n     * @private\r\n     * @method getNodeCount\r\n     *\r\n     * @return {Number} total node count\r\n     */\r\n    ElementAllocator.prototype.getNodeCount = function getNodeCount() {\r\n        return this.nodeCount;\r\n    };\r\n\r\n    module.exports = ElementAllocator;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/ElementAllocator.js\n ** module id = 20\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n/*eslint-disable new-cap */\r\ndefine(function(require, exports, module) {\r\n    var MultipleTransition = require('./MultipleTransition');\r\n    var TweenTransition = require('./TweenTransition');\r\n\r\n    /**\r\n     * A state maintainer for a smooth transition between\r\n     *    numerically-specified states. Example numeric states include floats or\r\n     *    Transform objects.\r\n     *\r\n     * An initial state is set with the constructor or set(startState). A\r\n     *    corresponding end state and transition are set with set(endState,\r\n     *    transition). Subsequent calls to set(endState, transition) begin at\r\n     *    the last state. Calls to get(timestamp) provide the interpolated state\r\n     *    along the way.\r\n     *\r\n     * Note that there is no event loop here - calls to get() are the only way\r\n     *    to find state projected to the current (or provided) time and are\r\n     *    the only way to trigger callbacks. Usually this kind of object would\r\n     *    be part of the render() path of a visible component.\r\n     *\r\n     * @class Transitionable\r\n     * @constructor\r\n     * @param {number|Array.Number|Object.<number|string, number>} start\r\n     *    beginning state\r\n     */\r\n    function Transitionable(start) {\r\n        this.currentAction = null;\r\n        this.actionQueue = [];\r\n        this.callbackQueue = [];\r\n\r\n        this.state = 0;\r\n        this.velocity = undefined;\r\n        this._callback = undefined;\r\n        this._engineInstance = null;\r\n        this._currentMethod = null;\r\n\r\n        this.set(start);\r\n    }\r\n\r\n    var transitionMethods = {};\r\n\r\n    Transitionable.register = function register(methods) {\r\n        var success = true;\r\n        for (var method in methods) {\r\n            if (!Transitionable.registerMethod(method, methods[method]))\r\n                success = false;\r\n        }\r\n        return success;\r\n    };\r\n\r\n    Transitionable.registerMethod = function registerMethod(name, engineClass) {\r\n        if (!(name in transitionMethods)) {\r\n            transitionMethods[name] = engineClass;\r\n            return true;\r\n        }\r\n        else return false;\r\n    };\r\n\r\n    Transitionable.unregisterMethod = function unregisterMethod(name) {\r\n        if (name in transitionMethods) {\r\n            delete transitionMethods[name];\r\n            return true;\r\n        }\r\n        else return false;\r\n    };\r\n\r\n    function _loadNext() {\r\n        if (this._callback) {\r\n            var callback = this._callback;\r\n            this._callback = undefined;\r\n            callback();\r\n        }\r\n        if (this.actionQueue.length <= 0) {\r\n            this.set(this.get()); // no update required\r\n            return;\r\n        }\r\n        this.currentAction = this.actionQueue.shift();\r\n        this._callback = this.callbackQueue.shift();\r\n\r\n        var method = null;\r\n        var endValue = this.currentAction[0];\r\n        var transition = this.currentAction[1];\r\n        if (transition instanceof Object && transition.method) {\r\n            method = transition.method;\r\n            if (typeof method === 'string') method = transitionMethods[method];\r\n        }\r\n        else {\r\n            method = TweenTransition;\r\n        }\r\n\r\n        if (this._currentMethod !== method) {\r\n            if (!(endValue instanceof Object) || method.SUPPORTS_MULTIPLE === true || endValue.length <= method.SUPPORTS_MULTIPLE) {\r\n                this._engineInstance = new method();\r\n            }\r\n            else {\r\n                this._engineInstance = new MultipleTransition(method);\r\n            }\r\n            this._currentMethod = method;\r\n        }\r\n\r\n        this._engineInstance.reset(this.state, this.velocity);\r\n        if (this.velocity !== undefined) transition.velocity = this.velocity;\r\n        this._engineInstance.set(endValue, transition, _loadNext.bind(this));\r\n    }\r\n\r\n    /**\r\n     * Add transition to end state to the queue of pending transitions. Special\r\n     *    Use: calling without a transition resets the object to that state with\r\n     *    no pending actions\r\n     *\r\n     * @method set\r\n     *\r\n     * @param {number|FamousMatrix|Array.Number|Object.<number, number>} endState\r\n     *    end state to which we interpolate\r\n     * @param {transition=} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {function()=} callback Zero-argument function to call on observed\r\n     *    completion (t=1)\r\n     */\r\n    Transitionable.prototype.set = function set(endState, transition, callback) {\r\n        if (!transition) {\r\n            this.reset(endState);\r\n            if (callback) callback();\r\n            return this;\r\n        }\r\n\r\n        var action = [endState, transition];\r\n        this.actionQueue.push(action);\r\n        this.callbackQueue.push(callback);\r\n        if (!this.currentAction) _loadNext.call(this);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Cancel all transitions and reset to a stable state\r\n     *\r\n     * @method reset\r\n     *\r\n     * @param {number|Array.Number|Object.<number, number>} startState\r\n     *    stable state to set to\r\n     */\r\n    Transitionable.prototype.reset = function reset(startState, startVelocity) {\r\n        this._currentMethod = null;\r\n        this._engineInstance = null;\r\n        this._callback = undefined;\r\n        this.state = startState;\r\n        this.velocity = startVelocity;\r\n        this.currentAction = null;\r\n        this.actionQueue = [];\r\n        this.callbackQueue = [];\r\n    };\r\n\r\n    /**\r\n     * Add delay action to the pending action queue queue.\r\n     *\r\n     * @method delay\r\n     *\r\n     * @param {number} duration delay time (ms)\r\n     * @param {function} callback Zero-argument function to call on observed\r\n     *    completion (t=1)\r\n     */\r\n    Transitionable.prototype.delay = function delay(duration, callback) {\r\n        var endValue;\r\n        if (this.actionQueue.length) endValue = this.actionQueue[this.actionQueue.length - 1][0];\r\n        else if (this.currentAction) endValue = this.currentAction[0];\r\n        else endValue = this.get();\r\n\r\n        return this.set(endValue, { duration: duration,\r\n            curve: function() {\r\n                return 0;\r\n            }},\r\n            callback\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Get interpolated state of current action at provided time. If the last\r\n     *    action has completed, invoke its callback.\r\n     *\r\n     * @method get\r\n     *\r\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\r\n     *    time. If omitted, use current time. (Unix epoch time)\r\n     * @return {number|Object.<number|string, number>} beginning state\r\n     *    interpolated to this point in time.\r\n     */\r\n    Transitionable.prototype.get = function get(timestamp) {\r\n        if (this._engineInstance) {\r\n            if (this._engineInstance.getVelocity)\r\n                this.velocity = this._engineInstance.getVelocity();\r\n            this.state = this._engineInstance.get(timestamp);\r\n        }\r\n        return this.state;\r\n    };\r\n\r\n    /**\r\n     * Is there at least one action pending completion?\r\n     *\r\n     * @method isActive\r\n     *\r\n     * @return {boolean}\r\n     */\r\n    Transitionable.prototype.isActive = function isActive() {\r\n        return !!this.currentAction;\r\n    };\r\n\r\n    /**\r\n     * Halt transition at current state and erase all pending actions.\r\n     *\r\n     * @method halt\r\n     */\r\n    Transitionable.prototype.halt = function halt() {\r\n        return this.set(this.get());\r\n    };\r\n\r\n    module.exports = Transitionable;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/Transitionable.js\n ** module id = 21\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n/*eslint-disable new-cap */\r\ndefine(function(require, exports, module) {\r\n    var Utility = require('../utilities/Utility');\r\n\r\n    /**\r\n     * Transition meta-method to support transitioning multiple\r\n     *   values with scalar-only methods.\r\n     *\r\n     *\r\n     * @class MultipleTransition\r\n     * @constructor\r\n     *\r\n     * @param {Object} method Transionable class to multiplex\r\n     */\r\n    function MultipleTransition(method) {\r\n        this.method = method;\r\n        this._instances = [];\r\n        this.state = [];\r\n    }\r\n\r\n    MultipleTransition.SUPPORTS_MULTIPLE = true;\r\n\r\n    /**\r\n     * Get the state of each transition.\r\n     *\r\n     * @method get\r\n     *\r\n     * @return state {Number|Array} state array\r\n     */\r\n    MultipleTransition.prototype.get = function get() {\r\n        for (var i = 0; i < this._instances.length; i++) {\r\n            this.state[i] = this._instances[i].get();\r\n        }\r\n        return this.state;\r\n    };\r\n\r\n    /**\r\n     * Set the end states with a shared transition, with optional callback.\r\n     *\r\n     * @method set\r\n     *\r\n     * @param {Number|Array} endState Final State.  Use a multi-element argument for multiple transitions.\r\n     * @param {Object} transition Transition definition, shared among all instances\r\n     * @param {Function} callback called when all endStates have been reached.\r\n     */\r\n    MultipleTransition.prototype.set = function set(endState, transition, callback) {\r\n        var _allCallback = Utility.after(endState.length, callback);\r\n        for (var i = 0; i < endState.length; i++) {\r\n            if (!this._instances[i]) this._instances[i] = new (this.method)();\r\n            this._instances[i].set(endState[i], transition, _allCallback);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Reset all transitions to start state.\r\n     *\r\n     * @method reset\r\n     *\r\n     * @param  {Number|Array} startState Start state\r\n     */\r\n    MultipleTransition.prototype.reset = function reset(startState) {\r\n        for (var i = 0; i < startState.length; i++) {\r\n            if (!this._instances[i]) this._instances[i] = new (this.method)();\r\n            this._instances[i].reset(startState[i]);\r\n        }\r\n    };\r\n\r\n    module.exports = MultipleTransition;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/MultipleTransition.js\n ** module id = 22\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    /**\r\n     * This namespace holds standalone functionality.\r\n     *  Currently includes name mapping for transition curves,\r\n     *  name mapping for origin pairs, and the after() function.\r\n     *\r\n     * @class Utility\r\n     * @static\r\n     */\r\n    var Utility = {};\r\n\r\n    /**\r\n     * Table of direction array positions\r\n     *\r\n     * @property {object} Direction\r\n     * @final\r\n     */\r\n    Utility.Direction = {\r\n        X: 0,\r\n        Y: 1,\r\n        Z: 2\r\n    };\r\n\r\n    /**\r\n     * Return wrapper around callback function. Once the wrapper is called N\r\n     *   times, invoke the callback function. Arguments and scope preserved.\r\n     *\r\n     * @method after\r\n     *\r\n     * @param {number} count number of calls before callback function invoked\r\n     * @param {Function} callback wrapped callback function\r\n     *\r\n     * @return {function} wrapped callback with coundown feature\r\n     */\r\n    Utility.after = function after(count, callback) {\r\n        var counter = count;\r\n        return function() {\r\n            counter--;\r\n            if (counter === 0) callback.apply(this, arguments);\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Load a URL and return its contents in a callback\r\n     *\r\n     * @method loadURL\r\n     *\r\n     * @param {string} url URL of object\r\n     * @param {function} callback callback to dispatch with content\r\n     */\r\n    Utility.loadURL = function loadURL(url, callback) {\r\n        var xhr = new XMLHttpRequest();\r\n        xhr.onreadystatechange = function onreadystatechange() {\r\n            if (this.readyState === 4) {\r\n                if (callback) callback(this.responseText);\r\n            }\r\n        };\r\n        xhr.open('GET', url);\r\n        xhr.send();\r\n    };\r\n\r\n    /**\r\n     * Create a document fragment from a string of HTML\r\n     *\r\n     * @method createDocumentFragmentFromHTML\r\n     *\r\n     * @param {string} html HTML to convert to DocumentFragment\r\n     *\r\n     * @return {DocumentFragment} DocumentFragment representing input HTML\r\n     */\r\n    Utility.createDocumentFragmentFromHTML = function createDocumentFragmentFromHTML(html) {\r\n        var element = document.createElement('div');\r\n        element.innerHTML = html;\r\n        var result = document.createDocumentFragment();\r\n        while (element.hasChildNodes()) result.appendChild(element.firstChild);\r\n        return result;\r\n    };\r\n\r\n    /*\r\n     *  Deep clone an object.\r\n     *  @param b {Object} Object to clone\r\n     *  @return a {Object} Cloned object.\r\n     */\r\n    Utility.clone = function clone(b) {\r\n        var a;\r\n        if (typeof b === 'object') {\r\n            a = (b instanceof Array) ? [] : {};\r\n            for (var key in b) {\r\n                if (typeof b[key] === 'object' && b[key] !== null) {\r\n                    if (b[key] instanceof Array) {\r\n                        a[key] = new Array(b[key].length);\r\n                        for (var i = 0; i < b[key].length; i++) {\r\n                            a[key][i] = Utility.clone(b[key][i]);\r\n                        }\r\n                    }\r\n                    else {\r\n                      a[key] = Utility.clone(b[key]);\r\n                    }\r\n                }\r\n                else {\r\n                    a[key] = b[key];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            a = b;\r\n        }\r\n        return a;\r\n    };\r\n\r\n    module.exports = Utility;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/utilities/Utility.js\n ** module id = 23\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     *\r\n     * A state maintainer for a smooth transition between\r\n     *    numerically-specified states.  Example numeric states include floats or\r\n     *    Transfornm objects.\r\n     *\r\n     *    An initial state is set with the constructor or set(startValue). A\r\n     *    corresponding end state and transition are set with set(endValue,\r\n     *    transition). Subsequent calls to set(endValue, transition) begin at\r\n     *    the last state. Calls to get(timestamp) provide the _interpolated state\r\n     *    along the way.\r\n     *\r\n     *   Note that there is no event loop here - calls to get() are the only way\r\n     *    to find out state projected to the current (or provided) time and are\r\n     *    the only way to trigger callbacks. Usually this kind of object would\r\n     *    be part of the render() path of a visible component.\r\n     *\r\n     * @class TweenTransition\r\n     * @constructor\r\n     *\r\n     * @param {Object} options TODO\r\n     *    beginning state\r\n     */\r\n    function TweenTransition(options) {\r\n        this.options = Object.create(TweenTransition.DEFAULT_OPTIONS);\r\n        if (options) this.setOptions(options);\r\n\r\n        this._startTime = 0;\r\n        this._startValue = 0;\r\n        this._updateTime = 0;\r\n        this._endValue = 0;\r\n        this._curve = undefined;\r\n        this._duration = 0;\r\n        this._active = false;\r\n        this._callback = undefined;\r\n        this.state = 0;\r\n        this.velocity = undefined;\r\n    }\r\n\r\n    /**\r\n     * Transition curves mapping independent variable t from domain [0,1] to a\r\n     *    range within [0,1]. Includes functions 'linear', 'easeIn', 'easeOut',\r\n     *    'easeInOut', 'easeOutBounce', 'spring'.\r\n     *\r\n     * @property {object} Curve\r\n     * @final\r\n     */\r\n    TweenTransition.Curves = {\r\n        linear: function(t) {\r\n            return t;\r\n        },\r\n        easeIn: function(t) {\r\n            return t*t;\r\n        },\r\n        easeOut: function(t) {\r\n            return t*(2-t);\r\n        },\r\n        easeInOut: function(t) {\r\n            if (t <= 0.5) return 2*t*t;\r\n            else return -2*t*t + 4*t - 1;\r\n        },\r\n        easeOutBounce: function(t) {\r\n            return t*(3 - 2*t);\r\n        },\r\n        spring: function(t) {\r\n            return (1 - t) * Math.sin(6 * Math.PI * t) + t;\r\n        }\r\n    };\r\n\r\n    TweenTransition.SUPPORTS_MULTIPLE = true;\r\n    TweenTransition.DEFAULT_OPTIONS = {\r\n        curve: TweenTransition.Curves.linear,\r\n        duration: 500,\r\n        speed: 0 /* considered only if positive */\r\n    };\r\n\r\n    var registeredCurves = {};\r\n\r\n    /**\r\n     * Add \"unit\" curve to internal dictionary of registered curves.\r\n     *\r\n     * @method registerCurve\r\n     *\r\n     * @static\r\n     *\r\n     * @param {string} curveName dictionary key\r\n     * @param {unitCurve} curve function of one numeric variable mapping [0,1]\r\n     *    to range inside [0,1]\r\n     * @return {boolean} false if key is taken, else true\r\n     */\r\n    TweenTransition.registerCurve = function registerCurve(curveName, curve) {\r\n        if (!registeredCurves[curveName]) {\r\n            registeredCurves[curveName] = curve;\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Remove object with key \"curveName\" from internal dictionary of registered\r\n     *    curves.\r\n     *\r\n     * @method unregisterCurve\r\n     *\r\n     * @static\r\n     *\r\n     * @param {string} curveName dictionary key\r\n     * @return {boolean} false if key has no dictionary value\r\n     */\r\n    TweenTransition.unregisterCurve = function unregisterCurve(curveName) {\r\n        if (registeredCurves[curveName]) {\r\n            delete registeredCurves[curveName];\r\n            return true;\r\n        }\r\n        else {\r\n            return false;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Retrieve function with key \"curveName\" from internal dictionary of\r\n     *    registered curves. Default curves are defined in the\r\n     *    TweenTransition.Curves array, where the values represent\r\n     *    unitCurve functions.\r\n     *\r\n     * @method getCurve\r\n     *\r\n     * @static\r\n     *\r\n     * @param {string} curveName dictionary key\r\n     * @return {unitCurve} curve function of one numeric variable mapping [0,1]\r\n     *    to range inside [0,1]\r\n     */\r\n    TweenTransition.getCurve = function getCurve(curveName) {\r\n        var curve = registeredCurves[curveName];\r\n        if (curve !== undefined) return curve;\r\n        else throw new Error('curve not registered');\r\n    };\r\n\r\n    /**\r\n     * Retrieve all available curves.\r\n     *\r\n     * @method getCurves\r\n     *\r\n     * @static\r\n     *\r\n     * @return {object} curve functions of one numeric variable mapping [0,1]\r\n     *    to range inside [0,1]\r\n     */\r\n    TweenTransition.getCurves = function getCurves() {\r\n        return registeredCurves;\r\n    };\r\n\r\n     // Interpolate: If a linear function f(0) = a, f(1) = b, then return f(t)\r\n    function _interpolate(a, b, t) {\r\n        return ((1 - t) * a) + (t * b);\r\n    }\r\n\r\n    function _clone(obj) {\r\n        if (obj instanceof Object) {\r\n            if (obj instanceof Array) return obj.slice(0);\r\n            else return Object.create(obj);\r\n        }\r\n        else return obj;\r\n    }\r\n\r\n    // Fill in missing properties in \"transition\" with those in defaultTransition, and\r\n    //   convert internal named curve to function object, returning as new\r\n    //   object.\r\n    function _normalize(transition, defaultTransition) {\r\n        var result = {curve: defaultTransition.curve};\r\n        if (defaultTransition.duration) result.duration = defaultTransition.duration;\r\n        if (defaultTransition.speed) result.speed = defaultTransition.speed;\r\n        if (transition instanceof Object) {\r\n            if (transition.duration !== undefined) result.duration = transition.duration;\r\n            if (transition.curve) result.curve = transition.curve;\r\n            if (transition.speed) result.speed = transition.speed;\r\n        }\r\n        if (typeof result.curve === 'string') result.curve = TweenTransition.getCurve(result.curve);\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Set internal options, overriding any default options.\r\n     *\r\n     * @method setOptions\r\n     *\r\n     *\r\n     * @param {Object} options options object\r\n     * @param {Object} [options.curve] function mapping [0,1] to [0,1] or identifier\r\n     * @param {Number} [options.duration] duration in ms\r\n     * @param {Number} [options.speed] speed in pixels per ms\r\n     */\r\n    TweenTransition.prototype.setOptions = function setOptions(options) {\r\n        if (options.curve !== undefined) this.options.curve = options.curve;\r\n        if (options.duration !== undefined) this.options.duration = options.duration;\r\n        if (options.speed !== undefined) this.options.speed = options.speed;\r\n    };\r\n\r\n    /**\r\n     * Add transition to end state to the queue of pending transitions. Special\r\n     *    Use: calling without a transition resets the object to that state with\r\n     *    no pending actions\r\n     *\r\n     * @method set\r\n     *\r\n     *\r\n     * @param {number|FamousMatrix|Array.Number|Object.<number, number>} endValue\r\n     *    end state to which we _interpolate\r\n     * @param {transition=} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {function()=} callback Zero-argument function to call on observed\r\n     *    completion (t=1)\r\n     */\r\n    TweenTransition.prototype.set = function set(endValue, transition, callback) {\r\n        if (!transition) {\r\n            this.reset(endValue);\r\n            if (callback) callback();\r\n            return;\r\n        }\r\n\r\n        this._startValue = _clone(this.get());\r\n        transition = _normalize(transition, this.options);\r\n        if (transition.speed) {\r\n            var startValue = this._startValue;\r\n            if (startValue instanceof Object) {\r\n                var variance = 0;\r\n                for (var i in startValue) variance += (endValue[i] - startValue[i]) * (endValue[i] - startValue[i]);\r\n                transition.duration = Math.sqrt(variance) / transition.speed;\r\n            }\r\n            else {\r\n                transition.duration = Math.abs(endValue - startValue) / transition.speed;\r\n            }\r\n        }\r\n\r\n        this._startTime = Date.now();\r\n        this._endValue = _clone(endValue);\r\n        this._startVelocity = _clone(transition.velocity);\r\n        this._duration = transition.duration;\r\n        this._curve = transition.curve;\r\n        this._active = true;\r\n        this._callback = callback;\r\n    };\r\n\r\n    /**\r\n     * Cancel all transitions and reset to a stable state\r\n     *\r\n     * @method reset\r\n     *\r\n     * @param {number|Array.Number|Object.<number, number>} startValue\r\n     *    starting state\r\n     * @param {number} startVelocity\r\n     *    starting velocity\r\n     */\r\n    TweenTransition.prototype.reset = function reset(startValue, startVelocity) {\r\n        if (this._callback) {\r\n            var callback = this._callback;\r\n            this._callback = undefined;\r\n            callback();\r\n        }\r\n        this.state = _clone(startValue);\r\n        this.velocity = _clone(startVelocity);\r\n        this._startTime = 0;\r\n        this._duration = 0;\r\n        this._updateTime = 0;\r\n        this._startValue = this.state;\r\n        this._startVelocity = this.velocity;\r\n        this._endValue = this.state;\r\n        this._active = false;\r\n    };\r\n\r\n    /**\r\n     * Get current velocity\r\n     *\r\n     * @method getVelocity\r\n     *\r\n     * @returns {Number} velocity\r\n     */\r\n    TweenTransition.prototype.getVelocity = function getVelocity() {\r\n        return this.velocity;\r\n    };\r\n\r\n    /**\r\n     * Get interpolated state of current action at provided time. If the last\r\n     *    action has completed, invoke its callback.\r\n     *\r\n     * @method get\r\n     *\r\n     *\r\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\r\n     *    time. If omitted, use current time. (Unix epoch time)\r\n     * @return {number|Object.<number|string, number>} beginning state\r\n     *    _interpolated to this point in time.\r\n     */\r\n    TweenTransition.prototype.get = function get(timestamp) {\r\n        this.update(timestamp);\r\n        return this.state;\r\n    };\r\n\r\n    function _calculateVelocity(current, start, curve, duration, t) {\r\n        var velocity;\r\n        var eps = 1e-7;\r\n        var speed = (curve(t) - curve(t - eps)) / eps;\r\n        if (current instanceof Array) {\r\n            velocity = [];\r\n            for (var i = 0; i < current.length; i++){\r\n                if (typeof current[i] === 'number')\r\n                    velocity[i] = speed * (current[i] - start[i]) / duration;\r\n                else\r\n                    velocity[i] = 0;\r\n            }\r\n\r\n        }\r\n        else velocity = speed * (current - start) / duration;\r\n        return velocity;\r\n    }\r\n\r\n    function _calculateState(start, end, t) {\r\n        var state;\r\n        if (start instanceof Array) {\r\n            state = [];\r\n            for (var i = 0; i < start.length; i++) {\r\n                if (typeof start[i] === 'number')\r\n                    state[i] = _interpolate(start[i], end[i], t);\r\n                else\r\n                    state[i] = start[i];\r\n            }\r\n        }\r\n        else state = _interpolate(start, end, t);\r\n        return state;\r\n    }\r\n\r\n    /**\r\n     * Update internal state to the provided timestamp. This may invoke the last\r\n     *    callback and begin a new action.\r\n     *\r\n     * @method update\r\n     *\r\n     *\r\n     * @param {number=} timestamp Evaluate the curve at a normalized version of this\r\n     *    time. If omitted, use current time. (Unix epoch time)\r\n     */\r\n    TweenTransition.prototype.update = function update(timestamp) {\r\n        if (!this._active) {\r\n            if (this._callback) {\r\n                var callback = this._callback;\r\n                this._callback = undefined;\r\n                callback();\r\n            }\r\n            return;\r\n        }\r\n\r\n        if (!timestamp) timestamp = Date.now();\r\n        if (this._updateTime >= timestamp) return;\r\n        this._updateTime = timestamp;\r\n\r\n        var timeSinceStart = timestamp - this._startTime;\r\n        if (timeSinceStart >= this._duration) {\r\n            this.state = this._endValue;\r\n            this.velocity = _calculateVelocity(this.state, this._startValue, this._curve, this._duration, 1);\r\n            this._active = false;\r\n        }\r\n        else if (timeSinceStart < 0) {\r\n            this.state = this._startValue;\r\n            this.velocity = this._startVelocity;\r\n        }\r\n        else {\r\n            var t = timeSinceStart / this._duration;\r\n            this.state = _calculateState(this._startValue, this._endValue, this._curve(t));\r\n            this.velocity = _calculateVelocity(this.state, this._startValue, this._curve, this._duration, t);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Is there at least one action pending completion?\r\n     *\r\n     * @method isActive\r\n     *\r\n     *\r\n     * @return {boolean}\r\n     */\r\n    TweenTransition.prototype.isActive = function isActive() {\r\n        return this._active;\r\n    };\r\n\r\n    /**\r\n     * Halt transition at current state and erase all pending actions.\r\n     *\r\n     * @method halt\r\n     *\r\n     */\r\n    TweenTransition.prototype.halt = function halt() {\r\n        this.reset(this.get());\r\n    };\r\n\r\n    // Register all the default curves\r\n    TweenTransition.registerCurve('linear', TweenTransition.Curves.linear);\r\n    TweenTransition.registerCurve('easeIn', TweenTransition.Curves.easeIn);\r\n    TweenTransition.registerCurve('easeOut', TweenTransition.Curves.easeOut);\r\n    TweenTransition.registerCurve('easeInOut', TweenTransition.Curves.easeInOut);\r\n    TweenTransition.registerCurve('easeOutBounce', TweenTransition.Curves.easeOutBounce);\r\n    TweenTransition.registerCurve('spring', TweenTransition.Curves.spring);\r\n\r\n    TweenTransition.customCurve = function customCurve(v1, v2) {\r\n        v1 = v1 || 0; v2 = v2 || 0;\r\n        return function(t) {\r\n            return v1*t + (-2*v1 - v2 + 3)*t*t + (v1 + v2 - 2)*t*t*t;\r\n        };\r\n    };\r\n\r\n    module.exports = TweenTransition;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/TweenTransition.js\n ** module id = 24\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var EventHandler = require('./EventHandler');\r\n\r\n    /**\r\n     *  A collection of methods for setting options which can be extended\r\n     *  onto other classes.\r\n     *\r\n     *\r\n     *  **** WARNING ****\r\n     *  You can only pass through objects that will compile into valid JSON.\r\n     *\r\n     *  Valid options:\r\n     *      Strings,\r\n     *      Arrays,\r\n     *      Objects,\r\n     *      Numbers,\r\n     *      Nested Objects,\r\n     *      Nested Arrays.\r\n     *\r\n     *    This excludes:\r\n     *        Document Fragments,\r\n     *        Functions\r\n     * @class OptionsManager\r\n     * @constructor\r\n     * @param {Object} value options dictionary\r\n     */\r\n    function OptionsManager(value) {\r\n        this._value = value;\r\n        this.eventOutput = null;\r\n    }\r\n\r\n    /**\r\n     * Create options manager from source dictionary with arguments overriden by patch dictionary.\r\n     *\r\n     * @static\r\n     * @method OptionsManager.patch\r\n     *\r\n     * @param {Object} source source arguments\r\n     * @param {...Object} data argument additions and overwrites\r\n     * @return {Object} source object\r\n     */\r\n    OptionsManager.patch = function patchObject(source, data) {\r\n        var manager = new OptionsManager(source);\r\n        for (var i = 1; i < arguments.length; i++) manager.patch(arguments[i]);\r\n        return source;\r\n    };\r\n\r\n    function _createEventOutput() {\r\n        this.eventOutput = new EventHandler();\r\n        this.eventOutput.bindThis(this);\r\n        EventHandler.setOutputHandler(this, this.eventOutput);\r\n    }\r\n\r\n    /**\r\n     * Create OptionsManager from source with arguments overriden by patches.\r\n     *   Triggers 'change' event on this object's event handler if the state of\r\n     *   the OptionsManager changes as a result.\r\n     *\r\n     * @method patch\r\n     *\r\n     * @param {...Object} arguments list of patch objects\r\n     * @return {OptionsManager} this\r\n     */\r\n    OptionsManager.prototype.patch = function patch() {\r\n        var myState = this._value;\r\n        for (var i = 0; i < arguments.length; i++) {\r\n            var data = arguments[i];\r\n            for (var k in data) {\r\n                if ((k in myState) && (data[k] && data[k].constructor === Object) && (myState[k] && myState[k].constructor === Object)) {\r\n                    if (!myState.hasOwnProperty(k)) myState[k] = Object.create(myState[k]);\r\n                    this.key(k).patch(data[k]);\r\n                    if (this.eventOutput) this.eventOutput.emit('change', {id: k, value: this.key(k).value()});\r\n                }\r\n                else this.set(k, data[k]);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Alias for patch\r\n     *\r\n     * @method setOptions\r\n     *\r\n     */\r\n    OptionsManager.prototype.setOptions = OptionsManager.prototype.patch;\r\n\r\n    /**\r\n     * Return OptionsManager based on sub-object retrieved by key\r\n     *\r\n     * @method key\r\n     *\r\n     * @param {string} identifier key\r\n     * @return {OptionsManager} new options manager with the value\r\n     */\r\n    OptionsManager.prototype.key = function key(identifier) {\r\n        var result = new OptionsManager(this._value[identifier]);\r\n        if (!(result._value instanceof Object) || result._value instanceof Array) result._value = {};\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Look up value by key or get the full options hash\r\n     * @method get\r\n     *\r\n     * @param {string} key key\r\n     * @return {Object} associated object or full options hash\r\n     */\r\n    OptionsManager.prototype.get = function get(key) {\r\n        return key ? this._value[key] : this._value;\r\n    };\r\n\r\n    /**\r\n     * Alias for get\r\n     * @method getOptions\r\n     */\r\n    OptionsManager.prototype.getOptions = OptionsManager.prototype.get;\r\n\r\n    /**\r\n     * Set key to value.  Outputs 'change' event if a value is overwritten.\r\n     *\r\n     * @method set\r\n     *\r\n     * @param {string} key key string\r\n     * @param {Object} value value object\r\n     * @return {OptionsManager} new options manager based on the value object\r\n     */\r\n    OptionsManager.prototype.set = function set(key, value) {\r\n        var originalValue = this.get(key);\r\n        this._value[key] = value;\r\n        if (this.eventOutput && value !== originalValue) this.eventOutput.emit('change', {id: key, value: value});\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Bind a callback function to an event type handled by this object.\r\n     *\r\n     * @method \"on\"\r\n     *\r\n     * @param {string} type event type key (for example, 'change')\r\n     * @param {function(string, Object)} handler callback\r\n     * @return {EventHandler} this\r\n     */\r\n    OptionsManager.prototype.on = function on() {\r\n        _createEventOutput.call(this);\r\n        return this.on.apply(this, arguments);\r\n    };\r\n\r\n    /**\r\n     * Unbind an event by type and handler.\r\n     *   This undoes the work of \"on\".\r\n     *\r\n     * @method removeListener\r\n     *\r\n     * @param {string} type event type key (for example, 'change')\r\n     * @param {function} handler function object to remove\r\n     * @return {EventHandler} internal event handler object (for chaining)\r\n     */\r\n    OptionsManager.prototype.removeListener = function removeListener() {\r\n        _createEventOutput.call(this);\r\n        return this.removeListener.apply(this, arguments);\r\n    };\r\n\r\n    /**\r\n     * Add event handler object to set of downstream handlers.\r\n     *\r\n     * @method pipe\r\n     *\r\n     * @param {EventHandler} target event handler target object\r\n     * @return {EventHandler} passed event handler\r\n     */\r\n    OptionsManager.prototype.pipe = function pipe() {\r\n        _createEventOutput.call(this);\r\n        return this.pipe.apply(this, arguments);\r\n    };\r\n\r\n    /**\r\n     * Remove handler object from set of downstream handlers.\r\n     * Undoes work of \"pipe\"\r\n     *\r\n     * @method unpipe\r\n     *\r\n     * @param {EventHandler} target target handler object\r\n     * @return {EventHandler} provided target\r\n     */\r\n    OptionsManager.prototype.unpipe = function unpipe() {\r\n        _createEventOutput.call(this);\r\n        return this.unpipe.apply(this, arguments);\r\n    };\r\n\r\n    module.exports = OptionsManager;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/OptionsManager.js\n ** module id = 25\n ** module chunks = 0\n **/","define(function(require, exports, module) {\r\n    var View = require('famous/core/View');\r\n    var Engine = require('famous/core/Engine');\r\n    var Surface = require('famous/core/Surface');\r\n    var Transform = require('famous/core/Transform');\r\n    var StateModifier = require('famous/modifiers/StateModifier');\r\n    var ImageSurface = require('famous/surfaces/ImageSurface');\r\n    var Utility = require('famous/utilities/Utility');\r\n    var Fader = require('famous/modifiers/Fader');\r\n    var Timer = require('famous/utilities/Timer');\r\n\r\n    var VirtualViewSequence = require('famous-flex/VirtualViewSequence');\r\n    var FlexScrollView = require('famous-flex/FlexScrollView');\r\n\r\n    var _ = require('lodash');\r\n\r\n    function AdsFactory() {}\r\n\r\n    AdsFactory.prototype.create = function(index) {\r\n        var imgSurface = new ImageSurface({\r\n            content: require('content/whatsdota.jpg'),\r\n            properties: {\r\n                pointerEvents: 'none'\r\n            }\r\n        });\r\n        imgSurface.index = index || 0;\r\n        return imgSurface;\r\n    };\r\n\r\n    AdsFactory.prototype.createNext = function(renderable) {\r\n        return this.create(renderable.index + 1);\r\n    };\r\n\r\n    AdsFactory.prototype.createPrevious = function(renderable) {\r\n        return this.create(renderable.index - 1);\r\n    };\r\n\r\n    function AdsMovingVars() {\r\n        this.speed = 100;\r\n        this.spacing = 0;\r\n        this.isMoving = false;\r\n        this.blink = false;\r\n        this.deviation = 0;\r\n        this.lockSpacing = true;\r\n        this.fps = 30;\r\n        this.autoBlink = false;\r\n    }\r\n\r\n    /**\r\n     * \r\n     * @param  {[type]} offset    [description]\r\n     * @param  {[type]} interval  [description]\r\n     * @param  {[type]} deviation [description]\r\n     * @return {[type]}           [description]\r\n     */\r\n    function checkIsOffsetOk(offset, interval, deviation) {\r\n        var mod = offset % interval;\r\n        return mod <= deviation;\r\n    }\r\n\r\n    /**\r\n     * led\r\n     * 1/fps * speed = width + spacing\r\n     */\r\n    function calcSpacing(fps, speed, width) {\r\n        return 1/fps * 1000 * speed - width;\r\n    }\r\n\r\n    /*\r\n     * @name AdsWall\r\n     * @constructor\r\n     * @description\r\n     * created by View.template\r\n     */\r\n\r\n    function AdsWall () {\r\n        View.apply(this, arguments);\r\n\r\n        var viewSequence = new VirtualViewSequence({\r\n            factory: new AdsFactory()\r\n        });\r\n\r\n        var fader = new Fader({\r\n            transition: false\r\n        });\r\n        this.fader = fader;\r\n\r\n        fader.show();\r\n\r\n        var layout = new FlexScrollView({\r\n            dataSource: viewSequence,\r\n            mouseMove: true,\r\n            // autoPipeEvents: true,\r\n            useContainer: true,\r\n            direction: Utility.Direction.X\r\n        });\r\n        this.layout = layout;\r\n\r\n        this.add(fader).add(layout);\r\n\r\n        this.movingVars = new AdsMovingVars();\r\n\r\n        Engine.on('prerender', function() {\r\n            var movingVars = this.movingVars;\r\n            if(movingVars.lockSpacing) {\r\n                var tempSpacing = calcSpacing(movingVars.fps, movingVars.speed, window.innerWidth);\r\n                if(tempSpacing < 0) {\r\n                    console.log('');\r\n                }\r\n                else {\r\n                    movingVars.spacing = tempSpacing;\r\n                }\r\n            }\r\n            this.layout.setOptions({\r\n                layoutOptions: {\r\n                    spacing: movingVars.spacing\r\n                }\r\n            });\r\n            if(movingVars.isMoving) {\r\n                var deltaTime = Engine.frameTime;\r\n                var deltaDistance = deltaTime * movingVars.speed;\r\n                this.layout.scroll(deltaDistance);\r\n            }\r\n            if(movingVars.blink) {\r\n                if(checkIsOffsetOk(this.layout.getOffset(), movingVars.spacing+window.innerWidth, movingVars.deviation)) {\r\n                    this.fader.show();\r\n                }\r\n                else {\r\n                    if(this.fader.isVisible()) {\r\n                        this.fader.hide();\r\n                    }\r\n                }\r\n            }\r\n            else {\r\n                if(!this.fader.isVisible()) {\r\n                    this.fader.show();\r\n                }\r\n            }\r\n        }.bind(this));\r\n\r\n        Engine.on('postrender', function() {\r\n            if(this.autoBlinkTimer) {\r\n                this.fader.hide();\r\n            }\r\n        }.bind(this));\r\n    }\r\n\r\n    AdsWall.prototype = Object.create(View.prototype);\r\n    AdsWall.prototype.constructor = AdsWall;\r\n\r\n    AdsWall.prototype.getMovingVars = function() {\r\n        return this.movingVars;\r\n    };\r\n\r\n    AdsWall.prototype.autoBlink = function() {\r\n        var shouldAutoBlink = this.movingVars.autoBlink;\r\n        if(shouldAutoBlink) {\r\n            this.autoBlinkTimer = Timer.setInterval(function() {\r\n                if(!this.fader.isVisible()) {\r\n                    this.fader.show();\r\n                }\r\n            }.bind(this), 1/this.movingVars.fps);\r\n        }\r\n        else {\r\n            Timer.clear(this.autoBlinkTimer);\r\n        }\r\n    };\r\n\r\n    AdsWall.DEFAULT_OPTIONS = {\r\n        // speed: \r\n    };\r\n\r\n    module.exports = AdsWall;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/AdsWall.js\n ** module id = 26\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var EventHandler = require('./EventHandler');\r\n    var OptionsManager = require('./OptionsManager');\r\n    var RenderNode = require('./RenderNode');\r\n    var Utility = require('../utilities/Utility');\r\n\r\n    /**\r\n     * Useful for quickly creating elements within applications\r\n     *   with large event systems.  Consists of a RenderNode paired with\r\n     *   an input EventHandler and an output EventHandler.\r\n     *   Meant to be extended by the developer.\r\n     *\r\n     * @class View\r\n     * @uses EventHandler\r\n     * @uses OptionsManager\r\n     * @uses RenderNode\r\n     * @constructor\r\n     */\r\n    function View(options) {\r\n        this._node = new RenderNode();\r\n\r\n        this._eventInput = new EventHandler();\r\n        this._eventOutput = new EventHandler();\r\n        EventHandler.setInputHandler(this, this._eventInput);\r\n        EventHandler.setOutputHandler(this, this._eventOutput);\r\n\r\n        this.options = Utility.clone(this.constructor.DEFAULT_OPTIONS || View.DEFAULT_OPTIONS);\r\n        this._optionsManager = new OptionsManager(this.options);\r\n\r\n        if (options) this.setOptions(options);\r\n    }\r\n\r\n    View.DEFAULT_OPTIONS = {}; // no defaults\r\n\r\n    /**\r\n     * Look up options value by key\r\n     * @method getOptions\r\n     *\r\n     * @param {string} key key\r\n     * @return {Object} associated object\r\n     */\r\n    View.prototype.getOptions = function getOptions(key) {\r\n        return this._optionsManager.getOptions(key);\r\n    };\r\n\r\n    /*\r\n     *  Set internal options.\r\n     *  No defaults options are set in View.\r\n     *\r\n     *  @method setOptions\r\n     *  @param {Object} options\r\n     */\r\n    View.prototype.setOptions = function setOptions(options) {\r\n        this._optionsManager.patch(options);\r\n    };\r\n\r\n    /**\r\n     * Add a child renderable to the view.\r\n     *   Note: This is meant to be used by an inheriting class\r\n     *   rather than from outside the prototype chain.\r\n     *\r\n     * @method add\r\n     * @return {RenderNode}\r\n     * @protected\r\n     */\r\n    View.prototype.add = function add() {\r\n        return this._node.add.apply(this._node, arguments);\r\n    };\r\n\r\n    /**\r\n     * Alias for add\r\n     * @method _add\r\n     */\r\n    View.prototype._add = View.prototype.add;\r\n\r\n    /**\r\n     * Generate a render spec from the contents of this component.\r\n     *\r\n     * @private\r\n     * @method render\r\n     * @return {number} Render spec for this component\r\n     */\r\n    View.prototype.render = function render() {\r\n        return this._node.render();\r\n    };\r\n\r\n    /**\r\n     * Return size of contained element.\r\n     *\r\n     * @method getSize\r\n     * @return {Array.Number} [width, height]\r\n     */\r\n    View.prototype.getSize = function getSize() {\r\n        if (this._node && this._node.getSize) {\r\n            return this._node.getSize.apply(this._node, arguments) || this.options.size;\r\n        }\r\n        else return this.options.size;\r\n    };\r\n\r\n    module.exports = View;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/View.js\n ** module id = 27\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var ElementOutput = require('./ElementOutput');\r\n\r\n    /**\r\n     * A base class for viewable content and event\r\n     *   targets inside a Famo.us application, containing a renderable document\r\n     *   fragment. Like an HTML div, it can accept internal markup,\r\n     *   properties, classes, and handle events.\r\n     *\r\n     * @class Surface\r\n     * @constructor\r\n     *\r\n     * @param {Object} [options] default option overrides\r\n     * @param {Array.Number} [options.size] [width, height] in pixels\r\n     * @param {Array.string} [options.classes] CSS classes to set on target div\r\n     * @param {Array} [options.properties] string dictionary of CSS properties to set on target div\r\n     * @param {Array} [options.attributes] string dictionary of HTML attributes to set on target div\r\n     * @param {string} [options.content] inner (HTML) content of surface\r\n     */\r\n    function Surface(options) {\r\n        ElementOutput.call(this);\r\n\r\n        this.options = {};\r\n\r\n        this.properties = {};\r\n        this.attributes = {};\r\n        this.content = '';\r\n        this.classList = [];\r\n        this.size = null;\r\n\r\n        this._classesDirty = true;\r\n        this._stylesDirty = true;\r\n        this._attributesDirty = true;\r\n        this._sizeDirty = true;\r\n        this._contentDirty = true;\r\n        this._trueSizeCheck = true;\r\n\r\n        this._dirtyClasses = [];\r\n\r\n        if (options) this.setOptions(options);\r\n\r\n        this._currentTarget = null;\r\n    }\r\n    Surface.prototype = Object.create(ElementOutput.prototype);\r\n    Surface.prototype.constructor = Surface;\r\n    Surface.prototype.elementType = 'div';\r\n    Surface.prototype.elementClass = 'famous-surface';\r\n\r\n    /**\r\n     * Set HTML attributes on this Surface. Note that this will cause\r\n     *    dirtying and thus re-rendering, even if values do not change.\r\n     *\r\n     * @method setAttributes\r\n    * @param {Object} attributes property dictionary of \"key\" => \"value\"\r\n     */\r\n    Surface.prototype.setAttributes = function setAttributes(attributes) {\r\n        for (var n in attributes) {\r\n            if (n === 'style') throw new Error('Cannot set styles via \"setAttributes\" as it will break Famo.us.  Use \"setProperties\" instead.');\r\n            this.attributes[n] = attributes[n];\r\n        }\r\n        this._attributesDirty = true;\r\n    };\r\n\r\n    /**\r\n     * Get HTML attributes on this Surface.\r\n     *\r\n     * @method getAttributes\r\n     *\r\n     * @return {Object} Dictionary of this Surface's attributes.\r\n     */\r\n    Surface.prototype.getAttributes = function getAttributes() {\r\n        return this.attributes;\r\n    };\r\n\r\n    /**\r\n     * Set CSS-style properties on this Surface. Note that this will cause\r\n     *    dirtying and thus re-rendering, even if values do not change.\r\n     *\r\n     * @method setProperties\r\n     * @chainable\r\n     * @param {Object} properties property dictionary of \"key\" => \"value\"\r\n     */\r\n    Surface.prototype.setProperties = function setProperties(properties) {\r\n        for (var n in properties) {\r\n            this.properties[n] = properties[n];\r\n        }\r\n        this._stylesDirty = true;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get CSS-style properties on this Surface.\r\n     *\r\n     * @method getProperties\r\n     *\r\n     * @return {Object} Dictionary of this Surface's properties.\r\n     */\r\n    Surface.prototype.getProperties = function getProperties() {\r\n        return this.properties;\r\n    };\r\n\r\n    /**\r\n     * Add CSS-style class to the list of classes on this Surface. Note\r\n     *   this will map directly to the HTML property of the actual\r\n     *   corresponding rendered <div>.\r\n     *\r\n     * @method addClass\r\n     * @chainable\r\n     * @param {string} className name of class to add\r\n     */\r\n    Surface.prototype.addClass = function addClass(className) {\r\n        if (this.classList.indexOf(className) < 0) {\r\n            this.classList.push(className);\r\n            this._classesDirty = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Remove CSS-style class from the list of classes on this Surface.\r\n     *   Note this will map directly to the HTML property of the actual\r\n     *   corresponding rendered <div>.\r\n     *\r\n     * @method removeClass\r\n     * @chainable\r\n     * @param {string} className name of class to remove\r\n     */\r\n    Surface.prototype.removeClass = function removeClass(className) {\r\n        var i = this.classList.indexOf(className);\r\n        if (i >= 0) {\r\n            this._dirtyClasses.push(this.classList.splice(i, 1)[0]);\r\n            this._classesDirty = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Toggle CSS-style class from the list of classes on this Surface.\r\n     *   Note this will map directly to the HTML property of the actual\r\n     *   corresponding rendered <div>.\r\n     *\r\n     * @method toggleClass\r\n     * @param {string} className name of class to toggle\r\n     */\r\n    Surface.prototype.toggleClass = function toggleClass(className) {\r\n        var i = this.classList.indexOf(className);\r\n        if (i >= 0) {\r\n            this.removeClass(className);\r\n        } else {\r\n            this.addClass(className);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Reset class list to provided dictionary.\r\n     * @method setClasses\r\n     * @chainable\r\n     * @param {Array.string} classList\r\n     */\r\n    Surface.prototype.setClasses = function setClasses(classList) {\r\n        var i = 0;\r\n        var removal = [];\r\n        for (i = 0; i < this.classList.length; i++) {\r\n            if (classList.indexOf(this.classList[i]) < 0) removal.push(this.classList[i]);\r\n        }\r\n        for (i = 0; i < removal.length; i++) this.removeClass(removal[i]);\r\n        // duplicates are already checked by addClass()\r\n        for (i = 0; i < classList.length; i++) this.addClass(classList[i]);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get array of CSS-style classes attached to this div.\r\n     *\r\n     * @method getClasslist\r\n     * @return {Array.string} array of class names\r\n     */\r\n    Surface.prototype.getClassList = function getClassList() {\r\n        return this.classList;\r\n    };\r\n\r\n    /**\r\n     * Set or overwrite inner (HTML) content of this surface. Note that this\r\n     *    causes a re-rendering if the content has changed.\r\n     *\r\n     * @method setContent\r\n     * @chainable\r\n     * @param {string|Document Fragment} content HTML content\r\n     */\r\n    Surface.prototype.setContent = function setContent(content) {\r\n        if (this.content !== content) {\r\n            this.content = content;\r\n            this._contentDirty = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Return inner (HTML) content of this surface.\r\n     *\r\n     * @method getContent\r\n     *\r\n     * @return {string} inner (HTML) content\r\n     */\r\n    Surface.prototype.getContent = function getContent() {\r\n        return this.content;\r\n    };\r\n\r\n    /**\r\n     * Set options for this surface\r\n     *\r\n     * @method setOptions\r\n     * @chainable\r\n     * @param {Object} [options] overrides for default options.  See constructor.\r\n     */\r\n    Surface.prototype.setOptions = function setOptions(options) {\r\n        if (options.size) this.setSize(options.size);\r\n        if (options.classes) this.setClasses(options.classes);\r\n        if (options.properties) this.setProperties(options.properties);\r\n        if (options.attributes) this.setAttributes(options.attributes);\r\n        if (options.content) this.setContent(options.content);\r\n        return this;\r\n    };\r\n\r\n    //  Apply to document all changes from removeClass() since last setup().\r\n    function _cleanupClasses(target) {\r\n        for (var i = 0; i < this._dirtyClasses.length; i++) target.classList.remove(this._dirtyClasses[i]);\r\n        this._dirtyClasses = [];\r\n    }\r\n\r\n    // Apply values of all Famous-managed styles to the document element.\r\n    //  These will be deployed to the document on call to #setup().\r\n    function _applyStyles(target) {\r\n        for (var n in this.properties) {\r\n            target.style[n] = this.properties[n];\r\n        }\r\n    }\r\n\r\n    // Clear all Famous-managed styles from the document element.\r\n    // These will be deployed to the document on call to #setup().\r\n    function _cleanupStyles(target) {\r\n        for (var n in this.properties) {\r\n            target.style[n] = '';\r\n        }\r\n    }\r\n\r\n    // Apply values of all Famous-managed attributes to the document element.\r\n    //  These will be deployed to the document on call to #setup().\r\n    function _applyAttributes(target) {\r\n        for (var n in this.attributes) {\r\n            target.setAttribute(n, this.attributes[n]);\r\n        }\r\n    }\r\n\r\n    // Clear all Famous-managed attributes from the document element.\r\n    // These will be deployed to the document on call to #setup().\r\n    function _cleanupAttributes(target) {\r\n        for (var n in this.attributes) {\r\n            target.removeAttribute(n);\r\n        }\r\n    }\r\n\r\n    function _xyNotEquals(a, b) {\r\n        return (a && b) ? (a[0] !== b[0] || a[1] !== b[1]) : a !== b;\r\n    }\r\n\r\n    /**\r\n     * One-time setup for an element to be ready for commits to document.\r\n     *\r\n     * @private\r\n     * @method setup\r\n     *\r\n     * @param {ElementAllocator} allocator document element pool for this context\r\n     */\r\n    Surface.prototype.setup = function setup(allocator) {\r\n        var target = allocator.allocate(this.elementType);\r\n        if (this.elementClass) {\r\n            if (this.elementClass instanceof Array) {\r\n                for (var i = 0; i < this.elementClass.length; i++) {\r\n                    target.classList.add(this.elementClass[i]);\r\n                }\r\n            }\r\n            else {\r\n                target.classList.add(this.elementClass);\r\n            }\r\n        }\r\n        target.style.display = '';\r\n        this.attach(target);\r\n        this._opacity = null;\r\n        this._currentTarget = target;\r\n        this._stylesDirty = true;\r\n        this._classesDirty = true;\r\n        this._attributesDirty = true;\r\n        this._sizeDirty = true;\r\n        this._contentDirty = true;\r\n        this._originDirty = true;\r\n        this._transformDirty = true;\r\n    };\r\n\r\n    /**\r\n     * Apply changes from this component to the corresponding document element.\r\n     * This includes changes to classes, styles, size, content, opacity, origin,\r\n     * and matrix transforms.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     * @param {Context} context commit context\r\n     */\r\n    Surface.prototype.commit = function commit(context) {\r\n        if (!this._currentTarget) this.setup(context.allocator);\r\n        var target = this._currentTarget;\r\n        var size = context.size;\r\n\r\n        if (this._classesDirty) {\r\n            _cleanupClasses.call(this, target);\r\n            var classList = this.getClassList();\r\n            for (var i = 0; i < classList.length; i++) target.classList.add(classList[i]);\r\n            this._classesDirty = false;\r\n            this._trueSizeCheck = true;\r\n        }\r\n\r\n        if (this._stylesDirty) {\r\n            _applyStyles.call(this, target);\r\n            this._stylesDirty = false;\r\n            this._trueSizeCheck = true;\r\n        }\r\n\r\n        if (this._attributesDirty) {\r\n            _applyAttributes.call(this, target);\r\n            this._attributesDirty = false;\r\n            this._trueSizeCheck = true;\r\n        }\r\n\r\n        if (this.size) {\r\n            var origSize = context.size;\r\n            size = [this.size[0], this.size[1]];\r\n            if (size[0] === undefined) size[0] = origSize[0];\r\n            if (size[1] === undefined) size[1] = origSize[1];\r\n            if (size[0] === true || size[1] === true) {\r\n                if (size[0] === true){\r\n                    if (this._trueSizeCheck || (this._size[0] === 0)) {\r\n                        var width = target.offsetWidth;\r\n                        if (this._size && this._size[0] !== width) {\r\n                            this._size[0] = width;\r\n                            this._sizeDirty = true;\r\n                        }\r\n                        size[0] = width;\r\n                    } else {\r\n                        if (this._size) size[0] = this._size[0];\r\n                    }\r\n                }\r\n                if (size[1] === true){\r\n                    if (this._trueSizeCheck || (this._size[1] === 0)) {\r\n                        var height = target.offsetHeight;\r\n                        if (this._size && this._size[1] !== height) {\r\n                            this._size[1] = height;\r\n                            this._sizeDirty = true;\r\n                        }\r\n                        size[1] = height;\r\n                    } else {\r\n                        if (this._size) size[1] = this._size[1];\r\n                    }\r\n                }\r\n                this._trueSizeCheck = false;\r\n            }\r\n        }\r\n\r\n        if (_xyNotEquals(this._size, size)) {\r\n            if (!this._size) this._size = [0, 0];\r\n            this._size[0] = size[0];\r\n            this._size[1] = size[1];\r\n\r\n            this._sizeDirty = true;\r\n        }\r\n\r\n        if (this._sizeDirty) {\r\n            if (this._size) {\r\n                target.style.width = (this.size && this.size[0] === true) ? '' : this._size[0] + 'px';\r\n                target.style.height = (this.size && this.size[1] === true) ?  '' : this._size[1] + 'px';\r\n            }\r\n\r\n            this._eventOutput.emit('resize');\r\n        }\r\n\r\n        if (this._contentDirty) {\r\n            this.deploy(target);\r\n            this._eventOutput.emit('deploy');\r\n            this._contentDirty = false;\r\n            this._trueSizeCheck = true;\r\n        }\r\n\r\n        ElementOutput.prototype.commit.call(this, context);\r\n    };\r\n\r\n    /**\r\n     *  Remove all Famous-relevant attributes from a document element.\r\n     *    This is called by SurfaceManager's detach().\r\n     *    This is in some sense the reverse of .deploy().\r\n     *\r\n     * @private\r\n     * @method cleanup\r\n     * @param {ElementAllocator} allocator\r\n     */\r\n    Surface.prototype.cleanup = function cleanup(allocator) {\r\n        var i = 0;\r\n        var target = this._currentTarget;\r\n        this._eventOutput.emit('recall');\r\n        this.recall(target);\r\n        target.style.display = 'none';\r\n        target.style.opacity = '';\r\n        target.style.width = '';\r\n        target.style.height = '';\r\n        _cleanupStyles.call(this, target);\r\n        _cleanupAttributes.call(this, target);\r\n        var classList = this.getClassList();\r\n        _cleanupClasses.call(this, target);\r\n        for (i = 0; i < classList.length; i++) target.classList.remove(classList[i]);\r\n        if (this.elementClass) {\r\n            if (this.elementClass instanceof Array) {\r\n                for (i = 0; i < this.elementClass.length; i++) {\r\n                    target.classList.remove(this.elementClass[i]);\r\n                }\r\n            }\r\n            else {\r\n                target.classList.remove(this.elementClass);\r\n            }\r\n        }\r\n        this.detach(target);\r\n        this._currentTarget = null;\r\n        allocator.deallocate(target);\r\n    };\r\n\r\n    /**\r\n     * Place the document element that this component manages into the document.\r\n     *\r\n     * @private\r\n     * @method deploy\r\n     * @param {Node} target document parent of this container\r\n     */\r\n    Surface.prototype.deploy = function deploy(target) {\r\n        var content = this.getContent();\r\n        if (content instanceof Node) {\r\n            while (target.hasChildNodes()) target.removeChild(target.firstChild);\r\n            target.appendChild(content);\r\n        }\r\n        else target.innerHTML = content;\r\n    };\r\n\r\n    /**\r\n     * Remove any contained document content associated with this surface\r\n     *   from the actual document.\r\n     *\r\n     * @private\r\n     * @method recall\r\n     */\r\n    Surface.prototype.recall = function recall(target) {\r\n        var df = document.createDocumentFragment();\r\n        while (target.hasChildNodes()) df.appendChild(target.firstChild);\r\n        this.setContent(df);\r\n    };\r\n\r\n    /**\r\n     *  Get the x and y dimensions of the surface.\r\n     *\r\n     * @method getSize\r\n     * @return {Array.Number} [x,y] size of surface\r\n     */\r\n    Surface.prototype.getSize = function getSize() {\r\n        return this._size ? this._size : this.size;\r\n    };\r\n\r\n    /**\r\n     * Set x and y dimensions of the surface.\r\n     *\r\n     * @method setSize\r\n     * @chainable\r\n     * @param {Array.Number} size as [width, height]\r\n     */\r\n    Surface.prototype.setSize = function setSize(size) {\r\n        this.size = size ? [size[0], size[1]] : null;\r\n        this._sizeDirty = true;\r\n        return this;\r\n    };\r\n\r\n    module.exports = Surface;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Surface.js\n ** module id = 28\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Entity = require('./Entity');\r\n    var EventHandler = require('./EventHandler');\r\n    var Transform = require('./Transform');\r\n\r\n    var usePrefix = !('transform' in document.documentElement.style);\r\n    var devicePixelRatio = window.devicePixelRatio || 1;\r\n\r\n    /**\r\n     * A base class for viewable content and event\r\n     *   targets inside a Famo.us application, containing a renderable document\r\n     *   fragment. Like an HTML div, it can accept internal markup,\r\n     *   properties, classes, and handle events.\r\n     *\r\n     * @class ElementOutput\r\n     * @constructor\r\n     *\r\n     * @param {Node} element document parent of this container\r\n     */\r\n    function ElementOutput(element) {\r\n        this._matrix = null;\r\n        this._opacity = 1;\r\n        this._origin = null;\r\n        this._size = null;\r\n\r\n        this._eventOutput = new EventHandler();\r\n        this._eventOutput.bindThis(this);\r\n\r\n        /** @ignore */\r\n        this.eventForwarder = function eventForwarder(event) {\r\n            this._eventOutput.emit(event.type, event);\r\n        }.bind(this);\r\n\r\n        this.id = Entity.register(this);\r\n        this._element = null;\r\n        this._sizeDirty = false;\r\n        this._originDirty = false;\r\n        this._transformDirty = false;\r\n\r\n        this._invisible = false;\r\n        if (element) this.attach(element);\r\n    }\r\n\r\n    /**\r\n     * Bind a callback function to an event type handled by this object.\r\n     *\r\n     * @method \"on\"\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function(string, Object)} fn handler callback\r\n     * @return {EventHandler} this\r\n     */\r\n    ElementOutput.prototype.on = function on(type, fn) {\r\n        if (this._element) this._element.addEventListener(type, this.eventForwarder);\r\n        this._eventOutput.on(type, fn);\r\n    };\r\n\r\n    /**\r\n     * Unbind an event by type and handler.\r\n     *   This undoes the work of \"on\"\r\n     *\r\n     * @method removeListener\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {function(string, Object)} fn handler\r\n     */\r\n    ElementOutput.prototype.removeListener = function removeListener(type, fn) {\r\n        this._eventOutput.removeListener(type, fn);\r\n    };\r\n\r\n    /**\r\n     * Trigger an event, sending to all downstream handlers\r\n     *   listening for provided 'type' key.\r\n     *\r\n     * @method emit\r\n     *\r\n     * @param {string} type event type key (for example, 'click')\r\n     * @param {Object} [event] event data\r\n     * @return {EventHandler} this\r\n     */\r\n    ElementOutput.prototype.emit = function emit(type, event) {\r\n        if (event && !event.origin) event.origin = this;\r\n        var handled = this._eventOutput.emit(type, event);\r\n        if (handled && event && event.stopPropagation) event.stopPropagation();\r\n        return handled;\r\n    };\r\n\r\n    /**\r\n     * Add event handler object to set of downstream handlers.\r\n     *\r\n     * @method pipe\r\n     *\r\n     * @param {EventHandler} target event handler target object\r\n     * @return {EventHandler} passed event handler\r\n     */\r\n    ElementOutput.prototype.pipe = function pipe(target) {\r\n        return this._eventOutput.pipe(target);\r\n    };\r\n\r\n    /**\r\n     * Remove handler object from set of downstream handlers.\r\n     *   Undoes work of \"pipe\"\r\n     *\r\n     * @method unpipe\r\n     *\r\n     * @param {EventHandler} target target handler object\r\n     * @return {EventHandler} provided target\r\n     */\r\n    ElementOutput.prototype.unpipe = function unpipe(target) {\r\n        return this._eventOutput.unpipe(target);\r\n    };\r\n\r\n    /**\r\n     * Return spec for this surface. Note that for a base surface, this is\r\n     *    simply an id.\r\n     *\r\n     * @method render\r\n     * @private\r\n     * @return {Object} render spec for this surface (spec id)\r\n     */\r\n    ElementOutput.prototype.render = function render() {\r\n        return this.id;\r\n    };\r\n\r\n    //  Attach Famous event handling to document events emanating from target\r\n    //    document element.  This occurs just after attachment to the document.\r\n    //    Calling this enables methods like #on and #pipe.\r\n    function _addEventListeners(target) {\r\n        for (var i in this._eventOutput.listeners) {\r\n            target.addEventListener(i, this.eventForwarder);\r\n        }\r\n    }\r\n\r\n    //  Detach Famous event handling from document events emanating from target\r\n    //  document element.  This occurs just before detach from the document.\r\n    function _removeEventListeners(target) {\r\n        for (var i in this._eventOutput.listeners) {\r\n            target.removeEventListener(i, this.eventForwarder);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Return a Matrix's webkit css representation to be used with the\r\n     *    CSS3 -webkit-transform style.\r\n     *    Example: -webkit-transform: matrix3d(1,0,0,0,0,1,0,0,0,0,1,0,716,243,0,1)\r\n     *\r\n     * @method _formatCSSTransform\r\n     * @private\r\n     * @param {FamousMatrix} m matrix\r\n     * @return {string} matrix3d CSS style representation of the transform\r\n     */\r\n    function _formatCSSTransform(m) {\r\n        m[12] = Math.round(m[12] * devicePixelRatio) / devicePixelRatio;\r\n        m[13] = Math.round(m[13] * devicePixelRatio) / devicePixelRatio;\r\n\r\n        var result = 'matrix3d(';\r\n        for (var i = 0; i < 15; i++) {\r\n            result += (m[i] < 0.000001 && m[i] > -0.000001) ? '0,' : m[i] + ',';\r\n        }\r\n        result += m[15] + ')';\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Directly apply given FamousMatrix to the document element as the\r\n     *   appropriate webkit CSS style.\r\n     *\r\n     * @method setMatrix\r\n     *\r\n     * @static\r\n     * @private\r\n     * @param {Element} element document element\r\n     * @param {FamousMatrix} matrix\r\n     */\r\n\r\n    var _setMatrix;\r\n    if (usePrefix) {\r\n        _setMatrix = function(element, matrix) {\r\n            element.style.webkitTransform = _formatCSSTransform(matrix);\r\n        };\r\n    }\r\n    else {\r\n        _setMatrix = function(element, matrix) {\r\n            element.style.transform = _formatCSSTransform(matrix);\r\n        };\r\n    }\r\n\r\n    // format origin as CSS percentage string\r\n    function _formatCSSOrigin(origin) {\r\n        return (100 * origin[0]) + '% ' + (100 * origin[1]) + '%';\r\n    }\r\n\r\n    // Directly apply given origin coordinates to the document element as the\r\n    // appropriate webkit CSS style.\r\n    var _setOrigin = usePrefix ? function(element, origin) {\r\n        element.style.webkitTransformOrigin = _formatCSSOrigin(origin);\r\n    } : function(element, origin) {\r\n        element.style.transformOrigin = _formatCSSOrigin(origin);\r\n    };\r\n\r\n    // Shrink given document element until it is effectively invisible.\r\n    var _setInvisible = usePrefix ? function(element) {\r\n        element.style.webkitTransform = 'scale3d(0.0001,0.0001,0.0001)';\r\n        element.style.opacity = 0;\r\n    } : function(element) {\r\n        element.style.transform = 'scale3d(0.0001,0.0001,0.0001)';\r\n        element.style.opacity = 0;\r\n    };\r\n\r\n    function _xyNotEquals(a, b) {\r\n        return (a && b) ? (a[0] !== b[0] || a[1] !== b[1]) : a !== b;\r\n    }\r\n\r\n    /**\r\n     * Apply changes from this component to the corresponding document element.\r\n     * This includes changes to classes, styles, size, content, opacity, origin,\r\n     * and matrix transforms.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     * @param {Context} context commit context\r\n     */\r\n    ElementOutput.prototype.commit = function commit(context) {\r\n        var target = this._element;\r\n        if (!target) return;\r\n\r\n        var matrix = context.transform;\r\n        var opacity = context.opacity;\r\n        var origin = context.origin;\r\n        var size = context.size;\r\n\r\n        if (!matrix && this._matrix) {\r\n            this._matrix = null;\r\n            this._opacity = 0;\r\n            _setInvisible(target);\r\n            return;\r\n        }\r\n\r\n        if (_xyNotEquals(this._origin, origin)) this._originDirty = true;\r\n        if (Transform.notEquals(this._matrix, matrix)) this._transformDirty = true;\r\n\r\n        if (this._invisible) {\r\n            this._invisible = false;\r\n            this._element.style.display = '';\r\n        }\r\n\r\n        if (this._opacity !== opacity) {\r\n            this._opacity = opacity;\r\n            target.style.opacity = (opacity >= 1) ? '0.999999' : opacity;\r\n        }\r\n\r\n        if (this._transformDirty || this._originDirty || this._sizeDirty) {\r\n            if (this._sizeDirty) this._sizeDirty = false;\r\n\r\n            if (this._originDirty) {\r\n                if (origin) {\r\n                    if (!this._origin) this._origin = [0, 0];\r\n                    this._origin[0] = origin[0];\r\n                    this._origin[1] = origin[1];\r\n                }\r\n                else this._origin = null;\r\n                _setOrigin(target, this._origin);\r\n                this._originDirty = false;\r\n            }\r\n\r\n            if (!matrix) matrix = Transform.identity;\r\n            this._matrix = matrix;\r\n            var aaMatrix = this._size ? Transform.thenMove(matrix, [-this._size[0]*origin[0], -this._size[1]*origin[1], 0]) : matrix;\r\n            _setMatrix(target, aaMatrix);\r\n            this._transformDirty = false;\r\n        }\r\n    };\r\n\r\n    ElementOutput.prototype.cleanup = function cleanup() {\r\n        if (this._element) {\r\n            this._invisible = true;\r\n            this._element.style.display = 'none';\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Place the document element that this component manages into the document.\r\n     *\r\n     * @private\r\n     * @method attach\r\n     * @param {Node} target document parent of this container\r\n     */\r\n    ElementOutput.prototype.attach = function attach(target) {\r\n        this._element = target;\r\n        _addEventListeners.call(this, target);\r\n    };\r\n\r\n    /**\r\n     * Remove any contained document content associated with this surface\r\n     *   from the actual document.\r\n     *\r\n     * @private\r\n     * @method detach\r\n     */\r\n    ElementOutput.prototype.detach = function detach() {\r\n        var target = this._element;\r\n        if (target) {\r\n            _removeEventListeners.call(this, target);\r\n            if (this._invisible) {\r\n                this._invisible = false;\r\n                this._element.style.display = '';\r\n            }\r\n        }\r\n        this._element = null;\r\n        return target;\r\n    };\r\n\r\n    module.exports = ElementOutput;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/ElementOutput.js\n ** module id = 29\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Modifier = require('../core/Modifier');\r\n    var Transform = require('../core/Transform');\r\n    var Transitionable = require('../transitions/Transitionable');\r\n    var TransitionableTransform = require('../transitions/TransitionableTransform');\r\n\r\n    /**\r\n     *  A collection of visual changes to be\r\n     *    applied to another renderable component, strongly coupled with the state that defines\r\n     *    those changes. This collection includes a\r\n     *    transform matrix, an opacity constant, a size, an origin specifier, and an alignment specifier.\r\n     *    StateModifier objects can be added to any RenderNode or object\r\n     *    capable of displaying renderables.  The StateModifier's children and descendants\r\n     *    are transformed by the amounts specified in the modifier's properties.\r\n     *\r\n     * @class StateModifier\r\n     * @constructor\r\n     * @param {Object} [options] overrides of default options\r\n     * @param {Transform} [options.transform] affine transformation matrix\r\n     * @param {Number} [options.opacity]\r\n     * @param {Array.Number} [options.origin] origin adjustment\r\n     * @param {Array.Number} [options.align] align adjustment\r\n     * @param {Array.Number} [options.size] size to apply to descendants\r\n     * @param {Array.Number} [options.propportions] proportions to apply to descendants\r\n     */\r\n    function StateModifier(options) {\r\n        this._transformState = new TransitionableTransform(Transform.identity);\r\n        this._opacityState = new Transitionable(1);\r\n        this._originState = new Transitionable([0, 0]);\r\n        this._alignState = new Transitionable([0, 0]);\r\n        this._sizeState = new Transitionable([0, 0]);\r\n        this._proportionsState = new Transitionable([0, 0]);\r\n\r\n        this._modifier = new Modifier({\r\n            transform: this._transformState,\r\n            opacity: this._opacityState,\r\n            origin: null,\r\n            align: null,\r\n            size: null,\r\n            proportions: null\r\n        });\r\n\r\n        this._hasOrigin = false;\r\n        this._hasAlign = false;\r\n        this._hasSize = false;\r\n        this._hasProportions = false;\r\n\r\n        if (options) {\r\n            if (options.transform) this.setTransform(options.transform);\r\n            if (options.opacity !== undefined) this.setOpacity(options.opacity);\r\n            if (options.origin) this.setOrigin(options.origin);\r\n            if (options.align) this.setAlign(options.align);\r\n            if (options.size) this.setSize(options.size);\r\n            if (options.proportions) this.setProportions(options.proportions);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set the transform matrix of this modifier, either statically or\r\n     *   through a provided Transitionable.\r\n     *\r\n     * @method setTransform\r\n     *\r\n     * @param {Transform} transform Transform to transition to.\r\n     * @param {Transitionable} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {Function} [callback] callback to call after transition completes\r\n     * @return {StateModifier} this\r\n     */\r\n    StateModifier.prototype.setTransform = function setTransform(transform, transition, callback) {\r\n        this._transformState.set(transform, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the opacity of this modifier, either statically or\r\n     *   through a provided Transitionable.\r\n     *\r\n     * @method setOpacity\r\n     *\r\n     * @param {Number} opacity Opacity value to transition to.\r\n     * @param {Transitionable} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {StateModifier} this\r\n     */\r\n    StateModifier.prototype.setOpacity = function setOpacity(opacity, transition, callback) {\r\n        this._opacityState.set(opacity, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the origin of this modifier, either statically or\r\n     *   through a provided Transitionable.\r\n     *\r\n     * @method setOrigin\r\n     *\r\n     * @param {Array.Number} origin two element array with values between 0 and 1.\r\n     * @param {Transitionable} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {StateModifier} this\r\n     */\r\n    StateModifier.prototype.setOrigin = function setOrigin(origin, transition, callback) {\r\n        if (origin === null) {\r\n            if (this._hasOrigin) {\r\n                this._modifier.originFrom(null);\r\n                this._hasOrigin = false;\r\n            }\r\n            return this;\r\n        }\r\n        else if (!this._hasOrigin) {\r\n            this._hasOrigin = true;\r\n            this._modifier.originFrom(this._originState);\r\n        }\r\n        this._originState.set(origin, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the alignment of this modifier, either statically or\r\n     *   through a provided Transitionable.\r\n     *\r\n     * @method setAlign\r\n     *\r\n     * @param {Array.Number} align two element array with values between 0 and 1.\r\n     * @param {Transitionable} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {StateModifier} this\r\n     */\r\n    StateModifier.prototype.setAlign = function setOrigin(align, transition, callback) {\r\n        if (align === null) {\r\n            if (this._hasAlign) {\r\n                this._modifier.alignFrom(null);\r\n                this._hasAlign = false;\r\n            }\r\n            return this;\r\n        }\r\n        else if (!this._hasAlign) {\r\n            this._hasAlign = true;\r\n            this._modifier.alignFrom(this._alignState);\r\n        }\r\n        this._alignState.set(align, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the size of this modifier, either statically or\r\n     *   through a provided Transitionable.\r\n     *\r\n     * @method setSize\r\n     *\r\n     * @param {Array.Number} size two element array of [width, height]\r\n     * @param {Transitionable} transition object of type {duration: number, curve:\r\n     *    f[0,1] -> [0,1] or name}. If transition is omitted, change will be\r\n     *    instantaneous.\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {StateModifier} this\r\n     */\r\n    StateModifier.prototype.setSize = function setSize(size, transition, callback) {\r\n        if (size === null) {\r\n            if (this._hasSize) {\r\n                this._modifier.sizeFrom(null);\r\n                this._hasSize = false;\r\n            }\r\n            return this;\r\n        }\r\n        else if (!this._hasSize) {\r\n            this._hasSize = true;\r\n            this._modifier.sizeFrom(this._sizeState);\r\n        }\r\n        this._sizeState.set(size, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the proportions of this modifier, either statically or\r\n     *   through a provided Transitionable.\r\n     *\r\n     * @method setProportions\r\n     *\r\n     * @param {Array.Number} proportions two element array with values between 0 and 1.\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {StateModifier} this\r\n     */\r\n    StateModifier.prototype.setProportions = function setSize(proportions, transition, callback) {\r\n        if (proportions === null) {\r\n            if (this._hasProportions) {\r\n                this._modifier.proportionsFrom(null);\r\n                this._hasProportions = false;\r\n            }\r\n            return this;\r\n        }\r\n        else if (!this._hasProportions) {\r\n            this._hasProportions = true;\r\n            this._modifier.proportionsFrom(this._proportionsState);\r\n        }\r\n        this._proportionsState.set(proportions, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Stop the transition.\r\n     *\r\n     * @method halt\r\n     */\r\n    StateModifier.prototype.halt = function halt() {\r\n        this._transformState.halt();\r\n        this._opacityState.halt();\r\n        this._originState.halt();\r\n        this._alignState.halt();\r\n        this._sizeState.halt();\r\n        this._proportionsState.halt();\r\n    };\r\n\r\n    /**\r\n     * Get the current state of the transform matrix component.\r\n     *\r\n     * @method getTransform\r\n     * @return {Object} transform provider object\r\n     */\r\n    StateModifier.prototype.getTransform = function getTransform() {\r\n        return this._transformState.get();\r\n    };\r\n\r\n    /**\r\n     * Get the destination state of the transform component.\r\n     *\r\n     * @method getFinalTransform\r\n     * @return {Transform} transform matrix\r\n     */\r\n    StateModifier.prototype.getFinalTransform = function getFinalTransform() {\r\n        return this._transformState.getFinal();\r\n    };\r\n\r\n    /**\r\n     * Get the current state of the opacity component.\r\n     *\r\n     * @method getOpacity\r\n     * @return {Object} opacity provider object\r\n     */\r\n    StateModifier.prototype.getOpacity = function getOpacity() {\r\n        return this._opacityState.get();\r\n    };\r\n\r\n    /**\r\n     * Get the current state of the origin component.\r\n     *\r\n     * @method getOrigin\r\n     * @return {Object} origin provider object\r\n     */\r\n    StateModifier.prototype.getOrigin = function getOrigin() {\r\n        return this._hasOrigin ? this._originState.get() : null;\r\n    };\r\n\r\n    /**\r\n     * Get the current state of the align component.\r\n     *\r\n     * @method getAlign\r\n     * @return {Object} align provider object\r\n     */\r\n    StateModifier.prototype.getAlign = function getAlign() {\r\n        return this._hasAlign ? this._alignState.get() : null;\r\n    };\r\n\r\n    /**\r\n     * Get the current state of the size component.\r\n     *\r\n     * @method getSize\r\n     * @return {Object} size provider object\r\n     */\r\n    StateModifier.prototype.getSize = function getSize() {\r\n        return this._hasSize ? this._sizeState.get() : null;\r\n    };\r\n\r\n    /**\r\n     * Get the current state of the propportions component.\r\n     *\r\n     * @method getProportions\r\n     * @return {Object} size provider object\r\n     */\r\n    StateModifier.prototype.getProportions = function getProportions() {\r\n        return this._hasProportions ? this._proportionsState.get() : null;\r\n    };\r\n\r\n    /**\r\n     * Return render spec for this StateModifier, applying to the provided\r\n     *    target component.  This is similar to render() for Surfaces.\r\n     *\r\n     * @private\r\n     * @method modify\r\n     *\r\n     * @param {Object} target (already rendered) render spec to\r\n     *    which to apply the transform.\r\n     * @return {Object} render spec for this StateModifier, including the\r\n     *    provided target\r\n     */\r\n    StateModifier.prototype.modify = function modify(target) {\r\n        return this._modifier.modify(target);\r\n    };\r\n\r\n    module.exports = StateModifier;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/modifiers/StateModifier.js\n ** module id = 30\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Transform = require('./Transform');\r\n\r\n    /* TODO: remove these dependencies when deprecation complete */\r\n    var Transitionable = require('../transitions/Transitionable');\r\n    var TransitionableTransform = require('../transitions/TransitionableTransform');\r\n\r\n    /**\r\n     *\r\n     *  A collection of visual changes to be\r\n     *    applied to another renderable component. This collection includes a\r\n     *    transform matrix, an opacity constant, a size, an origin specifier.\r\n     *    Modifier objects can be added to any RenderNode or object\r\n     *    capable of displaying renderables.  The Modifier's children and descendants\r\n     *    are transformed by the amounts specified in the Modifier's properties.\r\n     *\r\n     * @class Modifier\r\n     * @constructor\r\n     * @param {Object} [options] overrides of default options\r\n     * @param {Transform} [options.transform] affine transformation matrix\r\n     * @param {Number} [options.opacity]\r\n     * @param {Array.Number} [options.origin] origin adjustment\r\n     * @param {Array.Number} [options.size] size to apply to descendants\r\n     */\r\n    function Modifier(options) {\r\n        this._transformGetter = null;\r\n        this._opacityGetter = null;\r\n        this._originGetter = null;\r\n        this._alignGetter = null;\r\n        this._sizeGetter = null;\r\n        this._proportionGetter = null;\r\n\r\n        /* TODO: remove this when deprecation complete */\r\n        this._legacyStates = {};\r\n\r\n        this._output = {\r\n            transform: Transform.identity,\r\n            opacity: 1,\r\n            origin: null,\r\n            align: null,\r\n            size: null,\r\n            proportions: null,\r\n            target: null\r\n        };\r\n\r\n        if (options) {\r\n            if (options.transform) this.transformFrom(options.transform);\r\n            if (options.opacity !== undefined) this.opacityFrom(options.opacity);\r\n            if (options.origin) this.originFrom(options.origin);\r\n            if (options.align) this.alignFrom(options.align);\r\n            if (options.size) this.sizeFrom(options.size);\r\n            if (options.proportions) this.proportionsFrom(options.proportions);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Function, object, or static transform matrix which provides the transform.\r\n     *   This is evaluated on every tick of the engine.\r\n     *\r\n     * @method transformFrom\r\n     *\r\n     * @param {Object} transform transform provider object\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.transformFrom = function transformFrom(transform) {\r\n        if (transform instanceof Function) this._transformGetter = transform;\r\n        else if (transform instanceof Object && transform.get) this._transformGetter = transform.get.bind(transform);\r\n        else {\r\n            this._transformGetter = null;\r\n            this._output.transform = transform;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set function, object, or number to provide opacity, in range [0,1].\r\n     *\r\n     * @method opacityFrom\r\n     *\r\n     * @param {Object} opacity provider object\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.opacityFrom = function opacityFrom(opacity) {\r\n        if (opacity instanceof Function) this._opacityGetter = opacity;\r\n        else if (opacity instanceof Object && opacity.get) this._opacityGetter = opacity.get.bind(opacity);\r\n        else {\r\n            this._opacityGetter = null;\r\n            this._output.opacity = opacity;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set function, object, or numerical array to provide origin, as [x,y],\r\n     *   where x and y are in the range [0,1].\r\n     *\r\n     * @method originFrom\r\n     *\r\n     * @param {Object} origin provider object\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.originFrom = function originFrom(origin) {\r\n        if (origin instanceof Function) this._originGetter = origin;\r\n        else if (origin instanceof Object && origin.get) this._originGetter = origin.get.bind(origin);\r\n        else {\r\n            this._originGetter = null;\r\n            this._output.origin = origin;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set function, object, or numerical array to provide align, as [x,y],\r\n     *   where x and y are in the range [0,1].\r\n     *\r\n     * @method alignFrom\r\n     *\r\n     * @param {Object} align provider object\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.alignFrom = function alignFrom(align) {\r\n        if (align instanceof Function) this._alignGetter = align;\r\n        else if (align instanceof Object && align.get) this._alignGetter = align.get.bind(align);\r\n        else {\r\n            this._alignGetter = null;\r\n            this._output.align = align;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set function, object, or numerical array to provide size, as [width, height].\r\n     *\r\n     * @method sizeFrom\r\n     *\r\n     * @param {Object} size provider object\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.sizeFrom = function sizeFrom(size) {\r\n        if (size instanceof Function) this._sizeGetter = size;\r\n        else if (size instanceof Object && size.get) this._sizeGetter = size.get.bind(size);\r\n        else {\r\n            this._sizeGetter = null;\r\n            this._output.size = size;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set function, object, or numerical array to provide proportions, as [percent of width, percent of height].\r\n     *\r\n     * @method proportionsFrom\r\n     *\r\n     * @param {Object} proportions provider object\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.proportionsFrom = function proportionsFrom(proportions) {\r\n        if (proportions instanceof Function) this._proportionGetter = proportions;\r\n        else if (proportions instanceof Object && proportions.get) this._proportionGetter = proportions.get.bind(proportions);\r\n        else {\r\n            this._proportionGetter = null;\r\n            this._output.proportions = proportions;\r\n        }\r\n        return this;\r\n    };\r\n\r\n     /**\r\n     * Deprecated: Prefer transformFrom with static Transform, or use a TransitionableTransform.\r\n     * @deprecated\r\n     * @method setTransform\r\n     *\r\n     * @param {Transform} transform Transform to transition to\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.setTransform = function setTransform(transform, transition, callback) {\r\n        if (transition || this._legacyStates.transform) {\r\n            if (!this._legacyStates.transform) {\r\n                this._legacyStates.transform = new TransitionableTransform(this._output.transform);\r\n            }\r\n            if (!this._transformGetter) this.transformFrom(this._legacyStates.transform);\r\n\r\n            this._legacyStates.transform.set(transform, transition, callback);\r\n            return this;\r\n        }\r\n        else return this.transformFrom(transform);\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer opacityFrom with static opacity array, or use a Transitionable with that opacity.\r\n     * @deprecated\r\n     * @method setOpacity\r\n     *\r\n     * @param {Number} opacity Opacity value to transition to.\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.setOpacity = function setOpacity(opacity, transition, callback) {\r\n        if (transition || this._legacyStates.opacity) {\r\n            if (!this._legacyStates.opacity) {\r\n                this._legacyStates.opacity = new Transitionable(this._output.opacity);\r\n            }\r\n            if (!this._opacityGetter) this.opacityFrom(this._legacyStates.opacity);\r\n\r\n            return this._legacyStates.opacity.set(opacity, transition, callback);\r\n        }\r\n        else return this.opacityFrom(opacity);\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer originFrom with static origin array, or use a Transitionable with that origin.\r\n     * @deprecated\r\n     * @method setOrigin\r\n     *\r\n     * @param {Array.Number} origin two element array with values between 0 and 1.\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.setOrigin = function setOrigin(origin, transition, callback) {\r\n        /* TODO: remove this if statement when deprecation complete */\r\n        if (transition || this._legacyStates.origin) {\r\n\r\n            if (!this._legacyStates.origin) {\r\n                this._legacyStates.origin = new Transitionable(this._output.origin || [0, 0]);\r\n            }\r\n            if (!this._originGetter) this.originFrom(this._legacyStates.origin);\r\n\r\n            this._legacyStates.origin.set(origin, transition, callback);\r\n            return this;\r\n        }\r\n        else return this.originFrom(origin);\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer alignFrom with static align array, or use a Transitionable with that align.\r\n     * @deprecated\r\n     * @method setAlign\r\n     *\r\n     * @param {Array.Number} align two element array with values between 0 and 1.\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.setAlign = function setAlign(align, transition, callback) {\r\n        /* TODO: remove this if statement when deprecation complete */\r\n        if (transition || this._legacyStates.align) {\r\n\r\n            if (!this._legacyStates.align) {\r\n                this._legacyStates.align = new Transitionable(this._output.align || [0, 0]);\r\n            }\r\n            if (!this._alignGetter) this.alignFrom(this._legacyStates.align);\r\n\r\n            this._legacyStates.align.set(align, transition, callback);\r\n            return this;\r\n        }\r\n        else return this.alignFrom(align);\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer sizeFrom with static origin array, or use a Transitionable with that size.\r\n     * @deprecated\r\n     * @method setSize\r\n     * @param {Array.Number} size two element array of [width, height]\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.setSize = function setSize(size, transition, callback) {\r\n        if (size && (transition || this._legacyStates.size)) {\r\n            if (!this._legacyStates.size) {\r\n                this._legacyStates.size = new Transitionable(this._output.size || [0, 0]);\r\n            }\r\n            if (!this._sizeGetter) this.sizeFrom(this._legacyStates.size);\r\n\r\n            this._legacyStates.size.set(size, transition, callback);\r\n            return this;\r\n        }\r\n        else return this.sizeFrom(size);\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer proportionsFrom with static origin array, or use a Transitionable with those proportions.\r\n     * @deprecated\r\n     * @method setProportions\r\n     * @param {Array.Number} proportions two element array of [percent of width, percent of height]\r\n     * @param {Transitionable} transition Valid transitionable object\r\n     * @param {Function} callback callback to call after transition completes\r\n     * @return {Modifier} this\r\n     */\r\n    Modifier.prototype.setProportions = function setProportions(proportions, transition, callback) {\r\n        if (proportions && (transition || this._legacyStates.proportions)) {\r\n            if (!this._legacyStates.proportions) {\r\n                this._legacyStates.proportions = new Transitionable(this._output.proportions || [0, 0]);\r\n            }\r\n            if (!this._proportionGetter) this.proportionsFrom(this._legacyStates.proportions);\r\n\r\n            this._legacyStates.proportions.set(proportions, transition, callback);\r\n            return this;\r\n        }\r\n        else return this.proportionsFrom(proportions);\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to stop transform in your provider object.\r\n     * @deprecated\r\n     * @method halt\r\n     */\r\n    Modifier.prototype.halt = function halt() {\r\n        if (this._legacyStates.transform) this._legacyStates.transform.halt();\r\n        if (this._legacyStates.opacity) this._legacyStates.opacity.halt();\r\n        if (this._legacyStates.origin) this._legacyStates.origin.halt();\r\n        if (this._legacyStates.align) this._legacyStates.align.halt();\r\n        if (this._legacyStates.size) this._legacyStates.size.halt();\r\n        if (this._legacyStates.proportions) this._legacyStates.proportions.halt();\r\n        this._transformGetter = null;\r\n        this._opacityGetter = null;\r\n        this._originGetter = null;\r\n        this._alignGetter = null;\r\n        this._sizeGetter = null;\r\n        this._proportionGetter = null;\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to use your provided transform or output of your transform provider.\r\n     * @deprecated\r\n     * @method getTransform\r\n     * @return {Object} transform provider object\r\n     */\r\n    Modifier.prototype.getTransform = function getTransform() {\r\n        return this._transformGetter();\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to determine the end state of your transform from your transform provider\r\n     * @deprecated\r\n     * @method getFinalTransform\r\n     * @return {Transform} transform matrix\r\n     */\r\n    Modifier.prototype.getFinalTransform = function getFinalTransform() {\r\n        return this._legacyStates.transform ? this._legacyStates.transform.getFinal() : this._output.transform;\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to use your provided opacity or output of your opacity provider.\r\n     * @deprecated\r\n     * @method getOpacity\r\n     * @return {Object} opacity provider object\r\n     */\r\n    Modifier.prototype.getOpacity = function getOpacity() {\r\n        return this._opacityGetter();\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to use your provided origin or output of your origin provider.\r\n     * @deprecated\r\n     * @method getOrigin\r\n     * @return {Object} origin provider object\r\n     */\r\n    Modifier.prototype.getOrigin = function getOrigin() {\r\n        return this._originGetter();\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to use your provided align or output of your align provider.\r\n     * @deprecated\r\n     * @method getAlign\r\n     * @return {Object} align provider object\r\n     */\r\n    Modifier.prototype.getAlign = function getAlign() {\r\n        return this._alignGetter();\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to use your provided size or output of your size provider.\r\n     * @deprecated\r\n     * @method getSize\r\n     * @return {Object} size provider object\r\n     */\r\n    Modifier.prototype.getSize = function getSize() {\r\n        return this._sizeGetter ? this._sizeGetter() : this._output.size;\r\n    };\r\n\r\n    /**\r\n     * Deprecated: Prefer to use your provided proportions or output of your proportions provider.\r\n     * @deprecated\r\n     * @method getProportions\r\n     * @return {Object} proportions provider object\r\n     */\r\n    Modifier.prototype.getProportions = function getProportions() {\r\n        return this._proportionGetter ? this._proportionGetter() : this._output.proportions;\r\n    };\r\n\r\n    // call providers on tick to receive render spec elements to apply\r\n    function _update() {\r\n        if (this._transformGetter) this._output.transform = this._transformGetter();\r\n        if (this._opacityGetter) this._output.opacity = this._opacityGetter();\r\n        if (this._originGetter) this._output.origin = this._originGetter();\r\n        if (this._alignGetter) this._output.align = this._alignGetter();\r\n        if (this._sizeGetter) this._output.size = this._sizeGetter();\r\n        if (this._proportionGetter) this._output.proportions = this._proportionGetter();\r\n    }\r\n\r\n    /**\r\n     * Return render spec for this Modifier, applying to the provided\r\n     *    target component.  This is similar to render() for Surfaces.\r\n     *\r\n     * @private\r\n     * @method modify\r\n     *\r\n     * @param {Object} target (already rendered) render spec to\r\n     *    which to apply the transform.\r\n     * @return {Object} render spec for this Modifier, including the\r\n     *    provided target\r\n     */\r\n    Modifier.prototype.modify = function modify(target) {\r\n        _update.call(this);\r\n        this._output.target = target;\r\n        return this._output;\r\n    };\r\n\r\n    module.exports = Modifier;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Modifier.js\n ** module id = 31\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Transitionable = require('./Transitionable');\r\n    var Transform = require('../core/Transform');\r\n    var Utility = require('../utilities/Utility');\r\n\r\n    /**\r\n     * A class for transitioning the state of a Transform by transitioning\r\n     * its translate, scale, skew and rotate components independently.\r\n     *\r\n     * @class TransitionableTransform\r\n     * @constructor\r\n     *\r\n     * @param [transform=Transform.identity] {Transform} The initial transform state\r\n     */\r\n    function TransitionableTransform(transform) {\r\n        this._final = Transform.identity.slice();\r\n\r\n        this._finalTranslate = [0, 0, 0];\r\n        this._finalRotate = [0, 0, 0];\r\n        this._finalSkew = [0, 0, 0];\r\n        this._finalScale = [1, 1, 1];\r\n\r\n        this.translate = new Transitionable(this._finalTranslate);\r\n        this.rotate = new Transitionable(this._finalRotate);\r\n        this.skew = new Transitionable(this._finalSkew);\r\n        this.scale = new Transitionable(this._finalScale);\r\n\r\n        if (transform) this.set(transform);\r\n    }\r\n\r\n    function _build() {\r\n        return Transform.build({\r\n            translate: this.translate.get(),\r\n            rotate: this.rotate.get(),\r\n            skew: this.skew.get(),\r\n            scale: this.scale.get()\r\n        });\r\n    }\r\n\r\n    function _buildFinal() {\r\n        return Transform.build({\r\n            translate: this._finalTranslate,\r\n            rotate: this._finalRotate,\r\n            skew: this._finalSkew,\r\n            scale: this._finalScale\r\n        });\r\n    }\r\n\r\n    /**\r\n     * An optimized way of setting only the translation component of a Transform\r\n     *\r\n     * @method setTranslate\r\n     * @chainable\r\n     *\r\n     * @param translate {Array}     New translation state\r\n     * @param [transition] {Object} Transition definition\r\n     * @param [callback] {Function} Callback\r\n     * @return {TransitionableTransform}\r\n     */\r\n    TransitionableTransform.prototype.setTranslate = function setTranslate(translate, transition, callback) {\r\n        this._finalTranslate = translate;\r\n        this._final = _buildFinal.call(this);\r\n        this.translate.set(translate, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * An optimized way of setting only the scale component of a Transform\r\n     *\r\n     * @method setScale\r\n     * @chainable\r\n     *\r\n     * @param scale {Array}         New scale state\r\n     * @param [transition] {Object} Transition definition\r\n     * @param [callback] {Function} Callback\r\n     * @return {TransitionableTransform}\r\n     */\r\n    TransitionableTransform.prototype.setScale = function setScale(scale, transition, callback) {\r\n        this._finalScale = scale;\r\n        this._final = _buildFinal.call(this);\r\n        this.scale.set(scale, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * An optimized way of setting only the rotational component of a Transform\r\n     *\r\n     * @method setRotate\r\n     * @chainable\r\n     *\r\n     * @param eulerAngles {Array}   Euler angles for new rotation state\r\n     * @param [transition] {Object} Transition definition\r\n     * @param [callback] {Function} Callback\r\n     * @return {TransitionableTransform}\r\n     */\r\n    TransitionableTransform.prototype.setRotate = function setRotate(eulerAngles, transition, callback) {\r\n        this._finalRotate = eulerAngles;\r\n        this._final = _buildFinal.call(this);\r\n        this.rotate.set(eulerAngles, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * An optimized way of setting only the skew component of a Transform\r\n     *\r\n     * @method setSkew\r\n     * @chainable\r\n     *\r\n     * @param skewAngles {Array}    New skew state\r\n     * @param [transition] {Object} Transition definition\r\n     * @param [callback] {Function} Callback\r\n     * @return {TransitionableTransform}\r\n     */\r\n    TransitionableTransform.prototype.setSkew = function setSkew(skewAngles, transition, callback) {\r\n        this._finalSkew = skewAngles;\r\n        this._final = _buildFinal.call(this);\r\n        this.skew.set(skewAngles, transition, callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Setter for a TransitionableTransform with optional parameters to transition\r\n     * between Transforms\r\n     *\r\n     * @method set\r\n     * @chainable\r\n     *\r\n     * @param transform {Array}     New transform state\r\n     * @param [transition] {Object} Transition definition\r\n     * @param [callback] {Function} Callback\r\n     * @return {TransitionableTransform}\r\n     */\r\n    TransitionableTransform.prototype.set = function set(transform, transition, callback) {\r\n        var components = Transform.interpret(transform);\r\n\r\n        this._finalTranslate = components.translate;\r\n        this._finalRotate = components.rotate;\r\n        this._finalSkew = components.skew;\r\n        this._finalScale = components.scale;\r\n        this._final = transform;\r\n\r\n        var _callback = callback ? Utility.after(4, callback) : null;\r\n        this.translate.set(components.translate, transition, _callback);\r\n        this.rotate.set(components.rotate, transition, _callback);\r\n        this.skew.set(components.skew, transition, _callback);\r\n        this.scale.set(components.scale, transition, _callback);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Sets the default transition to use for transitioning betwen Transform states\r\n     *\r\n     * @method setDefaultTransition\r\n     *\r\n     * @param transition {Object} Transition definition\r\n     */\r\n    TransitionableTransform.prototype.setDefaultTransition = function setDefaultTransition(transition) {\r\n        this.translate.setDefault(transition);\r\n        this.rotate.setDefault(transition);\r\n        this.skew.setDefault(transition);\r\n        this.scale.setDefault(transition);\r\n    };\r\n\r\n    /**\r\n     * Getter. Returns the current state of the Transform\r\n     *\r\n     * @method get\r\n     *\r\n     * @return {Transform}\r\n     */\r\n    TransitionableTransform.prototype.get = function get() {\r\n        if (this.isActive()) {\r\n            return _build.call(this);\r\n        }\r\n        else return this._final;\r\n    };\r\n\r\n    /**\r\n     * Get the destination state of the Transform\r\n     *\r\n     * @method getFinal\r\n     *\r\n     * @return Transform {Transform}\r\n     */\r\n    TransitionableTransform.prototype.getFinal = function getFinal() {\r\n        return this._final;\r\n    };\r\n\r\n    /**\r\n     * Determine if the TransitionalTransform is currently transitioning\r\n     *\r\n     * @method isActive\r\n     *\r\n     * @return {Boolean}\r\n     */\r\n    TransitionableTransform.prototype.isActive = function isActive() {\r\n        return this.translate.isActive() || this.rotate.isActive() || this.scale.isActive() || this.skew.isActive();\r\n    };\r\n\r\n    /**\r\n     * Halts the transition\r\n     *\r\n     * @method halt\r\n     */\r\n    TransitionableTransform.prototype.halt = function halt() {\r\n        this.translate.halt();\r\n        this.rotate.halt();\r\n        this.skew.halt();\r\n        this.scale.halt();\r\n\r\n        this._final = this.get();\r\n        this._finalTranslate = this.translate.get();\r\n        this._finalRotate = this.rotate.get();\r\n        this._finalSkew = this.skew.get();\r\n        this._finalScale = this.scale.get();\r\n\r\n        return this;\r\n    };\r\n\r\n    module.exports = TransitionableTransform;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/transitions/TransitionableTransform.js\n ** module id = 32\n ** module chunks = 0\n **/","\r\n/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Surface = require('../core/Surface');\r\n\r\n    /**\r\n     * A surface containing image content.\r\n     *   This extends the Surface class.\r\n     *\r\n     * @class ImageSurface\r\n     *\r\n     * @extends Surface\r\n     * @constructor\r\n     * @param {Object} [options] overrides of default options\r\n     */\r\n    function ImageSurface(options) {\r\n        this._imageUrl = undefined;\r\n        Surface.apply(this, arguments);\r\n    }\r\n\r\n    var urlCache = [];\r\n    var countCache = [];\r\n    var nodeCache = [];\r\n    var cacheEnabled = true;\r\n\r\n    ImageSurface.enableCache = function enableCache() {\r\n        cacheEnabled = true;\r\n    };\r\n\r\n    ImageSurface.disableCache = function disableCache() {\r\n        cacheEnabled = false;\r\n    };\r\n\r\n    ImageSurface.clearCache = function clearCache() {\r\n        urlCache = [];\r\n        countCache = [];\r\n        nodeCache = [];\r\n    };\r\n\r\n    ImageSurface.getCache = function getCache() {\r\n        return {\r\n            urlCache: urlCache,\r\n            countCache: countCache,\r\n            nodeCache: nodeCache\r\n        };\r\n    };\r\n\r\n    ImageSurface.prototype = Object.create(Surface.prototype);\r\n    ImageSurface.prototype.constructor = ImageSurface;\r\n    ImageSurface.prototype.elementType = 'img';\r\n    ImageSurface.prototype.elementClass = 'famous-surface';\r\n\r\n    /**\r\n     * Set content URL.  This will cause a re-rendering.\r\n     * @method setContent\r\n     * @param {string} imageUrl\r\n     */\r\n    ImageSurface.prototype.setContent = function setContent(imageUrl) {\r\n        var urlIndex = urlCache.indexOf(this._imageUrl);\r\n        if (urlIndex !== -1) {\r\n            if (countCache[urlIndex] === 1) {\r\n                urlCache.splice(urlIndex, 1);\r\n                countCache.splice(urlIndex, 1);\r\n                nodeCache.splice(urlIndex, 1);\r\n            } else {\r\n                countCache[urlIndex]--;\r\n            }\r\n        }\r\n\r\n        urlIndex = urlCache.indexOf(imageUrl);\r\n        if (urlIndex === -1) {\r\n            urlCache.push(imageUrl);\r\n            countCache.push(1);\r\n        }\r\n        else {\r\n            countCache[urlIndex]++;\r\n        }\r\n\r\n        this._imageUrl = imageUrl;\r\n        this._contentDirty = true;\r\n    };\r\n\r\n    /**\r\n     * Place the document element that this component manages into the document.\r\n     *\r\n     * @private\r\n     * @method deploy\r\n     * @param {Node} target document parent of this container\r\n     */\r\n    ImageSurface.prototype.deploy = function deploy(target) {\r\n        var urlIndex = urlCache.indexOf(this._imageUrl);\r\n        if (nodeCache[urlIndex] === undefined && cacheEnabled) {\r\n            var img = new Image();\r\n            img.src = this._imageUrl || '';\r\n            nodeCache[urlIndex] = img;\r\n        }\r\n\r\n        target.src = this._imageUrl || '';\r\n    };\r\n\r\n    /**\r\n     * Remove this component and contained content from the document\r\n     *\r\n     * @private\r\n     * @method recall\r\n     *\r\n     * @param {Node} target node to which the component was deployed\r\n     */\r\n    ImageSurface.prototype.recall = function recall(target) {\r\n        target.src = '';\r\n    };\r\n\r\n    module.exports = ImageSurface;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/surfaces/ImageSurface.js\n ** module id = 33\n ** module chunks = 0\n **/","define(function(require, exports, module) {\r\n    var Transitionable = require('../transitions/Transitionable');\r\n    var OptionsManager = require('../core/OptionsManager');\r\n\r\n    /**\r\n     * Modifier that allows you to fade the opacity of affected renderables in and out.\r\n     * @class Fader\r\n     * @constructor\r\n     * @param {Object} [options] options configuration object.\r\n     * @param {Boolean} [options.cull=false] Stops returning affected renderables up the tree when they're fully faded when true.\r\n     * @param {Transition} [options.transition=true] The main transition for showing and hiding.\r\n     * @param {Transition} [options.pulseInTransition=true] Controls the transition to a pulsed state when the Fader instance's pulse\r\n     * method is called.\r\n     * @param {Transition} [options.pulseOutTransition=true]Controls the transition back from a pulsed state when the Fader instance's pulse\r\n     * method is called.\r\n     *\r\n     */\r\n    function Fader(options, startState) {\r\n        this.options = Object.create(Fader.DEFAULT_OPTIONS);\r\n        this._optionsManager = new OptionsManager(this.options);\r\n\r\n        if (options) this.setOptions(options);\r\n\r\n        if (!startState) startState = 0;\r\n        this.transitionHelper = new Transitionable(startState);\r\n    }\r\n\r\n    Fader.DEFAULT_OPTIONS = {\r\n        cull: false,\r\n        transition: true,\r\n        pulseInTransition: true,\r\n        pulseOutTransition: true\r\n    };\r\n\r\n    /**\r\n     * Set internal options, overriding any default options\r\n     *\r\n     * @method setOptions\r\n     *\r\n     * @param {Object} [options] overrides of default options.  See constructor.\r\n     */\r\n    Fader.prototype.setOptions = function setOptions(options) {\r\n        return this._optionsManager.setOptions(options);\r\n    };\r\n\r\n    /**\r\n     * Fully displays the Fader instance's associated renderables.\r\n     *\r\n     * @method show\r\n     * @param {Transition} [transition] The transition that coordinates setting to the new state.\r\n     * @param {Function} [callback] A callback that executes once you've transitioned to the fully shown state.\r\n     */\r\n    Fader.prototype.show = function show(transition, callback) {\r\n        transition = transition || this.options.transition;\r\n        this.set(1, transition, callback);\r\n    };\r\n\r\n    /**\r\n     * Fully fades the Fader instance's associated renderables.\r\n     *\r\n     * @method hide\r\n     * @param {Transition} [transition] The transition that coordinates setting to the new state.\r\n     * @param {Function} [callback] A callback that executes once you've transitioned to the fully faded state.\r\n     */\r\n    Fader.prototype.hide = function hide(transition, callback) {\r\n        transition = transition || this.options.transition;\r\n        this.set(0, transition, callback);\r\n    };\r\n\r\n    /**\r\n     * Manually sets the opacity state of the fader to the passed-in one. Executes with an optional\r\n     * transition and callback.\r\n     *\r\n     * @method set\r\n     * @param {Number} state A number from zero to one: the amount of opacity you want to set to.\r\n     * @param {Transition} [transition] The transition that coordinates setting to the new state.\r\n     * @param {Function} [callback] A callback that executes once you've finished executing the pulse.\r\n     */\r\n    Fader.prototype.set = function set(state, transition, callback) {\r\n        this.halt();\r\n        this.transitionHelper.set(state, transition, callback);\r\n    };\r\n\r\n    /**\r\n     * Halt the transition\r\n     *\r\n     * @method halt\r\n     */\r\n    Fader.prototype.halt = function halt() {\r\n        this.transitionHelper.halt();\r\n    };\r\n\r\n    /**\r\n     * Tells you if your Fader instance is above its visibility threshold.\r\n     *\r\n     * @method isVisible\r\n     * @return {Boolean} Whether or not your Fader instance is visible.\r\n     */\r\n    Fader.prototype.isVisible = function isVisible() {\r\n        return (this.transitionHelper.get() > 0);\r\n    };\r\n\r\n    /**\r\n     * Return render spec for this Modifier, applying to the provided\r\n     *    target component.  This is similar to render() for Surfaces.\r\n     *\r\n     * @private\r\n     * @method modify\r\n     *\r\n     * @param {Object} target (already rendered) render spec to\r\n     *    which to apply the transform.\r\n     * @return {Object} render spec for this Modifier, including the\r\n     *    provided target\r\n     */\r\n    Fader.prototype.modify = function modify(target) {\r\n        var currOpacity = this.transitionHelper.get();\r\n        if (this.options.cull && !currOpacity) return undefined;\r\n        else return {opacity: currOpacity, target: target};\r\n    };\r\n\r\n    module.exports = Fader;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/modifiers/Fader.js\n ** module id = 34\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n// TODO fix func-style\r\n/*eslint func-style: [0, \"declaration\"] */\r\n\r\ndefine(function(require, exports, module) {\r\n    /**\r\n     * An internal library to reproduce javascript time-based scheduling.\r\n     *   Using standard javascript setTimeout methods can have a negative performance impact\r\n     *   when combined with the Famous rendering process, so instead require Timer and call\r\n     *   Timer.setTimeout, Timer.setInterval, etc.\r\n     *\r\n     * @class Timer\r\n     * @constructor\r\n     */\r\n    var FamousEngine = require('../core/Engine');\r\n\r\n    var _event  = 'prerender';\r\n\r\n    var getTime = (window.performance && window.performance.now) ?\r\n        function() {\r\n            return window.performance.now();\r\n        }\r\n        : function() {\r\n            return Date.now();\r\n        };\r\n\r\n    /**\r\n     * Add a function to be run on every prerender\r\n     *\r\n     * @method addTimerFunction\r\n     *\r\n     * @param {function} fn function to be run every prerender\r\n     *\r\n     * @return {function} function passed in as parameter\r\n     */\r\n    function addTimerFunction(fn) {\r\n        FamousEngine.on(_event, fn);\r\n        return fn;\r\n    }\r\n\r\n    /**\r\n     * Wraps a function to be invoked after a certain amount of time.\r\n     *  After a set duration has passed, it executes the function and\r\n     *  removes it as a listener to 'prerender'.\r\n     *\r\n     * @method setTimeout\r\n     *\r\n     * @param {function} fn function to be run after a specified duration\r\n     * @param {number} duration milliseconds from now to execute the function\r\n     *\r\n     * @return {function} function passed in as parameter\r\n     */\r\n    function setTimeout(fn, duration) {\r\n        var t = getTime();\r\n        var callback = function() {\r\n            var t2 = getTime();\r\n            if (t2 - t >= duration) {\r\n                fn.apply(this, arguments);\r\n                FamousEngine.removeListener(_event, callback);\r\n            }\r\n        };\r\n        return addTimerFunction(callback);\r\n    }\r\n\r\n    /**\r\n     * Wraps a function to be invoked after a certain amount of time.\r\n     *  After a set duration has passed, it executes the function and\r\n     *  resets the execution time.\r\n     *\r\n     * @method setInterval\r\n     *\r\n     * @param {function} fn function to be run after a specified duration\r\n     * @param {number} duration interval to execute function in milliseconds\r\n     *\r\n     * @return {function} function passed in as parameter\r\n     */\r\n    function setInterval(fn, duration) {\r\n        var t = getTime();\r\n        var callback = function() {\r\n            var t2 = getTime();\r\n            if (t2 - t >= duration) {\r\n                fn.apply(this, arguments);\r\n                t = getTime();\r\n            }\r\n        };\r\n        return addTimerFunction(callback);\r\n    }\r\n\r\n    /**\r\n     * Wraps a function to be invoked after a certain amount of prerender ticks.\r\n     *  Similar use to setTimeout but tied to the engine's run speed.\r\n     *\r\n     * @method after\r\n     *\r\n     * @param {function} fn function to be run after a specified amount of ticks\r\n     * @param {number} numTicks number of prerender frames to wait\r\n     *\r\n     * @return {function} function passed in as parameter\r\n     */\r\n    function after(fn, numTicks) {\r\n        if (numTicks === undefined) return undefined;\r\n        var callback = function() {\r\n            numTicks--;\r\n            if (numTicks <= 0) { //in case numTicks is fraction or negative\r\n                fn.apply(this, arguments);\r\n                clear(callback);\r\n            }\r\n        };\r\n        return addTimerFunction(callback);\r\n    }\r\n\r\n    /**\r\n     * Wraps a function to be continually invoked after a certain amount of prerender ticks.\r\n     *  Similar use to setInterval but tied to the engine's run speed.\r\n     *\r\n     * @method every\r\n     *\r\n     * @param {function} fn function to be run after a specified amount of ticks\r\n     * @param {number} numTicks number of prerender frames to wait\r\n     *\r\n     * @return {function} function passed in as parameter\r\n     */\r\n    function every(fn, numTicks) {\r\n        numTicks = numTicks || 1;\r\n        var initial = numTicks;\r\n        var callback = function() {\r\n            numTicks--;\r\n            if (numTicks <= 0) { //in case numTicks is fraction or negative\r\n                fn.apply(this, arguments);\r\n                numTicks = initial;\r\n            }\r\n        };\r\n        return addTimerFunction(callback);\r\n    }\r\n\r\n    /**\r\n     * Remove a function that gets called every prerender\r\n     *\r\n     * @method clear\r\n     *\r\n     * @param {function} fn event linstener\r\n     */\r\n    function clear(fn) {\r\n        FamousEngine.removeListener(_event, fn);\r\n    }\r\n\r\n    /**\r\n     * Executes a function after a certain amount of time. Makes sure\r\n     *  the function is not run multiple times.\r\n     *\r\n     * @method debounce\r\n     *\r\n     * @param {function} func function to run after certain amount of time\r\n     * @param {number} wait amount of time\r\n     *\r\n     * @return {function} function that is not able to debounce\r\n     */\r\n    function debounce(func, wait) {\r\n        var timeout;\r\n        var ctx;\r\n        var timestamp;\r\n        var result;\r\n        var args;\r\n        return function() {\r\n            ctx = this;\r\n            args = arguments;\r\n            timestamp = getTime();\r\n\r\n            var fn = function() {\r\n                var last = getTime - timestamp;\r\n\r\n                if (last < wait) {\r\n                    timeout = setTimeout(fn, wait - last);\r\n                } else {\r\n                    timeout = null;\r\n                    result = func.apply(ctx, args);\r\n                }\r\n            };\r\n\r\n            clear(timeout);\r\n            timeout = setTimeout(fn, wait);\r\n\r\n            return result;\r\n        };\r\n    }\r\n\r\n    module.exports = {\r\n        setTimeout : setTimeout,\r\n        setInterval : setInterval,\r\n        debounce : debounce,\r\n        after : after,\r\n        every : every,\r\n        clear : clear\r\n    };\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/utilities/Timer.js\n ** module id = 35\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2015\r\n */\r\n\r\n/*global console*/\r\n/*eslint no-console:0 */\r\n\r\n/**\r\n * Virtual ViewSequence for famo.us which creates & destroys nodes using a\r\n * factory delegate. The factory class should support the following functions:\r\n * - create()\r\n * - createNext(prevRenderable)\r\n * - createPrevious(nextRenderable)\r\n * - destroy(renderable) (optional)\r\n *\r\n * Example:\r\n *\r\n * ```javascript\r\n * var VirtualViewSequence = require('famous-flex/VirtualViewSequence');\r\n *\r\n * // Factory for creating surfaces\r\n * function MyFactory() {}\r\n * MyFactory.prototype.create = function(index) {\r\n *   var surface = new Surface({\r\n *     size: [undefined, 100],\r\n *     classes: ['my-surface']\r\n *   });\r\n *   surface.index = index || 0; // add property to renderable\r\n *   return surface;\r\n * };\r\n * MyFactory.prototype.createNext = function(renderable) {\r\n *   return this.create(renderable.index + 1);\r\n * };\r\n * MyFactory.prototype.createPrevious = function(renderable) {\r\n *   return this.create(renderable.index - 1);\r\n * };\r\n *\r\n * // Create infinite scrollview\r\n * var viewSequence = new VirtualViewSequence({\r\n *   factory: new MyFactory()\r\n * });\r\n * var scrollView = new FlexScrollView({\r\n *   dataSource: viewSequence\r\n * });\r\n * ```\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var EventHandler = require('famous/core/EventHandler');\r\n\r\n    /**\r\n     * @class\r\n     * @param {Object} options Configurable options.\r\n     * @param {Object} options.factory Factory delegate for creating new renderables.\r\n     * @param {Renderable} [options.value] Renderable for this node (when omitted, `factory.create()` is called)\r\n     * @param {Number} [options.index] Index of this node (default: 0).\r\n     * @alias module:VirtualViewSequence\r\n     */\r\n    function VirtualViewSequence(options) {\r\n        options = options || {};\r\n        this._ = options._ || new (this.constructor.Backing)(options);\r\n        this.touched = true;\r\n        this.value = options.value || this._.factory.create();\r\n        this.index = options.index || 0;\r\n        this.next = options.next;\r\n        this.prev = options.prev;\r\n        EventHandler.setOutputHandler(this, this._.eventOutput);\r\n        this.value.pipe(this._.eventOutput);\r\n    }\r\n\r\n    VirtualViewSequence.Backing = function Backing(options) {\r\n        this.factory = options.factory;\r\n        this.eventOutput = new EventHandler();\r\n    };\r\n\r\n    /**\r\n     * Get previous node.\r\n     *\r\n     * When no previous node exists, the factory-delegate function `createPrevious`\r\n     * is called to construct a renderable for the previous node. When `createPrevious`\r\n     * returns `undefined`, no previous-node will be created.\r\n     *\r\n     * @return {VirtualViewSequence} previous node.\r\n     */\r\n    VirtualViewSequence.prototype.getPrevious = function(noCreate) {\r\n        if (this.prev) {\r\n            this.prev.touched = true;\r\n            return this.prev;\r\n        }\r\n        if (noCreate) {\r\n            return undefined;\r\n        }\r\n        var value = this._.factory.createPrevious(this.get());\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        //console.log('creating new prev node');\r\n        this.prev = new VirtualViewSequence({\r\n            _: this._,\r\n            value: value,\r\n            index: this.index - 1,\r\n            next: this\r\n        });\r\n        return this.prev;\r\n    };\r\n\r\n    /**\r\n     * Get next node.\r\n     *\r\n     * When no next node exists, the factory-delegate function `createNext`\r\n     * is called to construct a renderable for the next node. When `createNext`\r\n     * returns `undefined`, no next-node will be created.\r\n     *\r\n     * @return {VirtualViewSequence} next node.\r\n     */\r\n    VirtualViewSequence.prototype.getNext = function(noCreate) {\r\n        if (this.next) {\r\n            this.next.touched = true;\r\n            return this.next;\r\n        }\r\n        if (noCreate) {\r\n            return undefined;\r\n        }\r\n        var value = this._.factory.createNext(this.get());\r\n        if (!value) {\r\n            return undefined;\r\n        }\r\n        //console.log('creating new next node');\r\n        this.next = new VirtualViewSequence({\r\n            _: this._,\r\n            value: value,\r\n            index: this.index + 1,\r\n            prev: this\r\n        });\r\n        return this.next;\r\n    };\r\n\r\n    /**\r\n     * Get the value of this node.\r\n     *\r\n     * @return {Renderable} surface/view\r\n     */\r\n    VirtualViewSequence.prototype.get = function() {\r\n        this.touched = true;\r\n        return this.value;\r\n    };\r\n\r\n    /**\r\n     * Get the index of the node.\r\n     *\r\n     * @return {Number} Index of node.\r\n     */\r\n    VirtualViewSequence.prototype.getIndex = function() {\r\n        this.touched = true;\r\n        return this.index;\r\n    };\r\n\r\n    /**\r\n     * Get human readable string verion of the node.\r\n     *\r\n     * @return {String} node as a human readable string\r\n     */\r\n    VirtualViewSequence.prototype.toString = function() {\r\n        return '' + this.index;\r\n    };\r\n\r\n    /**\r\n     * Cleans up any un-accessed nodes since the previous call to `cleanup`.\r\n     *\r\n     * This function cleans up any nodes that have not been accessed\r\n     * since the last call to `cleanup`. When a node is accessed\r\n     * through a call to `getNext`, `getPrevious`, `get` or `getIndex`\r\n     * it is considered `touched` and should not be cleaned up.\r\n     *\r\n     * @return {VirtualViewSequence} this.\r\n     */\r\n    VirtualViewSequence.prototype.cleanup = function() {\r\n        var node = this.prev;\r\n        while (node) {\r\n            if (!node.touched) {\r\n                node.next.prev = undefined;\r\n                node.next = undefined;\r\n                if (this._.factory.destroy) {\r\n                    while (node) {\r\n                        this._.factory.destroy(node.value);\r\n                        node = node.prev;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            node.touched = false;\r\n            node = node.prev;\r\n        }\r\n        node = this.next;\r\n        while (node) {\r\n            if (!node.touched) {\r\n                node.prev.next = undefined;\r\n                node.prev = undefined;\r\n                if (this._.factory.destroy) {\r\n                    while (node) {\r\n                        this._.factory.destroy(node.value);\r\n                        node = node.next;\r\n                    }\r\n                }\r\n                break;\r\n            }\r\n            node.touched = false;\r\n            node = node.next;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Not supported\r\n     * @private\r\n     */\r\n    VirtualViewSequence.prototype.unshift = function() {\r\n        if (console.error) {\r\n            console.error('VirtualViewSequence.unshift is not supported and should not be called');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Not supported\r\n     * @private\r\n     */\r\n    VirtualViewSequence.prototype.push = function() {\r\n        if (console.error) {\r\n            console.error('VirtualViewSequence.push is not supported and should not be called');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Not supported\r\n     * @private\r\n     */\r\n    VirtualViewSequence.prototype.splice = function() {\r\n        if (console.error) {\r\n            console.error('VirtualViewSequence.splice is not supported and should not be called');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Not supported\r\n     * @private\r\n     */\r\n    VirtualViewSequence.prototype.swap = function() {\r\n        if (console.error) {\r\n            console.error('VirtualViewSequence.swap is not supported and should not be called');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Not supported\r\n     * @private\r\n     */\r\n    VirtualViewSequence.prototype.insert = function() {\r\n        if (console.error) {\r\n            console.error('VirtualViewSequence.insert is not supported and should not be called');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Not supported\r\n     * @private\r\n     */\r\n    VirtualViewSequence.prototype.remove = function() {\r\n        if (console.error) {\r\n            console.error('VirtualViewSequence.remove is not supported and should not be called');\r\n        }\r\n    };\r\n\r\n    module.exports = VirtualViewSequence;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/VirtualViewSequence.js\n ** module id = 36\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2015\r\n */\r\n\r\n/**\r\n * Flexible FlexScrollView for famo.us.\r\n *\r\n * Key features:\r\n * -    Customizable layout (uses ListLayout by default)\r\n * -    Insert/remove at any position using animations\r\n * -    Support for `true` size renderables\r\n * -    Pull to refresh (header & footer)\r\n * -    Horizontal/vertical direction\r\n * -    Top/left or bottom/right alignment\r\n * -    Pagination\r\n * -    Option to embed in a ContainerSurface\r\n * -    FlexScrollView linking\r\n *\r\n * Inherited from: [ScrollController](./ScrollController.md)\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var LayoutUtility = require('./LayoutUtility');\r\n    var ScrollController = require('./ScrollController');\r\n    var ListLayout = require('./layouts/ListLayout');\r\n\r\n    //\r\n    // Pull to refresh states\r\n    //\r\n    var PullToRefreshState = {\r\n        HIDDEN: 0,\r\n        PULLING: 1,\r\n        ACTIVE: 2,\r\n        COMPLETED: 3,\r\n        HIDDING: 4\r\n    };\r\n\r\n    /**\r\n     * @class\r\n     * @extends ScrollController\r\n     * @param {Object} options Configurable options (see ScrollController for all inherited options).\r\n     * @param {Renderable} [options.pullToRefreshHeader] Pull to refresh renderable that is displayed when pulling down from the top.\r\n     * @param {Renderable} [options.pullToRefreshFooter] Pull to refresh renderable that is displayed when pulling up from the bottom.\r\n     * @param {FlexScrollView} [options.leadingScrollView] Leading scrollview into which input events are piped (see Tutorial)\r\n     * @param {FlexScrollView} [options.trailingScrollView] Trailing scrollview into which input events are piped (see Tutorial)\r\n     * @alias module:FlexScrollView\r\n     */\r\n    function FlexScrollView(options) {\r\n        ScrollController.call(this, LayoutUtility.combineOptions(FlexScrollView.DEFAULT_OPTIONS, options));\r\n        this._thisScrollViewDelta = 0;\r\n        this._leadingScrollViewDelta = 0;\r\n        this._trailingScrollViewDelta = 0;\r\n    }\r\n    FlexScrollView.prototype = Object.create(ScrollController.prototype);\r\n    FlexScrollView.prototype.constructor = FlexScrollView;\r\n    FlexScrollView.PullToRefreshState = PullToRefreshState;\r\n    FlexScrollView.Bounds = ScrollController.Bounds;\r\n    FlexScrollView.PaginationMode = ScrollController.PaginationMode;\r\n\r\n    FlexScrollView.DEFAULT_OPTIONS = {\r\n        layout: ListLayout,         // sequential layout, uses width/height from renderable\r\n        direction: undefined,       // 0 = X, 1 = Y, undefined = use default from layout\r\n        paginated: false,           // pagination on/off\r\n        alignment: 0,               // 0 = top/left, 1 = bottom/right\r\n        flow: false,                // allow renderables to flow between layouts when not scrolling\r\n        mouseMove: false,           // allow mouse to hold and move the view\r\n        useContainer: false,        // embeds inside a ContainerSurface for clipping and capturing input events\r\n        visibleItemThresshold: 0.5, // by default, when an item is 50% visible, it is considered visible by `getFirstVisibleItem`\r\n        pullToRefreshHeader: undefined, // assign pull-to-refresh renderable here (renderable must have a size)\r\n        pullToRefreshFooter: undefined, // assign pull-to-refresh renderable here (renderable must have a size)\r\n        leadingScrollView: undefined,\r\n        trailingScrollView: undefined\r\n        // see ScrollController for all other options\r\n    };\r\n\r\n    /**\r\n     * Patches the FlexScrollView instance's options with the passed-in ones.\r\n     *\r\n     * @param {Object} options Configurable options (see ScrollController for all inherited options).\r\n     * @param {Renderable} [options.pullToRefreshHeader] Pull to refresh renderable that is displayed when pulling down from the top.\r\n     * @param {Renderable} [options.pullToRefreshFooter] Pull to refresh renderable that is displayed when pulling up from the bottom.\r\n     * @param {FlexScrollView} [options.leadingScrollView] Leading scrollview into which input events are piped (see Tutorial).\r\n     * @param {FlexScrollView} [options.trailingScrollView] Trailing scrollview into which input events are piped (see Tutorial).\r\n     * @return {FlexScrollView} this\r\n     */\r\n    FlexScrollView.prototype.setOptions = function(options) {\r\n        ScrollController.prototype.setOptions.call(this, options);\r\n\r\n        // Update pull to refresh renderables\r\n        if (options.pullToRefreshHeader || options.pullToRefreshFooter || this._pullToRefresh) {\r\n            if (options.pullToRefreshHeader) {\r\n                this._pullToRefresh = this._pullToRefresh || [undefined, undefined];\r\n                if (!this._pullToRefresh[0]) {\r\n                    this._pullToRefresh[0] = {\r\n                        state: PullToRefreshState.HIDDEN,\r\n                        prevState: PullToRefreshState.HIDDEN,\r\n                        footer: false\r\n                    };\r\n                }\r\n                this._pullToRefresh[0].node = options.pullToRefreshHeader;\r\n            }\r\n            else if (!this.options.pullToRefreshHeader && this._pullToRefresh) {\r\n                this._pullToRefresh[0] = undefined;\r\n            }\r\n            if (options.pullToRefreshFooter) {\r\n                this._pullToRefresh = this._pullToRefresh || [undefined, undefined];\r\n                if (!this._pullToRefresh[1]) {\r\n                    this._pullToRefresh[1] = {\r\n                        state: PullToRefreshState.HIDDEN,\r\n                        prevState: PullToRefreshState.HIDDEN,\r\n                        footer: true\r\n                    };\r\n                }\r\n                this._pullToRefresh[1].node = options.pullToRefreshFooter;\r\n            }\r\n            else if (!this.options.pullToRefreshFooter && this._pullToRefresh) {\r\n                this._pullToRefresh[1] = undefined;\r\n            }\r\n            if (this._pullToRefresh && !this._pullToRefresh[0] && !this._pullToRefresh[1]) {\r\n                this._pullToRefresh = undefined;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Sets the data-source (alias for setDataSource).\r\n     *\r\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\r\n     *\r\n     * @param {Array|LinkedListViewSequence} node Either an array of renderables or a viewSequence.\r\n     * @return {FlexScrollView} this\r\n     */\r\n    FlexScrollView.prototype.sequenceFrom = function(node) {\r\n        return this.setDataSource(node);\r\n    };\r\n\r\n    /**\r\n     * Returns the index of the first visible renderable.\r\n     *\r\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\r\n     *\r\n     * @return {Number} Index of the first visible renderable.\r\n     */\r\n    FlexScrollView.prototype.getCurrentIndex = function() {\r\n        var item = this.getFirstVisibleItem();\r\n        return item ? item.viewSequence.getIndex() : -1;\r\n    };\r\n\r\n    /**\r\n     * Paginates the Scrollview to an absolute page index. This function is a shim provided\r\n     * for compatibility with the stock famo.us Scrollview.\r\n     *\r\n     * @param {Number} index view-sequence index to go to.\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without scrolling animation.\r\n     * @return {FlexScrollView} this\r\n     */\r\n    FlexScrollView.prototype.goToPage = function(index, noAnimation) {\r\n        var viewSequence = this._viewSequence;\r\n        if (!viewSequence) {\r\n            return this;\r\n        }\r\n        while (viewSequence.getIndex() < index) {\r\n            viewSequence = viewSequence.getNext();\r\n            if (!viewSequence) {\r\n                return this;\r\n            }\r\n        }\r\n        while (viewSequence.getIndex() > index) {\r\n            viewSequence = viewSequence.getPrevious();\r\n            if (!viewSequence) {\r\n                return this;\r\n            }\r\n        }\r\n        this.goToRenderNode(viewSequence.get(), noAnimation);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Returns the offset associated with the Scrollview instance's current node\r\n     * (generally the node currently at the top).\r\n     *\r\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\r\n     *\r\n     * @return {number} The position of either the specified node, or the Scrollview's current Node,\r\n     * in pixels translated.\r\n     */\r\n    FlexScrollView.prototype.getOffset = function() {\r\n        return this._scrollOffsetCache;\r\n    };\r\n\r\n    /**\r\n     * Returns the position associated with the Scrollview instance's current node\r\n     * (generally the node currently at the top).\r\n     *\r\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\r\n     *\r\n     * @deprecated\r\n     * @param {number} [node] If specified, returns the position of the node at that index in the\r\n     * Scrollview instance's currently managed collection.\r\n     * @return {number} The position of either the specified node, or the Scrollview's current Node,\r\n     * in pixels translated.\r\n     */\r\n    FlexScrollView.prototype.getPosition = FlexScrollView.prototype.getOffset;\r\n\r\n    /**\r\n     * Returns the absolute position associated with the Scrollview instance.\r\n     *\r\n     * This function is a shim provided for compatibility with the stock famo.us Scrollview.\r\n     *\r\n     * @return {number} The position of the Scrollview's current Node, in pixels translated.\r\n     */\r\n    FlexScrollView.prototype.getAbsolutePosition = function() {\r\n        return -(this._scrollOffsetCache + this._scroll.groupStart);\r\n    };\r\n\r\n    /**\r\n     * Helper function for setting the pull-to-refresh status.\r\n     */\r\n    function _setPullToRefreshState(pullToRefresh, state) {\r\n        if (pullToRefresh.state !== state) {\r\n            pullToRefresh.state = state;\r\n            if (pullToRefresh.node && pullToRefresh.node.setPullToRefreshStatus) {\r\n                pullToRefresh.node.setPullToRefreshStatus(state);\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper function for getting the pull-to-refresh data.\r\n     */\r\n    function _getPullToRefresh(footer) {\r\n        return this._pullToRefresh ? this._pullToRefresh[footer ? 1 : 0] : undefined;\r\n    }\r\n\r\n    /**\r\n     * Post-layout function that adds the pull-to-refresh renderables.\r\n     * @private\r\n     */\r\n    FlexScrollView.prototype._postLayout = function(size, scrollOffset) {\r\n\r\n        // Exit immediately when pull to refresh is not configured\r\n        if (!this._pullToRefresh) {\r\n            return;\r\n        }\r\n\r\n        // Adjust scroll-offset for alignment\r\n        if (this.options.alignment) {\r\n            scrollOffset += size[this._direction];\r\n        }\r\n\r\n        // Prepare\r\n        var prevHeight;\r\n        var nextHeight;\r\n        var totalHeight;\r\n\r\n        // Show/activate pull to refresh renderables\r\n        for (var i = 0; i < 2; i++) {\r\n            var pullToRefresh = this._pullToRefresh[i];\r\n            if (pullToRefresh) {\r\n\r\n                // Calculate offset\r\n                var length = pullToRefresh.node.getSize()[this._direction];\r\n                var pullLength = pullToRefresh.node.getPullToRefreshSize ? pullToRefresh.node.getPullToRefreshSize()[this._direction] : length;\r\n                var offset;\r\n                if (!pullToRefresh.footer) {\r\n                    // header\r\n                    prevHeight = this._calcScrollHeight(false);\r\n                    prevHeight = (prevHeight === undefined) ? -1 : prevHeight;\r\n                    offset = (prevHeight >= 0) ? (scrollOffset - prevHeight) : prevHeight;\r\n                    if (this.options.alignment) {\r\n                        nextHeight = this._calcScrollHeight(true);\r\n                        nextHeight = (nextHeight === undefined) ? -1 : nextHeight;\r\n                        totalHeight = ((prevHeight >= 0) && (nextHeight >= 0)) ? (prevHeight + nextHeight) : -1;\r\n                        if ((totalHeight >= 0) && (totalHeight < size[this._direction])) {\r\n                            offset = Math.round((scrollOffset - size[this._direction]) + nextHeight);\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    // footer\r\n                    nextHeight = (nextHeight === undefined) ? nextHeight = this._calcScrollHeight(true) : nextHeight;\r\n                    nextHeight = (nextHeight === undefined) ? -1 : nextHeight;\r\n                    offset = (nextHeight >= 0) ? (scrollOffset + nextHeight) : (size[this._direction] + 1);\r\n                    if (!this.options.alignment) {\r\n                        prevHeight = (prevHeight === undefined) ? this._calcScrollHeight(false) : prevHeight;\r\n                        prevHeight = (prevHeight === undefined) ? -1 : prevHeight;\r\n                        totalHeight = ((prevHeight >= 0) && (nextHeight >= 0)) ? (prevHeight + nextHeight) : -1;\r\n                        if ((totalHeight >= 0) && (totalHeight < size[this._direction])) {\r\n                            offset = Math.round((scrollOffset - prevHeight) + size[this._direction]);\r\n                        }\r\n                    }\r\n                    offset = -(offset - size[this._direction]);\r\n                }\r\n\r\n                // Determine current state\r\n                var visiblePerc = Math.max(Math.min(offset / pullLength, 1), 0);\r\n                switch (pullToRefresh.state) {\r\n                    case PullToRefreshState.HIDDEN:\r\n                        if (this._scroll.scrollForceCount) {\r\n                            if (visiblePerc >= 1) {\r\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.ACTIVE);\r\n                            }\r\n                            else if (offset >= 0.2) {\r\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.PULLING);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case PullToRefreshState.PULLING:\r\n                        if (this._scroll.scrollForceCount && (visiblePerc >= 1)) {\r\n                            _setPullToRefreshState(pullToRefresh, PullToRefreshState.ACTIVE);\r\n                        }\r\n                        else if (offset < 0.2) {\r\n                            _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDEN);\r\n                        }\r\n                        break;\r\n                    case PullToRefreshState.ACTIVE:\r\n                        // nothing to do, wait for completed\r\n                        break;\r\n                    case PullToRefreshState.COMPLETED:\r\n                        if (!this._scroll.scrollForceCount) {\r\n                            if (offset >= 0.2) {\r\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDING);\r\n                            }\r\n                            else {\r\n                                _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDEN);\r\n                            }\r\n                        }\r\n                        break;\r\n                    case PullToRefreshState.HIDDING:\r\n                        if (offset < 0.2) {\r\n                            _setPullToRefreshState(pullToRefresh, PullToRefreshState.HIDDEN);\r\n                        }\r\n                        break;\r\n                }\r\n\r\n                // Show pull to refresh node\r\n                if (pullToRefresh.state !== PullToRefreshState.HIDDEN) {\r\n                    var contextNode = {\r\n                        renderNode: pullToRefresh.node,\r\n                        prev: !pullToRefresh.footer,\r\n                        next: pullToRefresh.footer,\r\n                        index: !pullToRefresh.footer ? --this._nodes._contextState.prevGetIndex : ++this._nodes._contextState.nextGetIndex\r\n                    };\r\n                    var scrollLength;\r\n                    if (pullToRefresh.state === PullToRefreshState.ACTIVE) {\r\n                        scrollLength = length;\r\n                    }\r\n                    else if (this._scroll.scrollForceCount) {\r\n                        scrollLength = Math.min(offset, length);\r\n                    }\r\n                    var set = {\r\n                        size: [size[0], size[1]],\r\n                        translate: [0, 0, -1e-3], // transform.behind\r\n                        scrollLength: scrollLength\r\n                    };\r\n                    set.size[this._direction] = Math.max(Math.min(offset, pullLength), 0);\r\n                    set.translate[this._direction] = pullToRefresh.footer ? (size[this._direction] - length) : 0;\r\n                    this._nodes._context.set(contextNode, set);\r\n                }\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Shows the pulls-to-refresh renderable indicating that a refresh is in progress.\r\n     *\r\n     * @param {Bool} [footer] set to true to show pull-to-refresh at the footer (default: false).\r\n     * @return {FlexScrollView} this\r\n     */\r\n    FlexScrollView.prototype.showPullToRefresh = function(footer) {\r\n        var pullToRefresh = _getPullToRefresh.call(this, footer);\r\n        if (pullToRefresh) {\r\n            _setPullToRefreshState(pullToRefresh, PullToRefreshState.ACTIVE);\r\n            this._scroll.scrollDirty = true;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Hides the pull-to-refresh renderable in case it was visible.\r\n     *\r\n     * @param {Bool} [footer] set to true to hide the pull-to-refresh at the footer (default: false).\r\n     * @return {FlexScrollView} this\r\n     */\r\n    FlexScrollView.prototype.hidePullToRefresh = function(footer) {\r\n        var pullToRefresh = _getPullToRefresh.call(this, footer);\r\n        if (pullToRefresh && (pullToRefresh.state === PullToRefreshState.ACTIVE)) {\r\n            _setPullToRefreshState(pullToRefresh, PullToRefreshState.COMPLETED);\r\n            this._scroll.scrollDirty = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get the visible state of the pull-to-refresh renderable.\r\n     *\r\n     * @param {Bool} [footer] set to true to get the state of the pull-to-refresh footer (default: false).\r\n     */\r\n    FlexScrollView.prototype.isPullToRefreshVisible = function(footer) {\r\n        var pullToRefresh = _getPullToRefresh.call(this, footer);\r\n        return pullToRefresh ? (pullToRefresh.state === PullToRefreshState.ACTIVE) : false;\r\n    };\r\n\r\n    /**\r\n     * Delegates any scroll force to leading/trailing scrollviews.\r\n     * @private\r\n     */\r\n    FlexScrollView.prototype.applyScrollForce = function(delta) {\r\n        var leadingScrollView = this.options.leadingScrollView;\r\n        var trailingScrollView = this.options.trailingScrollView;\r\n        if (!leadingScrollView && !trailingScrollView) {\r\n            return ScrollController.prototype.applyScrollForce.call(this, delta);\r\n        }\r\n        var partialDelta;\r\n        if (delta < 0) {\r\n            if (leadingScrollView) {\r\n                partialDelta = leadingScrollView.canScroll(delta);\r\n                this._leadingScrollViewDelta += partialDelta;\r\n                leadingScrollView.applyScrollForce(partialDelta);\r\n                delta -= partialDelta;\r\n            }\r\n            if (trailingScrollView) {\r\n                partialDelta = this.canScroll(delta);\r\n                ScrollController.prototype.applyScrollForce.call(this, partialDelta);\r\n                this._thisScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n                trailingScrollView.applyScrollForce(delta);\r\n                this._trailingScrollViewDelta += delta;\r\n            }\r\n            else {\r\n                ScrollController.prototype.applyScrollForce.call(this, delta);\r\n                this._thisScrollViewDelta += delta;\r\n            }\r\n        }\r\n        else {\r\n            if (trailingScrollView) {\r\n                partialDelta = trailingScrollView.canScroll(delta);\r\n                trailingScrollView.applyScrollForce(partialDelta);\r\n                this._trailingScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n            }\r\n            if (leadingScrollView) {\r\n                partialDelta = this.canScroll(delta);\r\n                ScrollController.prototype.applyScrollForce.call(this, partialDelta);\r\n                this._thisScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n                leadingScrollView.applyScrollForce(delta);\r\n                this._leadingScrollViewDelta += delta;\r\n            }\r\n            else {\r\n                ScrollController.prototype.applyScrollForce.call(this, delta);\r\n                this._thisScrollViewDelta += delta;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Delegates any scroll force to leading/trailing scrollviews.\r\n     * @private\r\n     */\r\n    FlexScrollView.prototype.updateScrollForce = function(prevDelta, newDelta) {\r\n        var leadingScrollView = this.options.leadingScrollView;\r\n        var trailingScrollView = this.options.trailingScrollView;\r\n        if (!leadingScrollView && !trailingScrollView) {\r\n            return ScrollController.prototype.updateScrollForce.call(this, prevDelta, newDelta);\r\n        }\r\n        var partialDelta;\r\n        var delta = newDelta - prevDelta;\r\n        if (delta < 0) {\r\n            if (leadingScrollView) {\r\n                partialDelta = leadingScrollView.canScroll(delta);\r\n                leadingScrollView.updateScrollForce(this._leadingScrollViewDelta, this._leadingScrollViewDelta + partialDelta);\r\n                this._leadingScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n            }\r\n            if (trailingScrollView && delta) {\r\n                partialDelta = this.canScroll(delta);\r\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + partialDelta);\r\n                this._thisScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n                this._trailingScrollViewDelta += delta;\r\n                trailingScrollView.updateScrollForce(this._trailingScrollViewDelta, this._trailingScrollViewDelta + delta);\r\n            }\r\n            else if (delta) {\r\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + delta);\r\n                this._thisScrollViewDelta += delta;\r\n            }\r\n        }\r\n        else {\r\n            if (trailingScrollView) {\r\n                partialDelta = trailingScrollView.canScroll(delta);\r\n                trailingScrollView.updateScrollForce(this._trailingScrollViewDelta, this._trailingScrollViewDelta + partialDelta);\r\n                this._trailingScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n            }\r\n            if (leadingScrollView) {\r\n                partialDelta = this.canScroll(delta);\r\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + partialDelta);\r\n                this._thisScrollViewDelta += partialDelta;\r\n                delta -= partialDelta;\r\n                leadingScrollView.updateScrollForce(this._leadingScrollViewDelta, this._leadingScrollViewDelta + delta);\r\n                this._leadingScrollViewDelta += delta;\r\n            }\r\n            else {\r\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, this._thisScrollViewDelta + delta);\r\n                this._thisScrollViewDelta += delta;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Delegates any scroll force to leading/trailing scrollviews.\r\n     * @private\r\n     */\r\n    FlexScrollView.prototype.releaseScrollForce = function(delta, velocity) {\r\n        var leadingScrollView = this.options.leadingScrollView;\r\n        var trailingScrollView = this.options.trailingScrollView;\r\n        if (!leadingScrollView && !trailingScrollView) {\r\n            return ScrollController.prototype.releaseScrollForce.call(this, delta, velocity);\r\n        }\r\n        var partialDelta;\r\n        if (delta < 0) {\r\n            if (leadingScrollView) {\r\n                partialDelta = Math.max(this._leadingScrollViewDelta, delta);\r\n                this._leadingScrollViewDelta -= partialDelta;\r\n                delta -= partialDelta;\r\n                leadingScrollView.releaseScrollForce(this._leadingScrollViewDelta, delta ? 0 : velocity);\r\n            }\r\n            if (trailingScrollView) {\r\n                partialDelta = Math.max(this._thisScrollViewDelta, delta);\r\n                this._thisScrollViewDelta -= partialDelta;\r\n                delta -= partialDelta;\r\n                ScrollController.prototype.releaseScrollForce.call(this, this._thisScrollViewDelta, delta ? 0 : velocity);\r\n                this._trailingScrollViewDelta -= delta;\r\n                trailingScrollView.releaseScrollForce(this._trailingScrollViewDelta, delta ? velocity : 0);\r\n            }\r\n            else {\r\n                this._thisScrollViewDelta -= delta;\r\n                ScrollController.prototype.releaseScrollForce.call(this, this._thisScrollViewDelta, delta ? velocity : 0);\r\n            }\r\n        }\r\n        else {\r\n            if (trailingScrollView) {\r\n                partialDelta = Math.min(this._trailingScrollViewDelta, delta);\r\n                this._trailingScrollViewDelta -= partialDelta;\r\n                delta -= partialDelta;\r\n                trailingScrollView.releaseScrollForce(this._trailingScrollViewDelta, delta ? 0 : velocity);\r\n            }\r\n            if (leadingScrollView) {\r\n                partialDelta = Math.min(this._thisScrollViewDelta, delta);\r\n                this._thisScrollViewDelta -= partialDelta;\r\n                delta -= partialDelta;\r\n                ScrollController.prototype.releaseScrollForce.call(this, this._thisScrollViewDelta, delta ? 0 : velocity);\r\n                this._leadingScrollViewDelta -= delta;\r\n                leadingScrollView.releaseScrollForce(this._leadingScrollViewDelta, delta ? velocity : 0);\r\n            }\r\n            else {\r\n                this._thisScrollViewDelta -= delta;\r\n                ScrollController.prototype.updateScrollForce.call(this, this._thisScrollViewDelta, delta ? velocity : 0);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Overriden commit, in order to emit pull-to-refresh event after\r\n     * all the rendering has been done.\r\n     * @private\r\n     */\r\n    FlexScrollView.prototype.commit = function(context) {\r\n\r\n        // Call base class\r\n        var result = ScrollController.prototype.commit.call(this, context);\r\n\r\n        // Emit pull to refresh events after the whole commit call has been executed\r\n        // so that when the refresh event is received, the FlexScrollView is in a valid state\r\n        // and can be queried.\r\n        if (this._pullToRefresh) {\r\n            for (var i = 0; i < 2; i++) {\r\n                var pullToRefresh = this._pullToRefresh[i];\r\n                if (pullToRefresh) {\r\n                    if ((pullToRefresh.state === PullToRefreshState.ACTIVE) &&\r\n                        (pullToRefresh.prevState !== PullToRefreshState.ACTIVE)) {\r\n                        this._eventOutput.emit('refresh', {\r\n                            target: this,\r\n                            footer: pullToRefresh.footer\r\n                        });\r\n                    }\r\n                    pullToRefresh.prevState = pullToRefresh.state;\r\n                }\r\n            }\r\n        }\r\n        return result;\r\n    };\r\n\r\n    module.exports = FlexScrollView;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/FlexScrollView.js\n ** module id = 37\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014\r\n */\r\n\r\n/*global console*/\r\n/*eslint no-console:0*/\r\n\r\n/**\r\n * Utility class for famous-flex.\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var Utility = require('famous/utilities/Utility');\r\n\r\n    /**\r\n     * @class\r\n     * @alias module:LayoutUtility\r\n     */\r\n    function LayoutUtility() {\r\n    }\r\n    LayoutUtility.registeredHelpers = {};\r\n\r\n    var Capabilities = {\r\n        SEQUENCE: 1,\r\n        DIRECTION_X: 2,\r\n        DIRECTION_Y: 4,\r\n        SCROLLING: 8\r\n    };\r\n    LayoutUtility.Capabilities = Capabilities;\r\n\r\n    /**\r\n     *  Normalizes the margins argument.\r\n     *\r\n     *  @param {Array.Number} margins\r\n     */\r\n    LayoutUtility.normalizeMargins = function(margins) {\r\n        if (!margins) {\r\n            return [0, 0, 0, 0];\r\n        }\r\n        else if (!Array.isArray(margins)) {\r\n            return [margins, margins, margins, margins];\r\n        }\r\n        else if (margins.length === 0) {\r\n            return [0, 0, 0, 0];\r\n        }\r\n        else if (margins.length === 1) {\r\n            return [margins[0], margins[0], margins[0], margins[0]];\r\n        }\r\n        else if (margins.length === 2) {\r\n            return [margins[0], margins[1], margins[0], margins[1]];\r\n        }\r\n        else {\r\n            return margins;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Makes a (shallow) copy of a spec.\r\n     *\r\n     * @param {Spec} spec Spec to clone\r\n     * @return {Spec} cloned spec\r\n     */\r\n    LayoutUtility.cloneSpec = function(spec) {\r\n        var clone = {};\r\n        if (spec.opacity !== undefined) {\r\n            clone.opacity = spec.opacity;\r\n        }\r\n        if (spec.size !== undefined) {\r\n            clone.size = spec.size.slice(0);\r\n        }\r\n        if (spec.transform !== undefined) {\r\n            clone.transform = spec.transform.slice(0);\r\n        }\r\n        if (spec.origin !== undefined) {\r\n            clone.origin = spec.origin.slice(0);\r\n        }\r\n        if (spec.align !== undefined) {\r\n            clone.align = spec.align.slice(0);\r\n        }\r\n        return clone;\r\n    };\r\n\r\n    /**\r\n     * Compares two arrays for equality.\r\n     */\r\n    function _isEqualArray(a, b) {\r\n        if (a === b) {\r\n            return true;\r\n        }\r\n        if ((a === undefined) || (b === undefined)) {\r\n            return false;\r\n        }\r\n        var i = a.length;\r\n        if (i !== b.length){\r\n            return false;\r\n        }\r\n        while (i--) {\r\n            if (a[i] !== b[i]) {\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n\r\n    /**\r\n     * Compares two specs for equality.\r\n     *\r\n     * @param {Spec} spec1 Spec to compare\r\n     * @param {Spec} spec2 Spec to compare\r\n     * @return {Boolean} true/false\r\n     */\r\n    LayoutUtility.isEqualSpec = function(spec1, spec2) {\r\n        if (spec1.opacity !== spec2.opacity) {\r\n            return false;\r\n        }\r\n        if (!_isEqualArray(spec1.size, spec2.size)) {\r\n            return false;\r\n        }\r\n        if (!_isEqualArray(spec1.transform, spec2.transform)) {\r\n            return false;\r\n        }\r\n        if (!_isEqualArray(spec1.origin, spec2.origin)) {\r\n            return false;\r\n        }\r\n        if (!_isEqualArray(spec1.align, spec2.align)) {\r\n            return false;\r\n        }\r\n        return true;\r\n    };\r\n\r\n    /**\r\n     * Helper function that returns a string containing the differences\r\n     * between two specs.\r\n     *\r\n     * @param {Spec} spec1 Spec to compare\r\n     * @param {Spec} spec2 Spec to compare\r\n     * @return {String} text\r\n     */\r\n    LayoutUtility.getSpecDiffText = function(spec1, spec2) {\r\n        var result = 'spec diff:';\r\n        if (spec1.opacity !== spec2.opacity) {\r\n            result += '\\nopacity: ' + spec1.opacity + ' != ' + spec2.opacity;\r\n        }\r\n        if (!_isEqualArray(spec1.size, spec2.size)) {\r\n            result += '\\nsize: ' + JSON.stringify(spec1.size) + ' != ' + JSON.stringify(spec2.size);\r\n        }\r\n        if (!_isEqualArray(spec1.transform, spec2.transform)) {\r\n            result += '\\ntransform: ' + JSON.stringify(spec1.transform) + ' != ' + JSON.stringify(spec2.transform);\r\n        }\r\n        if (!_isEqualArray(spec1.origin, spec2.origin)) {\r\n            result += '\\norigin: ' + JSON.stringify(spec1.origin) + ' != ' + JSON.stringify(spec2.origin);\r\n        }\r\n        if (!_isEqualArray(spec1.align, spec2.align)) {\r\n            result += '\\nalign: ' + JSON.stringify(spec1.align) + ' != ' + JSON.stringify(spec2.align);\r\n        }\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Helper function to call whenever a critical error has occurred.\r\n     *\r\n     * @param {String} message error-message\r\n     */\r\n    LayoutUtility.error = function(message) {\r\n        console.log('ERROR: ' + message);\r\n        throw message;\r\n    };\r\n\r\n    /**\r\n     * Helper function to call whenever a warning error has occurred.\r\n     *\r\n     * @param {String} message warning-message\r\n     */\r\n    LayoutUtility.warning = function(message) {\r\n        console.log('WARNING: ' + message);\r\n    };\r\n\r\n    /**\r\n     * Helper function to log 1 or more arguments. All the arguments\r\n     * are concatenated to produce a single string which is logged.\r\n     *\r\n     * @param {String|Array|Object} args arguments to stringify and concatenate\r\n     */\r\n    LayoutUtility.log = function(args) {\r\n        var message = '';\r\n        for (var i = 0; i < arguments.length; i++) {\r\n            var arg = arguments[i];\r\n            if ((arg instanceof Object) || (arg instanceof Array)) {\r\n                message += JSON.stringify(arg);\r\n            }\r\n            else {\r\n                message += arg;\r\n            }\r\n        }\r\n        console.log(message);\r\n    };\r\n\r\n    /**\r\n     * Combines two sets of options into a single set.\r\n     *\r\n     * @param {Object} options1 base set of options\r\n     * @param {Object} options2 set of options to merge into `options1`\r\n     * @param {Bool} [forceClone] ensures that a clone is returned rather that one of the original options objects\r\n     * @return {Object} Combined options\r\n     */\r\n    LayoutUtility.combineOptions = function(options1, options2, forceClone) {\r\n        if (options1 && !options2 && !forceClone) {\r\n            return options1;\r\n        }\r\n        else if (!options1 && options2 && !forceClone) {\r\n            return options2;\r\n        }\r\n        var options = Utility.clone(options1 || {});\r\n        if (options2) {\r\n            for (var key in options2) {\r\n                options[key] = options2[key];\r\n            }\r\n        }\r\n        return options;\r\n    };\r\n\r\n    /**\r\n     * Registers a layout-helper so it can be used as a layout-literal for\r\n     * a layout-controller. The LayoutHelper instance must support the `parse`\r\n     * function, which is fed the layout-literal content.\r\n     *\r\n     * **Example:**\r\n     *\r\n     * ```javascript\r\n     * Layout.registerHelper('dock', LayoutDockHelper);\r\n     *\r\n     * var layoutController = new LayoutController({\r\n     *   layout: { dock: [,\r\n     *     ['top', 'header', 50],\r\n     *     ['bottom', 'footer', 50],\r\n     *     ['fill', 'content'],\r\n     *   ]},\r\n     *   dataSource: {\r\n     *     header: new Surface({content: 'Header'}),\r\n     *     footer: new Surface({content: 'Footer'}),\r\n     *     content: new Surface({content: 'Content'}),\r\n     *   }\r\n     * })\r\n     * ```\r\n     *\r\n     * @param {String} name name of the helper (e.g. 'dock')\r\n     * @param {Function} Helper Helper to register (e.g. LayoutDockHelper)\r\n     */\r\n    LayoutUtility.registerHelper = function(name, Helper) {\r\n        if (!Helper.prototype.parse) {\r\n            LayoutUtility.error('The layout-helper for name \"' + name + '\" is required to support the \"parse\" method');\r\n        }\r\n        if (this.registeredHelpers[name] !== undefined) {\r\n            LayoutUtility.warning('A layout-helper with the name \"' + name + '\" is already registered and will be overwritten');\r\n        }\r\n        this.registeredHelpers[name] = Helper;\r\n    };\r\n\r\n    /**\r\n     * Unregisters a layout-helper.\r\n     *\r\n     * @param {String} name name of the layout-helper\r\n     */\r\n    LayoutUtility.unregisterHelper = function(name) {\r\n        delete this.registeredHelpers[name];\r\n    };\r\n\r\n    /**\r\n     * Gets a registered layout-helper by its name.\r\n     *\r\n     * @param {String} name name of the layout-helper\r\n     * @return {Function} layout-helper or undefined\r\n     */\r\n    LayoutUtility.getRegisteredHelper = function(name) {\r\n        return this.registeredHelpers[name];\r\n    };\r\n\r\n    // Layout function\r\n    module.exports = LayoutUtility;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutUtility.js\n ** module id = 38\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014 - 2015\r\n */\r\n\r\n/*global console*/\r\n/*eslint no-console: 0*/\r\n\r\n/**\r\n * Scrollable layout-controller.\r\n *\r\n * Key features:\r\n * -    Customizable layout\r\n * -    Insert/remove renderables into the scene using animations/spec\r\n * -    Support for `true` size renderables\r\n * -    Horizontal/vertical direction\r\n * -    Top/left or bottom/right alignment\r\n * -    Pagination\r\n * -    Option to embed in a ContainerSurface\r\n *\r\n * Events:\r\n *\r\n * |event      |description|\r\n * |-----------|-----------|\r\n * |scrollstart|Emitted when scrolling starts.|\r\n * |scroll     |Emitted as the content scrolls (once for each frame the visible offset has changed).|\r\n * |pagechange |Emitted whenever the visible page changes.|\r\n * |scrollend  |Emitted after scrolling stops (when the scroll particle settles).|\r\n *\r\n * Inherited from: [LayoutController](./LayoutController.md)\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var LayoutUtility = require('./LayoutUtility');\r\n    var LayoutController = require('./LayoutController');\r\n    var LayoutNode = require('./LayoutNode');\r\n    var FlowLayoutNode = require('./FlowLayoutNode');\r\n    var LayoutNodeManager = require('./LayoutNodeManager');\r\n    var ContainerSurface = require('famous/surfaces/ContainerSurface');\r\n    var Transform = require('famous/core/Transform');\r\n    var EventHandler = require('famous/core/EventHandler');\r\n    var Group = require('famous/core/Group');\r\n    var Vector = require('famous/math/Vector');\r\n    var PhysicsEngine = require('famous/physics/PhysicsEngine');\r\n    var Particle = require('famous/physics/bodies/Particle');\r\n    var Drag = require('famous/physics/forces/Drag');\r\n    var Spring = require('famous/physics/forces/Spring');\r\n    var ScrollSync = require('famous/inputs/ScrollSync');\r\n    var LinkedListViewSequence = require('./LinkedListViewSequence');\r\n\r\n    /**\r\n     * Boudary reached detection\r\n     */\r\n    var Bounds = {\r\n        NONE: 0,\r\n        PREV: 1, // top\r\n        NEXT: 2, // bottom\r\n        BOTH: 3\r\n    };\r\n\r\n    /**\r\n     * Source of the spring\r\n     */\r\n    var SpringSource = {\r\n        NONE: 'none',\r\n        NEXTBOUNDS: 'next-bounds', // top\r\n        PREVBOUNDS: 'prev-bounds', // bottom\r\n        MINSIZE: 'minimal-size',\r\n        GOTOSEQUENCE: 'goto-sequence',\r\n        ENSUREVISIBLE: 'ensure-visible',\r\n        GOTOPREVDIRECTION: 'goto-prev-direction',\r\n        GOTONEXTDIRECTION: 'goto-next-direction'\r\n    };\r\n\r\n    /**\r\n     * Pagination modes\r\n     */\r\n    var PaginationMode = {\r\n        PAGE: 0,\r\n        SCROLL: 1\r\n    };\r\n\r\n    /**\r\n     * @class\r\n     * @extends LayoutController\r\n     * @param {Object} options Configurable options (see LayoutController for all inherited options).\r\n     * @param {Bool} [options.useContainer] Embeds the view in a ContainerSurface to hide any overflow and capture input events (default: `false`).\r\n     * @param {String} [options.container] Options that are passed to the ContainerSurface in case `useContainer` is true.\r\n     * @param {Bool} [options.paginated] Enabled pagination when set to `true` (default: `false`).\r\n     * @param {Number} [options.paginationEnergyThreshold] Threshold after which pagination kicks in (default: `0.01`).\r\n     * @param {PaginationMode} [options.paginationMode] Pagination-mode (either page-based or scroll-based) (default: `PaginationMode.PAGE`).\r\n     * @param {Number} [options.alignment] Alignment of the renderables (0 = top/left, 1 = bottom/right) (default: `0`).\r\n     * @param {Bool} [options.mouseMove] Enables scrolling by holding the mouse-button down and moving the mouse (default: `false`).\r\n     * @param {Bool} [options.enabled] Enables or disabled user input (default: `true`).\r\n     * @param {Bool} [options.overscroll] Enables or disables overscroll (default: `true`).\r\n     * @param {Object} [options.scrollParticle] Options for the scroll particle (default: `{}`)\r\n     * @param {Object} [options.scrollSpring] Spring-force options that are applied on the scroll particle when e.g. bounds is reached (default: `{dampingRatio: 1.0, period: 350}`)\r\n     * @param {Object} [options.scrollDrag] Drag-force options to apply on the scroll particle\r\n     * @param {Object} [options.scrollFriction] Friction-force options to apply on the scroll particle\r\n     * @param {Bool} [options.layoutAll] When set to true, always lays out all renderables in the datasource (default: `false`).\r\n     * @alias module:ScrollController\r\n     */\r\n    function ScrollController(options) {\r\n        options = LayoutUtility.combineOptions(ScrollController.DEFAULT_OPTIONS, options);\r\n        var layoutManager = new LayoutNodeManager(options.flow ? FlowLayoutNode : LayoutNode, _initLayoutNode.bind(this));\r\n        LayoutController.call(this, options, layoutManager);\r\n\r\n        // Scrolling\r\n        this._scroll = {\r\n            activeTouches: [],\r\n            // physics-engine to use for scrolling\r\n            pe: new PhysicsEngine(this.options.scrollPhysicsEngine),\r\n            // particle that represents the scroll-offset\r\n            particle: new Particle(this.options.scrollParticle),\r\n            // drag-force that slows the particle down after a \"flick\"\r\n            dragForce: new Drag(this.options.scrollDrag),\r\n            frictionForce: new Drag(this.options.scrollFriction),\r\n            // spring\r\n            springValue: undefined,\r\n            springForce: new Spring(this.options.scrollSpring),\r\n            springEndState: new Vector([0, 0, 0]),\r\n            // group\r\n            groupStart: 0,\r\n            groupTranslate: [0, 0, 0],\r\n            // delta\r\n            scrollDelta: 0,\r\n            normalizedScrollDelta: 0,\r\n            scrollForce: 0,\r\n            scrollForceCount: 0,\r\n            unnormalizedScrollOffset: 0,\r\n            // state\r\n            isScrolling: false\r\n        };\r\n\r\n        // Diagnostics\r\n        this._debug = {\r\n            layoutCount: 0,\r\n            commitCount: 0\r\n        };\r\n\r\n        // Create groupt for faster rendering\r\n        this.group = new Group();\r\n        this.group.add({render: _innerRender.bind(this)});\r\n\r\n        // Configure physics engine with particle and drag\r\n        this._scroll.pe.addBody(this._scroll.particle);\r\n        if (!this.options.scrollDrag.disabled) {\r\n            this._scroll.dragForceId = this._scroll.pe.attach(this._scroll.dragForce, this._scroll.particle);\r\n        }\r\n        if (!this.options.scrollFriction.disabled) {\r\n            this._scroll.frictionForceId = this._scroll.pe.attach(this._scroll.frictionForce, this._scroll.particle);\r\n        }\r\n        this._scroll.springForce.setOptions({ anchor: this._scroll.springEndState });\r\n\r\n        // Listen to touch events\r\n        this._eventInput.on('touchstart', _touchStart.bind(this));\r\n        this._eventInput.on('touchmove', _touchMove.bind(this));\r\n        this._eventInput.on('touchend', _touchEnd.bind(this));\r\n        this._eventInput.on('touchcancel', _touchEnd.bind(this));\r\n\r\n        // Listen to mouse-move events\r\n        this._eventInput.on('mousedown', _mouseDown.bind(this));\r\n        this._eventInput.on('mouseup', _mouseUp.bind(this));\r\n        this._eventInput.on('mousemove', _mouseMove.bind(this));\r\n\r\n        // Listen to mouse-wheel events\r\n        this._scrollSync = new ScrollSync(this.options.scrollSync);\r\n        this._eventInput.pipe(this._scrollSync);\r\n        this._scrollSync.on('update', _scrollUpdate.bind(this));\r\n\r\n        // Embed in container surface if neccesary\r\n        if (this.options.useContainer) {\r\n            this.container = new ContainerSurface(this.options.container);\r\n\r\n            // Create container surface, which has one child, which just returns\r\n            // the entity-id of this scrollview. This causes the Commit function\r\n            // of this scrollview to be called\r\n            this.container.add({\r\n                render: function() {\r\n                    return this.id;\r\n                }.bind(this)\r\n            });\r\n\r\n            // Pipe events received in container to this scrollview\r\n            if (!this.options.autoPipeEvents) {\r\n                this.subscribe(this.container);\r\n                EventHandler.setInputHandler(this.container, this);\r\n                EventHandler.setOutputHandler(this.container, this);\r\n            }\r\n        }\r\n    }\r\n    ScrollController.prototype = Object.create(LayoutController.prototype);\r\n    ScrollController.prototype.constructor = ScrollController;\r\n    ScrollController.Bounds = Bounds;\r\n    ScrollController.PaginationMode = PaginationMode;\r\n\r\n    ScrollController.DEFAULT_OPTIONS = {\r\n        useContainer: false,    // when true embeds inside a ContainerSurface for capturing input events & clipping\r\n        container: {\r\n            properties: {\r\n                overflow: 'hidden' // overflow mode when useContainer is enabled\r\n            }\r\n        },\r\n        scrollPhysicsEngine: {\r\n            // use defaults\r\n            //velocityCap: undefined,\r\n            //angularVelocityCap: undefined\r\n        },\r\n        scrollParticle: {\r\n            // use defaults\r\n            //mass: 1\r\n        },\r\n        scrollDrag: {\r\n            forceFunction: Drag.FORCE_FUNCTIONS.QUADRATIC,\r\n            strength: 0.001,\r\n            disabled: true\r\n        },\r\n        scrollFriction: {\r\n            forceFunction: Drag.FORCE_FUNCTIONS.LINEAR,\r\n            strength: 0.0025,\r\n            disabled: false\r\n        },\r\n        scrollSpring: {\r\n            dampingRatio: 1.0,\r\n            period: 350\r\n        },\r\n        scrollSync: {\r\n            scale: 0.2\r\n        },\r\n        overscroll: true,\r\n        paginated: false,\r\n        paginationMode: PaginationMode.PAGE,\r\n        paginationEnergyThreshold: 0.01,\r\n        alignment: 0,         // [0: top/left, 1: bottom/right]\r\n        touchMoveDirectionThreshold: undefined, // 0..1\r\n        touchMoveNoVelocityDuration: 100,\r\n        mouseMove: false,\r\n        enabled: true,          // set to false to disable scrolling\r\n        layoutAll: false,       // set to true is you want all renderables layed out/rendered\r\n        alwaysLayout: false,    // set to true to always call the layout function\r\n        extraBoundsSpace: [100, 100],\r\n        debug: false\r\n    };\r\n\r\n    /**\r\n     * Patches the ScrollController instance's options with the passed-in ones.\r\n     *\r\n     * @param {Object} options Configurable options (see LayoutController for all inherited options).\r\n     * @param {Bool} [options.paginated] Enabled pagination when set to `true` (default: `false`).\r\n     * @param {Number} [options.paginationEnergyThreshold] Threshold after which pagination kicks in (default: `0.01`).\r\n     * @param {PaginationMode} [options.paginationMode] Pagination-mode (either page-based or scroll-based) (default: `PaginationMode.PAGE`).\r\n     * @param {Number} [options.alignment] Alignment of the renderables (0 = top/left, 1 = bottom/right) (default: `0`).\r\n     * @param {Bool} [options.mouseMove] Enables scrolling by holding the mouse-button down and moving the mouse (default: `false`).\r\n     * @param {Bool} [options.enabled] Enables or disables user input (default: `true`).\r\n     * @param {Bool} [options.overscroll] Enables or disables overscroll (default: `true`).\r\n     * @param {Object} [options.scrollParticle] Options for the scroll particle (default: `{}`)\r\n     * @param {Object} [options.scrollSpring] Spring-force options that are applied on the scroll particle when e.g. bounds is reached (default: `{dampingRatio: 1.0, period: 500}`)\r\n     * @param {Object} [options.scrollDrag] Drag-force options to apply on the scroll particle\r\n     * @param {Object} [options.scrollFriction] Friction-force options to apply on the scroll particle\r\n     * @param {Bool} [options.layoutAll] When set to true, always lays out all renderables in the datasource (default: `false`).\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.setOptions = function(options) {\r\n        LayoutController.prototype.setOptions.call(this, options);\r\n        if (options.hasOwnProperty('paginationEnergyThresshold')) {\r\n            console.warn('option `paginationEnergyThresshold` has been deprecated, please rename to `paginationEnergyThreshold`.');\r\n            this.setOptions({\r\n                paginationEnergyThreshold: options.paginationEnergyThresshold\r\n            });\r\n        }\r\n        if (options.hasOwnProperty('touchMoveDirectionThresshold')) {\r\n            console.warn('option `touchMoveDirectionThresshold` has been deprecated, please rename to `touchMoveDirectionThreshold`.');\r\n            this.setOptions({\r\n                touchMoveDirectionThreshold: options.touchMoveDirectionThresshold\r\n            });\r\n        }\r\n        if (this._scroll) {\r\n            if (options.scrollSpring) {\r\n                this._scroll.springForce.setOptions(options.scrollSpring);\r\n            }\r\n            if (options.scrollDrag) {\r\n                this._scroll.dragForce.setOptions(options.scrollDrag);\r\n            }\r\n        }\r\n        if (options.scrollSync && this._scrollSync) {\r\n            this._scrollSync.setOptions(options.scrollSync);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Called whenever a layout-node is created/re-used. Initializes\r\n     * the node with the `insertSpec` if it has been defined and enabled\r\n     * locking of the x/y translation so that the x/y position of the renderable\r\n     * is immediately updated when the user scrolls the view.\r\n     */\r\n    function _initLayoutNode(node, spec) {\r\n        if (!spec && this.options.flowOptions.insertSpec) {\r\n            node.setSpec(this.options.flowOptions.insertSpec);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper that detects when layout is scrolling optimized (default: true).\r\n     */\r\n    function _isSequentiallyScrollingOptimized() {\r\n        return !this._layout.capabilities ||\r\n                (this._layout.capabilities.sequentialScrollingOptimized === undefined) ||\r\n                this._layout.capabilities.sequentialScrollingOptimized;\r\n    }\r\n\r\n    /**\r\n     * Helper function for logging debug statements to the console.\r\n     */\r\n    /*function _log(args) {\r\n        if (!this.options.debug) {\r\n            return;\r\n        }\r\n        var message = this._debug.commitCount + ': ';\r\n        for (var i = 0, j = arguments.length; i < j; i++) {\r\n            var arg = arguments[i];\r\n            if ((arg instanceof Object) || (arg instanceof Array)) {\r\n                message += JSON.stringify(arg);\r\n            }\r\n            else {\r\n                message += arg;\r\n            }\r\n        }\r\n        console.log(message);\r\n    }*/\r\n\r\n    /**\r\n     * Sets the value for the spring, or set to `undefined` to disable the spring\r\n     */\r\n    function _updateSpring() {\r\n        var springValue = this._scroll.scrollForceCount ? undefined : this._scroll.springPosition;\r\n        if (this._scroll.springValue !== springValue) {\r\n            this._scroll.springValue = springValue;\r\n            if (springValue === undefined) {\r\n                if (this._scroll.springForceId !== undefined) {\r\n                    this._scroll.pe.detach(this._scroll.springForceId);\r\n                    this._scroll.springForceId = undefined;\r\n                    //_log.call(this, 'disabled spring');\r\n                }\r\n            }\r\n            else {\r\n                if (this._scroll.springForceId === undefined) {\r\n                    this._scroll.springForceId = this._scroll.pe.attach(this._scroll.springForce, this._scroll.particle);\r\n                }\r\n                this._scroll.springEndState.set1D(springValue);\r\n                this._scroll.pe.wake();\r\n                //_log.call(this, 'setting spring to: ', springValue, ' (', this._scroll.springSource, ')');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Returns the time from the given input event.\r\n     */\r\n    function _getEventTimestamp(event) {\r\n        return event.timeStamp || Date.now();\r\n    }\r\n\r\n    /**\r\n     * Called whenever the user presses the mouse button on the scrollview\r\n     */\r\n    function _mouseDown(event) {\r\n\r\n        // Check whether mouse-scrolling is enabled\r\n        if (!this.options.mouseMove) {\r\n            return;\r\n        }\r\n\r\n        // Reset any previous mouse-move operation that has not yet been\r\n        // cleared.\r\n        if (this._scroll.mouseMove) {\r\n            this.releaseScrollForce(this._scroll.mouseMove.delta);\r\n        }\r\n\r\n        // Calculate start of move operation\r\n        var current = [event.clientX, event.clientY];\r\n        var time = _getEventTimestamp(event);\r\n        this._scroll.mouseMove = {\r\n            delta: 0,\r\n            start: current,\r\n            current: current,\r\n            prev: current,\r\n            time: time,\r\n            prevTime: time\r\n        };\r\n\r\n        // Apply scroll force\r\n        this.applyScrollForce(this._scroll.mouseMove.delta);\r\n    }\r\n    function _mouseMove(event) {\r\n\r\n        // Check if any mouse-move is active\r\n        if (!this._scroll.mouseMove || !this.options.enabled) {\r\n            return;\r\n        }\r\n\r\n        // When a thresshold is configured, check whether the move operation (x/y ratio)\r\n        // lies within the thresshold. A move of 10 pixels x and 10 pixels y is considered 45 deg,\r\n        // which corresponds to a thresshold of 0.5.\r\n        var moveDirection = Math.atan2(\r\n            Math.abs(event.clientY - this._scroll.mouseMove.prev[1]),\r\n            Math.abs(event.clientX - this._scroll.mouseMove.prev[0])) / (Math.PI / 2.0);\r\n        var directionDiff = Math.abs(this._direction - moveDirection);\r\n        if ((this.options.touchMoveDirectionThreshold === undefined) || (directionDiff <= this.options.touchMoveDirectionThreshold)){\r\n            this._scroll.mouseMove.prev = this._scroll.mouseMove.current;\r\n            this._scroll.mouseMove.current = [event.clientX, event.clientY];\r\n            this._scroll.mouseMove.prevTime = this._scroll.mouseMove.time;\r\n            this._scroll.mouseMove.direction = moveDirection;\r\n            this._scroll.mouseMove.time = _getEventTimestamp(event);\r\n        }\r\n\r\n        // Update scroll-force\r\n        var delta = this._scroll.mouseMove.current[this._direction] - this._scroll.mouseMove.start[this._direction];\r\n        this.updateScrollForce(this._scroll.mouseMove.delta, delta);\r\n        this._scroll.mouseMove.delta = delta;\r\n    }\r\n    function _mouseUp(event) {\r\n\r\n        // Check if any mouse-move is active\r\n        if (!this._scroll.mouseMove) {\r\n            return;\r\n        }\r\n\r\n        // Calculate delta and velocity\r\n        var velocity = 0;\r\n        var diffTime = this._scroll.mouseMove.time - this._scroll.mouseMove.prevTime;\r\n        if ((diffTime > 0) && ((_getEventTimestamp(event) - this._scroll.mouseMove.time) <= this.options.touchMoveNoVelocityDuration)) {\r\n            var diffOffset = this._scroll.mouseMove.current[this._direction] - this._scroll.mouseMove.prev[this._direction];\r\n            velocity = diffOffset / diffTime;\r\n        }\r\n\r\n        // Release scroll force\r\n        this.releaseScrollForce(this._scroll.mouseMove.delta, velocity);\r\n        this._scroll.mouseMove = undefined;\r\n    }\r\n\r\n    /**\r\n     * Called whenever the user starts moving the scroll-view, using\r\n     * touch gestures.\r\n     */\r\n    function _touchStart(event) {\r\n\r\n        // Create touch-end event listener\r\n        if (!this._touchEndEventListener) {\r\n            this._touchEndEventListener = function(event2) {\r\n                event2.target.removeEventListener('touchend', this._touchEndEventListener);\r\n                _touchEnd.call(this, event2);\r\n            }.bind(this);\r\n        }\r\n\r\n        // Remove any touches that are no longer active\r\n        var oldTouchesCount = this._scroll.activeTouches.length;\r\n        var i = 0;\r\n        var j;\r\n        var touchFound;\r\n        while (i < this._scroll.activeTouches.length) {\r\n            var activeTouch = this._scroll.activeTouches[i];\r\n            touchFound = false;\r\n            for (j = 0; j < event.touches.length; j++) {\r\n                var touch = event.touches[j];\r\n                if (touch.identifier === activeTouch.id) {\r\n                    touchFound = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!touchFound) {\r\n                //_log.cal(this, 'removing touch with id: ', activeTouch.id);\r\n                this._scroll.activeTouches.splice(i, 1);\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n\r\n        // Process touch\r\n        for (i = 0; i < event.touches.length; i++) {\r\n            var changedTouch = event.touches[i];\r\n            touchFound = false;\r\n            for (j = 0; j < this._scroll.activeTouches.length; j++) {\r\n                if (this._scroll.activeTouches[j].id === changedTouch.identifier) {\r\n                    touchFound = true;\r\n                    break;\r\n                }\r\n            }\r\n            if (!touchFound) {\r\n                var current = [changedTouch.clientX, changedTouch.clientY];\r\n                var time = _getEventTimestamp(event);\r\n                this._scroll.activeTouches.push({\r\n                    id: changedTouch.identifier,\r\n                    start: current,\r\n                    current: current,\r\n                    prev: current,\r\n                    time: time,\r\n                    prevTime: time\r\n                });\r\n\r\n                // The following listener is automatically removed after touchend is received\r\n                // and ensures that the scrollview always received touchend.\r\n                changedTouch.target.addEventListener('touchend', this._touchEndEventListener);\r\n            }\r\n        }\r\n\r\n        // The first time a touch new touch gesture has arrived, emit event\r\n        if (!oldTouchesCount && this._scroll.activeTouches.length) {\r\n            this.applyScrollForce(0);\r\n            this._scroll.touchDelta = 0;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called whenever the user is moving his/her fingers to scroll the view.\r\n     * Updates the moveOffset so that the scroll-offset on the view is updated.\r\n     */\r\n    function _touchMove(event) {\r\n        if (!this.options.enabled) {\r\n            return;\r\n        }\r\n\r\n        // Process the touch event\r\n        var primaryTouch;\r\n        for (var i = 0; i < event.changedTouches.length; i++) {\r\n            var changedTouch = event.changedTouches[i];\r\n            for (var j = 0; j < this._scroll.activeTouches.length; j++) {\r\n                var touch = this._scroll.activeTouches[j];\r\n                if (touch.id === changedTouch.identifier) {\r\n\r\n                    // When a thresshold is configured, check whether the move operation (x/y ratio)\r\n                    // lies within the thresshold. A move of 10 pixels x and 10 pixels y is considered 45 deg,\r\n                    // which corresponds to a thresshold of 0.5.\r\n                    var moveDirection = Math.atan2(\r\n                        Math.abs(changedTouch.clientY - touch.prev[1]),\r\n                        Math.abs(changedTouch.clientX - touch.prev[0])) / (Math.PI / 2.0);\r\n                    var directionDiff = Math.abs(this._direction - moveDirection);\r\n                    if ((this.options.touchMoveDirectionThreshold === undefined) || (directionDiff <= this.options.touchMoveDirectionThreshold)){\r\n                        touch.prev = touch.current;\r\n                        touch.current = [changedTouch.clientX, changedTouch.clientY];\r\n                        touch.prevTime = touch.time;\r\n                        touch.direction = moveDirection;\r\n                        touch.time = _getEventTimestamp(event);\r\n                        primaryTouch = (j === 0) ? touch : undefined;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n\r\n        // Update move offset and emit event\r\n        if (primaryTouch) {\r\n            var delta = primaryTouch.current[this._direction] - primaryTouch.start[this._direction];\r\n            this.updateScrollForce(this._scroll.touchDelta, delta);\r\n            this._scroll.touchDelta = delta;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Called whenever the user releases his fingers and the touch gesture\r\n     * has completed. This will set the new position and if the user used a 'flick'\r\n     * gesture give the scroll-offset particle a velocity and momentum into a\r\n     * certain direction.\r\n     */\r\n    function _touchEnd(event) {\r\n\r\n        // Remove touch\r\n        var primaryTouch = this._scroll.activeTouches.length ? this._scroll.activeTouches[0] : undefined;\r\n        for (var i = 0; i < event.changedTouches.length; i++) {\r\n            var changedTouch = event.changedTouches[i];\r\n            for (var j = 0; j < this._scroll.activeTouches.length; j++) {\r\n                var touch = this._scroll.activeTouches[j];\r\n                if (touch.id === changedTouch.identifier) {\r\n\r\n                    // Remove touch from active-touches\r\n                    this._scroll.activeTouches.splice(j, 1);\r\n\r\n                    // When a different touch now becomes the primary touch, update\r\n                    // its start position to match the current move offset.\r\n                    if ((j === 0) && this._scroll.activeTouches.length) {\r\n                        var newPrimaryTouch = this._scroll.activeTouches[0];\r\n                        newPrimaryTouch.start[0] = newPrimaryTouch.current[0] - (touch.current[0] - touch.start[0]);\r\n                        newPrimaryTouch.start[1] = newPrimaryTouch.current[1] - (touch.current[1] - touch.start[1]);\r\n                    }\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Wait for all fingers to be released from the screen before resetting the move-spring\r\n        if (!primaryTouch || this._scroll.activeTouches.length) {\r\n            return;\r\n        }\r\n\r\n        // Determine velocity and add to particle\r\n        var velocity = 0;\r\n        var diffTime = primaryTouch.time - primaryTouch.prevTime;\r\n        if ((diffTime > 0) && ((_getEventTimestamp(event) - primaryTouch.time) <= this.options.touchMoveNoVelocityDuration)) {\r\n            var diffOffset = primaryTouch.current[this._direction] - primaryTouch.prev[this._direction];\r\n            velocity = diffOffset / diffTime;\r\n        }\r\n\r\n        // Release scroll force\r\n        var delta = this._scroll.touchDelta;\r\n        this.releaseScrollForce(delta, velocity);\r\n        this._scroll.touchDelta = 0;\r\n    }\r\n\r\n    /**\r\n     * Called whenever the user is scrolling the view using either a mouse\r\n     * scroll wheel or a track-pad.\r\n     */\r\n    function _scrollUpdate(event) {\r\n        if (!this.options.enabled) {\r\n            return;\r\n        }\r\n        var offset = Array.isArray(event.delta) ? event.delta[this._direction] : event.delta;\r\n        this.scroll(offset);\r\n    }\r\n\r\n    /**\r\n     * Updates the scroll offset particle.\r\n     */\r\n    function _setParticle(position, velocity, phase) {\r\n        if (position !== undefined) {\r\n            //var oldPosition = this._scroll.particle.getPosition1D();\r\n            this._scroll.particleValue = position;\r\n            this._scroll.particle.setPosition1D(position);\r\n            //_log.call(this, 'setParticle.position: ', position, ' (old: ', oldPosition, ', delta: ', position - oldPosition, ', phase: ', phase, ')');\r\n            if (this._scroll.springValue !== undefined) {\r\n                this._scroll.pe.wake();\r\n            }\r\n        }\r\n        if (velocity !== undefined) {\r\n            var oldVelocity = this._scroll.particle.getVelocity1D();\r\n            if (oldVelocity !== velocity) {\r\n                this._scroll.particle.setVelocity1D(velocity);\r\n                //_log.call(this, 'setParticle.velocity: ', velocity, ' (old: ', oldVelocity, ', delta: ', velocity - oldVelocity, ', phase: ', phase, ')');\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get the in-use scroll-offset.\r\n     */\r\n    function _calcScrollOffset(normalize, refreshParticle) {\r\n\r\n        // When moving using touch-gestures, make the offset stick to the\r\n        // finger. When the bounds is exceeded, decrease the scroll distance\r\n        // by two.\r\n        if (refreshParticle || (this._scroll.particleValue === undefined)) {\r\n            this._scroll.particleValue = this._scroll.particle.getPosition1D();\r\n            this._scroll.particleValue = Math.round(this._scroll.particleValue * 1000) / 1000;\r\n        }\r\n\r\n        // do stuff\r\n        var scrollOffset = this._scroll.particleValue;\r\n        if (this._scroll.scrollDelta || this._scroll.normalizedScrollDelta) {\r\n            scrollOffset += this._scroll.scrollDelta + this._scroll.normalizedScrollDelta;\r\n            if (((this._scroll.boundsReached & Bounds.PREV) && (scrollOffset > this._scroll.springPosition)) ||\r\n               ((this._scroll.boundsReached & Bounds.NEXT) && (scrollOffset < this._scroll.springPosition)) ||\r\n               (this._scroll.boundsReached === Bounds.BOTH)) {\r\n                scrollOffset = this._scroll.springPosition;\r\n            }\r\n            if (normalize) {\r\n                if (!this._scroll.scrollDelta) {\r\n                    this._scroll.normalizedScrollDelta = 0;\r\n                    _setParticle.call(this, scrollOffset, undefined, '_calcScrollOffset');\r\n                }\r\n                this._scroll.normalizedScrollDelta += this._scroll.scrollDelta;\r\n                this._scroll.scrollDelta = 0;\r\n            }\r\n        }\r\n\r\n        if (this._scroll.scrollForceCount && this._scroll.scrollForce) {\r\n            if (this._scroll.springPosition !== undefined) {\r\n                scrollOffset = (scrollOffset + this._scroll.scrollForce + this._scroll.springPosition) / 2.0;\r\n            }\r\n            else {\r\n                scrollOffset += this._scroll.scrollForce;\r\n            }\r\n        }\r\n\r\n        // Prevent the scroll position from exceeding the bounds when overscroll is disabled\r\n        if (!this.options.overscroll) {\r\n            if ((this._scroll.boundsReached === Bounds.BOTH) ||\r\n                ((this._scroll.boundsReached === Bounds.PREV) && (scrollOffset > this._scroll.springPosition)) ||\r\n                ((this._scroll.boundsReached === Bounds.NEXT) && (scrollOffset < this._scroll.springPosition))) {\r\n                scrollOffset = this._scroll.springPosition;\r\n            }\r\n        }\r\n\r\n        //_log.call(this, 'scrollOffset: ', scrollOffset, ', particle:', this._scroll.particle.getPosition1D(), ', moveToPosition: ', this._scroll.moveToPosition, ', springPosition: ', this._scroll.springPosition);\r\n        return scrollOffset;\r\n    }\r\n\r\n    /**\r\n     * Helper function that calculates the next/prev layed out height.\r\n     * @private\r\n     */\r\n    ScrollController.prototype._calcScrollHeight = function(next, lastNodeOnly) {\r\n        var calcedHeight = 0;\r\n        var node = this._nodes.getStartEnumNode(next);\r\n        while (node) {\r\n            if (node._invalidated) {\r\n                if (node.trueSizeRequested) {\r\n                    calcedHeight = undefined;\r\n                    break;\r\n                }\r\n                if (node.scrollLength !== undefined) {\r\n                    calcedHeight = lastNodeOnly ? node.scrollLength : (calcedHeight + node.scrollLength);\r\n                    if (!next && lastNodeOnly) {\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n            node = next ? node._next : node._prev;\r\n        }\r\n        return calcedHeight;\r\n    };\r\n\r\n    /**\r\n     * Calculates the scroll boundaries and sets the spring accordingly.\r\n     */\r\n    function _calcBounds(size, scrollOffset) {\r\n\r\n        // Local data\r\n        var prevHeight = this._calcScrollHeight(false);\r\n        var nextHeight = this._calcScrollHeight(true);\r\n        var enforeMinSize = _isSequentiallyScrollingOptimized.call(this);\r\n\r\n        // 1. When the rendered height is smaller than the total height,\r\n        //    then lock to the primary bounds\r\n        var totalHeight;\r\n        if (enforeMinSize) {\r\n            if ((nextHeight !== undefined) && (prevHeight !== undefined)) {\r\n                totalHeight = prevHeight + nextHeight;\r\n            }\r\n            if ((totalHeight !== undefined) && (totalHeight <= size[this._direction])) {\r\n                this._scroll.boundsReached = Bounds.BOTH;\r\n                this._scroll.springPosition = this.options.alignment ? -nextHeight : prevHeight;\r\n                this._scroll.springSource = SpringSource.MINSIZE;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // 2. Check whether primary boundary has been reached\r\n        if (this.options.alignment) {\r\n            if (enforeMinSize) {\r\n                if ((nextHeight !== undefined) && ((scrollOffset + nextHeight) <= 0)) {\r\n                    this._scroll.boundsReached = Bounds.NEXT;\r\n                    this._scroll.springPosition = -nextHeight;\r\n                    this._scroll.springSource = SpringSource.NEXTBOUNDS;\r\n                    return;\r\n                }\r\n            }\r\n            else {\r\n                var firstPrevItemHeight = this._calcScrollHeight(false, true);\r\n                if ((nextHeight !== undefined) && firstPrevItemHeight && ((scrollOffset + nextHeight + size[this._direction]) <= firstPrevItemHeight)) {\r\n                    this._scroll.boundsReached = Bounds.NEXT;\r\n                    this._scroll.springPosition = nextHeight - (size[this._direction] - firstPrevItemHeight);\r\n                    this._scroll.springSource = SpringSource.NEXTBOUNDS;\r\n                    return;\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            if ((prevHeight !== undefined) && ((scrollOffset - prevHeight) >= 0)) {\r\n                this._scroll.boundsReached = Bounds.PREV;\r\n                this._scroll.springPosition = prevHeight;\r\n                this._scroll.springSource = SpringSource.PREVBOUNDS;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // 3. Check if secondary bounds has been reached\r\n        if (this.options.alignment) {\r\n            if ((prevHeight !== undefined) && ((scrollOffset - prevHeight) >= -size[this._direction])) {\r\n                this._scroll.boundsReached = Bounds.PREV;\r\n                this._scroll.springPosition = -size[this._direction] + prevHeight;\r\n                this._scroll.springSource = SpringSource.PREVBOUNDS;\r\n                return;\r\n            }\r\n        }\r\n        else {\r\n            var nextBounds = enforeMinSize ? size[this._direction] : this._calcScrollHeight(true, true);\r\n            if ((nextHeight !== undefined) && ((scrollOffset + nextHeight) <= nextBounds)){\r\n                this._scroll.boundsReached = Bounds.NEXT;\r\n                this._scroll.springPosition = nextBounds - nextHeight;\r\n                this._scroll.springSource = SpringSource.NEXTBOUNDS;\r\n                return;\r\n            }\r\n        }\r\n\r\n        // No bounds reached\r\n        this._scroll.boundsReached = Bounds.NONE;\r\n        this._scroll.springPosition = undefined;\r\n        this._scroll.springSource = SpringSource.NONE;\r\n    }\r\n\r\n    /**\r\n     * Calculates the scrollto-offset to which the spring is set.\r\n     */\r\n    function _calcScrollToOffset(size, scrollOffset) {\r\n        var scrollToRenderNode = this._scroll.scrollToRenderNode || this._scroll.ensureVisibleRenderNode;\r\n        if (!scrollToRenderNode) {\r\n            return;\r\n        }\r\n\r\n        // 1. When boundary is reached, stop scrolling in that direction\r\n        if ((this._scroll.boundsReached === Bounds.BOTH) ||\r\n            (!this._scroll.scrollToDirection && (this._scroll.boundsReached === Bounds.PREV)) ||\r\n            (this._scroll.scrollToDirection && (this._scroll.boundsReached === Bounds.NEXT))) {\r\n            return;\r\n        }\r\n\r\n        // 2. Find the node to scroll to\r\n        var foundNode;\r\n        var scrollToOffset = 0;\r\n        var node = this._nodes.getStartEnumNode(true);\r\n        var count = 0;\r\n        while (node) {\r\n            count++;\r\n            if (!node._invalidated || (node.scrollLength === undefined)) {\r\n                break;\r\n            }\r\n            if (this.options.alignment) {\r\n                scrollToOffset -= node.scrollLength;\r\n            }\r\n            if (node.renderNode === scrollToRenderNode) {\r\n                foundNode = node;\r\n                break;\r\n            }\r\n            if (!this.options.alignment) {\r\n                scrollToOffset -= node.scrollLength;\r\n            }\r\n            node = node._next;\r\n        }\r\n        if (!foundNode) {\r\n            scrollToOffset = 0;\r\n            node = this._nodes.getStartEnumNode(false);\r\n            while (node) {\r\n                if (!node._invalidated || (node.scrollLength === undefined)) {\r\n                   break;\r\n                }\r\n                if (!this.options.alignment) {\r\n                    scrollToOffset += node.scrollLength;\r\n                }\r\n                if (node.renderNode === scrollToRenderNode) {\r\n                    foundNode = node;\r\n                    break;\r\n                }\r\n                if (this.options.alignment) {\r\n                    scrollToOffset += node.scrollLength;\r\n                }\r\n                node = node._prev;\r\n            }\r\n        }\r\n\r\n        // 3. Update springs\r\n        if (foundNode) {\r\n            if (this._scroll.ensureVisibleRenderNode) {\r\n                if (this.options.alignment) {\r\n                    if ((scrollToOffset - foundNode.scrollLength) < 0) {\r\n                        this._scroll.springPosition = scrollToOffset;\r\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\r\n                    }\r\n                    else if (scrollToOffset > size[this._direction]) {\r\n                        this._scroll.springPosition = size[this._direction] - scrollToOffset;\r\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\r\n                    }\r\n                    else {\r\n                        if (!foundNode.trueSizeRequested) {\r\n                            this._scroll.ensureVisibleRenderNode = undefined;\r\n                        }\r\n                    }\r\n                }\r\n                else {\r\n                    scrollToOffset = -scrollToOffset;\r\n                    if (scrollToOffset < 0) {\r\n                        this._scroll.springPosition = scrollToOffset;\r\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\r\n                    }\r\n                    else if ((scrollToOffset + foundNode.scrollLength) > size[this._direction]) {\r\n                        this._scroll.springPosition = size[this._direction] - (scrollToOffset + foundNode.scrollLength);\r\n                        this._scroll.springSource = SpringSource.ENSUREVISIBLE;\r\n                    }\r\n                    else {\r\n                        if (!foundNode.trueSizeRequested) {\r\n                          this._scroll.ensureVisibleRenderNode = undefined;\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n            else { // scrollToSequence\r\n                this._scroll.springPosition = scrollToOffset;\r\n                this._scroll.springSource = SpringSource.GOTOSEQUENCE;\r\n            }\r\n            return;\r\n        }\r\n\r\n        // 4. When node not found, keep searching\r\n        if (this._scroll.scrollToDirection) {\r\n            this._scroll.springPosition = scrollOffset - size[this._direction];\r\n            this._scroll.springSource = SpringSource.GOTONEXTDIRECTION;\r\n        }\r\n        else {\r\n            this._scroll.springPosition = scrollOffset + size[this._direction];\r\n            this._scroll.springSource = SpringSource.GOTOPREVDIRECTION;\r\n        }\r\n\r\n        // 5. In case of a VirtualViewSequnce, make sure all the view-sequence nodes are touched, so\r\n        //    that they are not cleaned up.\r\n        if (this._viewSequence.cleanup) {\r\n            var viewSequence = this._viewSequence;\r\n            while (viewSequence.get() !== scrollToRenderNode) {\r\n                viewSequence = this._scroll.scrollToDirection ? viewSequence.getNext(true) : viewSequence.getPrevious(true);\r\n                if (!viewSequence) {\r\n                    break;\r\n                }\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Snaps to a page when pagination is enabled.\r\n     */\r\n    function _snapToPage() {\r\n\r\n        // Check whether pagination is active\r\n        if (!this.options.paginated ||\r\n            this._scroll.scrollForceCount || //don't paginate while moving\r\n            (this._scroll.springPosition !== undefined)) {\r\n            return;\r\n        }\r\n\r\n        // When the energy is below the thresshold, paginate to the current page\r\n        var item;\r\n        switch (this.options.paginationMode) {\r\n            case PaginationMode.SCROLL:\r\n                if (!this.options.paginationEnergyThreshold || (Math.abs(this._scroll.particle.getEnergy()) <= this.options.paginationEnergyThreshold)) {\r\n                    item = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\r\n                    if (item && item.renderNode) {\r\n                        this.goToRenderNode(item.renderNode);\r\n                    }\r\n                }\r\n                break;\r\n            case PaginationMode.PAGE:\r\n                item = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\r\n                if (item && item.renderNode) {\r\n                    this.goToRenderNode(item.renderNode);\r\n                }\r\n                break;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Normalizes the view-sequence node so that the view-sequence is near to 0.\r\n     */\r\n    function _normalizePrevViewSequence(scrollOffset) {\r\n        var count = 0;\r\n        var normalizedScrollOffset = scrollOffset;\r\n        var normalizeNextPrev = false;\r\n        var node = this._nodes.getStartEnumNode(false);\r\n        while (node) {\r\n            if (!node._invalidated || !node._viewSequence) {\r\n                break;\r\n            }\r\n            if (normalizeNextPrev) {\r\n                this._viewSequence = node._viewSequence;\r\n                normalizedScrollOffset = scrollOffset;\r\n                normalizeNextPrev = false;\r\n            }\r\n            if ((node.scrollLength === undefined) || node.trueSizeRequested || (scrollOffset < 0)) {\r\n                break;\r\n            }\r\n            scrollOffset -= node.scrollLength;\r\n            count++;\r\n            if (node.scrollLength) {\r\n                if (this.options.alignment) {\r\n                    normalizeNextPrev = (scrollOffset >= 0);\r\n                }\r\n                else {\r\n                    if (Math.round(scrollOffset) >= 0) {\r\n                        this._viewSequence = node._viewSequence;\r\n                        normalizedScrollOffset = scrollOffset;\r\n                    }\r\n                }\r\n            }\r\n            node = node._prev;\r\n        }\r\n        return normalizedScrollOffset;\r\n    }\r\n    function _normalizeNextViewSequence(scrollOffset) {\r\n        var count = 0;\r\n        var normalizedScrollOffset = scrollOffset;\r\n        var node = this._nodes.getStartEnumNode(true);\r\n        while (node) {\r\n            if (!node._invalidated || (node.scrollLength === undefined) || node.trueSizeRequested || !node._viewSequence ||\r\n                ((Math.round(scrollOffset) > 0) && (!this.options.alignment || (node.scrollLength !== 0)))) {\r\n                break;\r\n            }\r\n            if (this.options.alignment) {\r\n                scrollOffset += node.scrollLength;\r\n                count++;\r\n            }\r\n            if (node.scrollLength || this.options.alignment) {\r\n                this._viewSequence = node._viewSequence;\r\n                normalizedScrollOffset = scrollOffset;\r\n            }\r\n            if (!this.options.alignment) {\r\n                scrollOffset += node.scrollLength;\r\n                count++;\r\n            }\r\n            node = node._next;\r\n        }\r\n        return normalizedScrollOffset;\r\n    }\r\n    function _normalizeViewSequence(size, scrollOffset) {\r\n\r\n        // Check whether normalisation is disabled\r\n        var caps = this._layout.capabilities;\r\n        if (caps && caps.debug &&\r\n            (caps.debug.normalize !== undefined) &&\r\n            !caps.debug.normalize) {\r\n            return scrollOffset;\r\n        }\r\n\r\n        // Don't normalize when forces are at work\r\n        if (this._scroll.scrollForceCount) {\r\n            return scrollOffset;\r\n        }\r\n\r\n        // 1. Normalize in primary direction\r\n        var normalizedScrollOffset = scrollOffset;\r\n        if (this.options.alignment && (scrollOffset < 0)) {\r\n            normalizedScrollOffset = _normalizeNextViewSequence.call(this, scrollOffset);\r\n        }\r\n        else if (!this.options.alignment && (scrollOffset > 0)){\r\n            normalizedScrollOffset = _normalizePrevViewSequence.call(this, scrollOffset);\r\n        }\r\n\r\n        // 2. Normalize in secondary direction\r\n        if (normalizedScrollOffset === scrollOffset) {\r\n            if (this.options.alignment && (scrollOffset > 0)) {\r\n                normalizedScrollOffset = _normalizePrevViewSequence.call(this, scrollOffset);\r\n            }\r\n            else if (!this.options.alignment && (scrollOffset < 0)) {\r\n                normalizedScrollOffset = _normalizeNextViewSequence.call(this, scrollOffset);\r\n            }\r\n        }\r\n\r\n        // Adjust particle and springs\r\n        if (normalizedScrollOffset !== scrollOffset) {\r\n            var delta = normalizedScrollOffset - scrollOffset;\r\n\r\n            // Adjust particle\r\n            var particleValue = this._scroll.particle.getPosition1D();\r\n            //var particleValue = this._scroll.particleValue;\r\n            _setParticle.call(this, particleValue + delta, undefined, 'normalize');\r\n            //console.log('normalized scrollOffset: ', normalizedScrollOffset, ', old: ', scrollOffset, ', particle: ', particleValue + delta);\r\n\r\n            // Adjust scroll spring\r\n            if (this._scroll.springPosition !== undefined) {\r\n                this._scroll.springPosition += delta;\r\n            }\r\n\r\n            // Adjust group offset\r\n            if (_isSequentiallyScrollingOptimized.call(this)) {\r\n                this._scroll.groupStart -= delta;\r\n            }\r\n        }\r\n        return normalizedScrollOffset;\r\n    }\r\n\r\n    /**\r\n     * Get all items that are partly or completely visible.\r\n     *\r\n     * The returned result is an array of objects containing the\r\n     * following properties. Example:\r\n     * ```javascript\r\n     * {\r\n     *   viewSequence: {LinkedListViewSequence},\r\n     *   index: {Number},\r\n     *   renderNode: {renderable},\r\n     *   visiblePerc: {Number} 0..1\r\n     * }\r\n     * ```\r\n     * @return {Array} array of items\r\n     */\r\n    ScrollController.prototype.getVisibleItems = function() {\r\n        var size = this._contextSizeCache;\r\n        var scrollOffset = this.options.alignment ? (this._scroll.unnormalizedScrollOffset + size[this._direction]) : this._scroll.unnormalizedScrollOffset;\r\n        var result = [];\r\n        var node = this._nodes.getStartEnumNode(true);\r\n        while (node) {\r\n            if (!node._invalidated || (node.scrollLength === undefined) || (scrollOffset > size[this._direction])) {\r\n                break;\r\n            }\r\n            scrollOffset += node.scrollLength;\r\n            if ((scrollOffset >= 0) && node._viewSequence){\r\n                result.push({\r\n                    index: node._viewSequence.getIndex(),\r\n                    viewSequence: node._viewSequence,\r\n                    renderNode: node.renderNode,\r\n                    visiblePerc: node.scrollLength ? ((Math.min(scrollOffset, size[this._direction]) - Math.max(scrollOffset - node.scrollLength, 0)) / node.scrollLength) : 1,\r\n                    scrollOffset: scrollOffset - node.scrollLength,\r\n                    scrollLength: node.scrollLength,\r\n                    _node: node\r\n                });\r\n            }\r\n            node = node._next;\r\n        }\r\n        scrollOffset = this.options.alignment ? (this._scroll.unnormalizedScrollOffset + size[this._direction]) : this._scroll.unnormalizedScrollOffset;\r\n        node = this._nodes.getStartEnumNode(false);\r\n        while (node) {\r\n            if (!node._invalidated || (node.scrollLength === undefined) || (scrollOffset < 0)) {\r\n                break;\r\n            }\r\n            scrollOffset -= node.scrollLength;\r\n            if ((scrollOffset < size[this._direction]) && node._viewSequence) {\r\n                result.unshift({\r\n                    index: node._viewSequence.getIndex(),\r\n                    viewSequence: node._viewSequence,\r\n                    renderNode: node.renderNode,\r\n                    visiblePerc: node.scrollLength ? ((Math.min(scrollOffset + node.scrollLength, size[this._direction]) - Math.max(scrollOffset, 0)) / node.scrollLength) : 1,\r\n                    scrollOffset: scrollOffset,\r\n                    scrollLength: node.scrollLength,\r\n                    _node: node\r\n                });\r\n            }\r\n            node = node._prev;\r\n        }\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Get the first or last visible item in the view.\r\n     */\r\n    function _getVisibleItem(first) {\r\n        var result = {};\r\n        var diff;\r\n        var prevDiff = 10000000;\r\n        var diffDelta = (first && this.options.alignment) ? -this._contextSizeCache[this._direction] : ((!first && !this.options.alignment) ? this._contextSizeCache[this._direction] : 0);\r\n        var scrollOffset = this._scroll.unnormalizedScrollOffset;\r\n        var node = this._nodes.getStartEnumNode(true);\r\n        while (node) {\r\n            if (!node._invalidated || (node.scrollLength === undefined)) {\r\n                break;\r\n            }\r\n            if (node._viewSequence) {\r\n                diff = Math.abs(diffDelta - (scrollOffset + (!first ? node.scrollLength : 0)));\r\n                if (diff >= prevDiff) {\r\n                    break;\r\n                }\r\n                prevDiff = diff;\r\n                result.scrollOffset = scrollOffset;\r\n                result._node = node;\r\n                scrollOffset += node.scrollLength;\r\n            }\r\n            node = node._next;\r\n        }\r\n        scrollOffset = this._scroll.unnormalizedScrollOffset;\r\n        node = this._nodes.getStartEnumNode(false);\r\n        while (node) {\r\n            if (!node._invalidated || (node.scrollLength === undefined)) {\r\n                break;\r\n            }\r\n            if (node._viewSequence) {\r\n                scrollOffset -= node.scrollLength;\r\n                diff = Math.abs(diffDelta - (scrollOffset + (!first ? node.scrollLength : 0)));\r\n                if (diff >= prevDiff) {\r\n                    break;\r\n                }\r\n                prevDiff = diff;\r\n                result.scrollOffset = scrollOffset;\r\n                result._node = node;\r\n            }\r\n            node = node._prev;\r\n        }\r\n        if (!result._node) {\r\n            return undefined;\r\n        }\r\n        result.scrollLength = result._node.scrollLength;\r\n        if (this.options.alignment) {\r\n            result.visiblePerc = (Math.min(result.scrollOffset + result.scrollLength, 0) - Math.max(result.scrollOffset, -this._contextSizeCache[this._direction])) / result.scrollLength;\r\n        }\r\n        else {\r\n            result.visiblePerc = (Math.min(result.scrollOffset + result.scrollLength, this._contextSizeCache[this._direction]) - Math.max(result.scrollOffset, 0)) / result.scrollLength;\r\n        }\r\n        result.index = result._node._viewSequence.getIndex();\r\n        result.viewSequence = result._node._viewSequence;\r\n        result.renderNode = result._node.renderNode;\r\n        return result;\r\n    }\r\n\r\n    /**\r\n     * Get the first visible item in the view.\r\n     *\r\n     * @return {Object} item or `undefined`\r\n     */\r\n    ScrollController.prototype.getFirstVisibleItem = function() {\r\n        return _getVisibleItem.call(this, true);\r\n    };\r\n\r\n    /**\r\n     * Get the last visible item in the view.\r\n     *\r\n     * @return {Object} item or `undefined`\r\n     */\r\n    ScrollController.prototype.getLastVisibleItem = function() {\r\n        return _getVisibleItem.call(this, false);\r\n    };\r\n\r\n    /**\r\n     * Helper function that goes to a view-sequence either by scrolling\r\n     * or immediately without any scrolling animation.\r\n     */\r\n    function _goToSequence(viewSequence, next, noAnimation) {\r\n        if (noAnimation) {\r\n            this._viewSequence = viewSequence;\r\n            this._scroll.springPosition = undefined;\r\n            _updateSpring.call(this);\r\n            this.halt();\r\n            this._scroll.scrollDelta = 0;\r\n            _setParticle.call(this, 0, 0, '_goToSequence');\r\n            this._scroll.scrollDirty = true;\r\n        }\r\n        else {\r\n            this._scroll.scrollToSequence = viewSequence;\r\n            this._scroll.scrollToRenderNode = viewSequence.get();\r\n            this._scroll.ensureVisibleRenderNode = undefined;\r\n            this._scroll.scrollToDirection = next;\r\n            this._scroll.scrollDirty = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Helper function that scrolls the view towards a view-sequence node.\r\n     */\r\n    function _ensureVisibleSequence(viewSequence, next) {\r\n        this._scroll.scrollToSequence = undefined;\r\n        this._scroll.scrollToRenderNode = undefined;\r\n        this._scroll.ensureVisibleRenderNode = viewSequence.get();\r\n        this._scroll.scrollToDirection = next;\r\n        this._scroll.scrollDirty = true;\r\n    }\r\n\r\n    /**\r\n     * Moves to the next node in the viewSequence.\r\n     *\r\n     * @param {Number} [amount] Amount of nodes to move\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\r\n     */\r\n    function _goToPage(amount, noAnimation) {\r\n\r\n        // Get current scroll-position. When a previous call was made to\r\n        // `scroll' or `scrollTo` and that node has not yet been reached, then\r\n        // the amount is accumalated onto that scroll target.\r\n        var viewSequence = (!noAnimation ? this._scroll.scrollToSequence : undefined) || this._viewSequence;\r\n        if (!this._scroll.scrollToSequence && !noAnimation) {\r\n            var firstVisibleItem = this.getFirstVisibleItem();\r\n            if (firstVisibleItem) {\r\n                viewSequence = firstVisibleItem.viewSequence;\r\n                if (((amount < 0) && (firstVisibleItem.scrollOffset < 0)) ||\r\n                    ((amount > 0) && (firstVisibleItem.scrollOffset > 0))) {\r\n                    amount = 0;\r\n                }\r\n            }\r\n        }\r\n        if (!viewSequence) {\r\n            return;\r\n        }\r\n\r\n        // Find scroll target\r\n        for (var i = 0; i < Math.abs(amount); i++) {\r\n            var nextViewSequence = (amount > 0) ? viewSequence.getNext() : viewSequence.getPrevious();\r\n            if (nextViewSequence) {\r\n                viewSequence = nextViewSequence;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        _goToSequence.call(this, viewSequence, amount >= 0, noAnimation);\r\n    }\r\n\r\n    /**\r\n     * Goes to the first page, making it visible.\r\n     *\r\n     * NOTE: This function does not work on ViewSequences that have the `loop` property enabled.\r\n     *\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.goToFirstPage = function(noAnimation) {\r\n        if (!this._viewSequence) {\r\n            return this;\r\n        }\r\n        if (this._viewSequence._ && this._viewSequence._.loop) {\r\n            LayoutUtility.error('Unable to go to first item of looped ViewSequence');\r\n            return this;\r\n        }\r\n        var viewSequence = this._viewSequence;\r\n        while (viewSequence) {\r\n            var prev = viewSequence.getPrevious();\r\n            if (prev && prev.get()) {\r\n                viewSequence = prev;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        _goToSequence.call(this, viewSequence, false, noAnimation);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Goes to the previous page, making it visible.\r\n     *\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.goToPreviousPage = function(noAnimation) {\r\n        _goToPage.call(this, -1, noAnimation);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Goes to the next page, making it visible.\r\n     *\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.goToNextPage = function(noAnimation) {\r\n        _goToPage.call(this, 1, noAnimation);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Goes to the last page, making it visible.\r\n     *\r\n     * NOTE: This function does not work on ViewSequences that have the `loop` property enabled.\r\n     *\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without any scrolling animation.\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.goToLastPage = function(noAnimation) {\r\n        if (!this._viewSequence) {\r\n            return this;\r\n        }\r\n        if (this._viewSequence._ && this._viewSequence._.loop) {\r\n            LayoutUtility.error('Unable to go to last item of looped ViewSequence');\r\n            return this;\r\n        }\r\n        var viewSequence = this._viewSequence;\r\n        while (viewSequence) {\r\n            var next = viewSequence.getNext();\r\n            if (next && next.get()) {\r\n                viewSequence = next;\r\n            }\r\n            else {\r\n                break;\r\n            }\r\n        }\r\n        _goToSequence.call(this, viewSequence, true, noAnimation);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Goes to the given renderable in the datasource.\r\n     *\r\n     * @param {RenderNode} node renderable to scroll to.\r\n     * @param {Bool} [noAnimation] When set to true, immediately shows the node without scrolling animation.\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.goToRenderNode = function(node, noAnimation) {\r\n\r\n        // Verify arguments and state\r\n        if (!this._viewSequence || !node) {\r\n            return this;\r\n        }\r\n\r\n        // Check current node\r\n        if (this._viewSequence.get() === node) {\r\n            var next = _calcScrollOffset.call(this) >= 0;\r\n            _goToSequence.call(this, this._viewSequence, next, noAnimation);\r\n            return this;\r\n        }\r\n\r\n        // Find the sequence-node that we want to scroll to.\r\n        // We look at both directions at the same time.\r\n        // The first match that is encountered, that direction is chosen.\r\n        var nextSequence = this._viewSequence.getNext();\r\n        var prevSequence = this._viewSequence.getPrevious();\r\n        while ((nextSequence || prevSequence) && (nextSequence !== this._viewSequence)){\r\n            var nextNode = nextSequence ? nextSequence.get() : undefined;\r\n            if (nextNode === node) {\r\n                _goToSequence.call(this, nextSequence, true, noAnimation);\r\n                break;\r\n            }\r\n            var prevNode = prevSequence ? prevSequence.get() : undefined;\r\n            if (prevNode === node) {\r\n                _goToSequence.call(this, prevSequence, false, noAnimation);\r\n                break;\r\n            }\r\n            nextSequence = nextNode ? nextSequence.getNext() : undefined;\r\n            prevSequence = prevNode ? prevSequence.getPrevious() : undefined;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Ensures that a render-node is entirely visible.\r\n     *\r\n     * When the node is already visible, nothing happens. If the node is not entirely visible\r\n     * the view is scrolled as much as needed to make it entirely visibl.\r\n     *\r\n     * @param {Number|LinkedListViewSequence|Renderable} node index, renderNode or LinkedListViewSequence\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.ensureVisible = function(node) {\r\n\r\n        // Convert argument into renderNode\r\n        if (node instanceof LinkedListViewSequence) {\r\n            node = node.get();\r\n        }\r\n        else if ((node instanceof Number) || (typeof node === 'number')) {\r\n            var viewSequence = this._viewSequence;\r\n            while (viewSequence.getIndex() < node) {\r\n                viewSequence = viewSequence.getNext();\r\n                if (!viewSequence) {\r\n                    return this;\r\n                }\r\n            }\r\n            while (viewSequence.getIndex() > node) {\r\n                viewSequence = viewSequence.getPrevious();\r\n                if (!viewSequence) {\r\n                    return this;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Check current node\r\n        if (this._viewSequence.get() === node) {\r\n            var next = _calcScrollOffset.call(this) >= 0;\r\n            _ensureVisibleSequence.call(this, this._viewSequence, next);\r\n            return this;\r\n        }\r\n\r\n        // Find the sequence-node that we want to scroll to.\r\n        // We look at both directions at the same time.\r\n        // The first match that is encountered, that direction is chosen.\r\n        var nextSequence = this._viewSequence.getNext();\r\n        var prevSequence = this._viewSequence.getPrevious();\r\n        while ((nextSequence || prevSequence) && (nextSequence !== this._viewSequence)){\r\n            var nextNode = nextSequence ? nextSequence.get() : undefined;\r\n            if (nextNode === node) {\r\n                _ensureVisibleSequence.call(this, nextSequence, true);\r\n                break;\r\n            }\r\n            var prevNode = prevSequence ? prevSequence.get() : undefined;\r\n            if (prevNode === node) {\r\n                _ensureVisibleSequence.call(this, prevSequence, false);\r\n                break;\r\n            }\r\n            nextSequence = nextNode ? nextSequence.getNext() : undefined;\r\n            prevSequence = prevNode ? prevSequence.getPrevious() : undefined;\r\n        }\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Scrolls the view by the specified number of pixels.\r\n     *\r\n     * @param {Number} delta Delta in pixels (< 0 = down/right, > 0 = top/left).\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.scroll = function(delta) {\r\n        this.halt();\r\n        this._scroll.scrollDelta += delta;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Checks whether the scrollview can scroll the given delta.\r\n     * When the scrollView can scroll the whole delta, then\r\n     * the return value is the same as the delta. If it cannot\r\n     * scroll the entire delta, the return value is the number of\r\n     * pixels that can be scrolled.\r\n     *\r\n     * @param {Number} delta Delta to test\r\n     * @return {Number} Number of pixels the view is allowed to scroll\r\n     */\r\n    ScrollController.prototype.canScroll = function(delta) {\r\n\r\n        // Calculate height in both directions\r\n        var scrollOffset = _calcScrollOffset.call(this);\r\n        var prevHeight = this._calcScrollHeight(false);\r\n        var nextHeight = this._calcScrollHeight(true);\r\n\r\n        // When the rendered height is smaller than the total height,\r\n        // then no scrolling whatsover is allowed.\r\n        var totalHeight;\r\n        if ((nextHeight !== undefined) && (prevHeight !== undefined)) {\r\n            totalHeight = prevHeight + nextHeight;\r\n        }\r\n        if ((totalHeight !== undefined) && (totalHeight <= this._contextSizeCache[this._direction])) {\r\n            return 0; // no scrolling at all allowed\r\n        }\r\n\r\n        // Determine the offset that we can scroll\r\n        if ((delta < 0) && (nextHeight !== undefined)) {\r\n            var nextOffset = this._contextSizeCache[this._direction] - (scrollOffset + nextHeight);\r\n            return Math.max(nextOffset, delta);\r\n        }\r\n        else if ((delta > 0) && (prevHeight !== undefined)) {\r\n            var prevOffset = -(scrollOffset - prevHeight);\r\n            return Math.min(prevOffset, delta);\r\n        }\r\n        return delta;\r\n    };\r\n\r\n    /**\r\n     * Halts all scrolling going on. In essence this function sets\r\n     * the velocity to 0 and cancels any `goToXxx` operation that\r\n     * was applied.\r\n     *\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.halt = function() {\r\n        this._scroll.scrollToSequence = undefined;\r\n        this._scroll.scrollToRenderNode = undefined;\r\n        this._scroll.ensureVisibleRenderNode = undefined;\r\n        _setParticle.call(this, undefined, 0, 'halt');\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Checks whether scrolling is in progress or not.\r\n     *\r\n     * @return {Bool} true when scrolling is active\r\n     */\r\n    ScrollController.prototype.isScrolling = function() {\r\n        return this._scroll.isScrolling;\r\n    };\r\n\r\n    /**\r\n     * Checks whether any boundaries have been reached.\r\n     *\r\n     * @return {ScrollController.Bounds} Either, Bounds.PREV, Bounds.NEXT, Bounds.BOTH or Bounds.NONE\r\n     */\r\n    ScrollController.prototype.getBoundsReached = function() {\r\n        return this._scroll.boundsReached;\r\n    };\r\n\r\n    /**\r\n     * Get the current scrolling velocity.\r\n     *\r\n     * @return {Number} Scroll velocity\r\n     */\r\n    ScrollController.prototype.getVelocity = function() {\r\n        return this._scroll.particle.getVelocity1D();\r\n    };\r\n\r\n    /**\r\n     * Get the current energy of the scrolling particle.\r\n     *\r\n     * @return {Number} Energy\r\n     */\r\n    ScrollController.prototype.getEnergy = function() {\r\n        return this._scroll.particle.getEnergy();\r\n    };\r\n\r\n    /**\r\n     * Set the scrolling velocity.\r\n     *\r\n     * @param {Number} velocity New scroll velocity\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.setVelocity = function(velocity) {\r\n        return this._scroll.particle.setVelocity1D(velocity);\r\n    };\r\n\r\n    /**\r\n     * Applies a permanent scroll-force (delta) until it is released.\r\n     * When the cumulative scroll-offset lies outside the allowed bounds\r\n     * a strech effect is used, and the offset beyond the bounds is\r\n     * substracted by halve. This function should always be accompanied\r\n     * by a call to `releaseScrollForce`.\r\n     *\r\n     * This method is used for instance when using touch gestures to move\r\n     * the scroll offset and corresponds to the `touchstart` event.\r\n     *\r\n     * @param {Number} delta Starting scroll-delta force to apply\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.applyScrollForce = function(delta) {\r\n        this.halt();\r\n        if (this._scroll.scrollForceCount === 0) {\r\n            this._scroll.scrollForceStartItem = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\r\n        }\r\n        this._scroll.scrollForceCount++;\r\n        this._scroll.scrollForce += delta;\r\n        this._eventOutput.emit((this._scroll.scrollForceCount === 1) ? 'swipestart' : 'swipeupdate', {\r\n            target: this,\r\n            total: this._scroll.scrollForce,\r\n            delta: delta\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Updates a existing scroll-force previously applied by calling\r\n     * `applyScrollForce`.\r\n     *\r\n     * This method is used for instance when using touch gestures to move\r\n     * the scroll offset and corresponds to the `touchmove` event.\r\n     *\r\n     * @param {Number} prevDelta Previous delta\r\n     * @param {Number} newDelta New delta\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.updateScrollForce = function(prevDelta, newDelta) {\r\n        this.halt();\r\n        newDelta -= prevDelta;\r\n        this._scroll.scrollForce += newDelta;\r\n        this._eventOutput.emit('swipeupdate', {\r\n            target: this,\r\n            total: this._scroll.scrollForce,\r\n            delta: newDelta\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Releases a scroll-force and sets the velocity.\r\n     *\r\n     * This method is used for instance when using touch gestures to move\r\n     * the scroll offset and corresponds to the `touchend` event.\r\n     *\r\n     * @param {Number} delta Scroll delta to release\r\n     * @param {Number} [velocity] Velocity to apply after which the view keeps scrolling\r\n     * @return {ScrollController} this\r\n     */\r\n    ScrollController.prototype.releaseScrollForce = function(delta, velocity) {\r\n        this.halt();\r\n        if (this._scroll.scrollForceCount === 1) {\r\n            var scrollOffset = _calcScrollOffset.call(this);\r\n            _setParticle.call(this, scrollOffset, velocity, 'releaseScrollForce');\r\n            this._scroll.pe.wake();\r\n            this._scroll.scrollForce = 0;\r\n            this._scroll.scrollDirty = true;\r\n            if (this._scroll.scrollForceStartItem && this.options.paginated && (this.options.paginationMode === PaginationMode.PAGE)) {\r\n                var item = this.options.alignment ? this.getLastVisibleItem(true) : this.getFirstVisibleItem(true);\r\n                if (item) {\r\n                    if (item.renderNode !== this._scroll.scrollForceStartItem.renderNode) {\r\n                        this.goToRenderNode(item.renderNode);\r\n                    }\r\n                    else if (this.options.paginationEnergyThreshold && (Math.abs(this._scroll.particle.getEnergy()) >= this.options.paginationEnergyThreshold)) {\r\n                        velocity = velocity || 0;\r\n                        if ((velocity < 0) && item._node._next && item._node._next.renderNode) {\r\n                            this.goToRenderNode(item._node._next.renderNode);\r\n                        }\r\n                        else if ((velocity >= 0) && item._node._prev && item._node._prev.renderNode) {\r\n                            this.goToRenderNode(item._node._prev.renderNode);\r\n                        }\r\n                    }\r\n                    else {\r\n                        this.goToRenderNode(item.renderNode);\r\n                    }\r\n                }\r\n            }\r\n            this._scroll.scrollForceStartItem = undefined;\r\n            this._scroll.scrollForceCount--;\r\n            this._eventOutput.emit('swipeend', {\r\n                target: this,\r\n                total: delta,\r\n                delta: 0,\r\n                velocity: velocity\r\n            });\r\n        }\r\n        else {\r\n            this._scroll.scrollForce -= delta;\r\n            this._scroll.scrollForceCount--;\r\n            this._eventOutput.emit('swipeupdate', {\r\n                target: this,\r\n                total: this._scroll.scrollForce,\r\n                delta: delta\r\n            });\r\n        }\r\n        return this;\r\n    };\r\n\r\n     /**\r\n     * Get the spec (size, transform, etc..) for the given renderable or\r\n     * Id.\r\n     *\r\n     * @param {Renderable|String} node Renderabe or Id to look for.\r\n     * @param {Bool} normalize When set to `true` normalizes the origin/align into the transform translation (default: `false`).\r\n     * @return {Spec} spec or undefined\r\n     */\r\n    ScrollController.prototype.getSpec = function(node, normalize) {\r\n        var spec = LayoutController.prototype.getSpec.apply(this, arguments);\r\n        if (spec && _isSequentiallyScrollingOptimized.call(this)) {\r\n            spec = {\r\n                origin: spec.origin,\r\n                align: spec.align,\r\n                opacity: spec.opacity,\r\n                size: spec.size,\r\n                renderNode: spec.renderNode,\r\n                transform: spec.transform\r\n            };\r\n            var translate = [0, 0, 0];\r\n            translate[this._direction] = this._scrollOffsetCache + this._scroll.groupStart;\r\n            spec.transform = Transform.thenMove(spec.transform, translate);\r\n        }\r\n        return spec;\r\n    };\r\n\r\n    /**\r\n     * Executes the layout and updates the state of the scrollview.\r\n     */\r\n    function _layout(size, scrollOffset, nested) {\r\n\r\n        // Track the number of times the layout-function was executed\r\n        this._debug.layoutCount++;\r\n        //_log.call(this, 'Layout, scrollOffset: ', scrollOffset, ', particle: ', this._scroll.particle.getPosition1D());\r\n\r\n        // Determine start & end\r\n        var scrollStart = 0 - Math.max(this.options.extraBoundsSpace[0], 1);\r\n        var scrollEnd = size[this._direction] + Math.max(this.options.extraBoundsSpace[1], 1);\r\n        if (this.options.paginated && (this.options.paginationMode === PaginationMode.PAGE)) {\r\n            scrollStart = scrollOffset - this.options.extraBoundsSpace[0];\r\n            scrollEnd = scrollOffset + size[this._direction] + this.options.extraBoundsSpace[1];\r\n            if ((scrollOffset + size[this._direction]) < 0) {\r\n                scrollStart += size[this._direction];\r\n                scrollEnd += size[this._direction];\r\n            }\r\n            else if ((scrollOffset - size[this._direction]) > 0) {\r\n                scrollStart -= size[this._direction];\r\n                scrollEnd -= size[this._direction];\r\n            }\r\n        }\r\n        if (this.options.layoutAll) {\r\n            scrollStart = -1000000;\r\n            scrollEnd = 1000000;\r\n        }\r\n\r\n        // Prepare for layout\r\n        var layoutContext = this._nodes.prepareForLayout(\r\n            this._viewSequence,     // first node to layout\r\n            this._nodesById, {      // so we can do fast id lookups\r\n                size: size,\r\n                direction: this._direction,\r\n                reverse: this.options.alignment ? true : false,\r\n                scrollOffset: this.options.alignment ? (scrollOffset + size[this._direction]) : scrollOffset,\r\n                scrollStart: scrollStart,\r\n                scrollEnd: scrollEnd\r\n            }\r\n        );\r\n\r\n        // Layout objects\r\n        if (this._layout._function) {\r\n            this._layout._function(\r\n                layoutContext,          // context which the layout-function can use\r\n                this._layout.options    // additional layout-options\r\n            );\r\n        }\r\n        this._scroll.unnormalizedScrollOffset = scrollOffset;\r\n\r\n        // Call post-layout function\r\n        if (this._postLayout) {\r\n            this._postLayout(size, scrollOffset);\r\n        }\r\n\r\n        // Mark non-invalidated nodes for removal\r\n        this._nodes.removeNonInvalidatedNodes(this.options.flowOptions.removeSpec);\r\n\r\n        // Check whether the bounds have been reached\r\n        //var oldBoundsReached = this._scroll.boundsReached;\r\n        _calcBounds.call(this, size, scrollOffset);\r\n        //if (oldBoundsReached !== this._scroll.boundsReached) {\r\n        //    _log.call(this, 'bounds reached changed (', oldBoundsReached, ' != ', this._scroll.boundsReached, ')');\r\n        //}\r\n\r\n        // Update scroll-to spring\r\n        _calcScrollToOffset.call(this, size, scrollOffset);\r\n\r\n        // When pagination is enabled, snap to page\r\n        _snapToPage.call(this);\r\n\r\n        // If the bounds have changed, and the scroll-offset would be different\r\n        // than before, then re-layout entirely using the new offset.\r\n        var newScrollOffset = _calcScrollOffset.call(this, true);\r\n        if (!nested && (newScrollOffset !== scrollOffset)) {\r\n            //_log.call(this, 'offset changed, re-layouting... (', scrollOffset, ' != ', newScrollOffset, ')');\r\n            return _layout.call(this, size, newScrollOffset, true);\r\n        }\r\n\r\n        // Normalize scroll offset so that the current viewsequence node is as close to the\r\n        // top as possible and the layout function will need to process the least amount\r\n        // of renderables.\r\n        scrollOffset = _normalizeViewSequence.call(this, size, scrollOffset);\r\n\r\n        // Update spring\r\n        _updateSpring.call(this);\r\n\r\n        // Cleanup any nodes in case of a VirtualViewSequence\r\n        this._nodes.removeVirtualViewSequenceNodes();\r\n\r\n        // Calculate scroll-length and use that as the true-size (height)\r\n        if (this.options.size && (this.options.size[this._direction] === true)) {\r\n            var scrollLength = 0;\r\n            var node = this._nodes.getStartEnumNode();\r\n            while (node) {\r\n                if (node._invalidated && node.scrollLength) {\r\n                    scrollLength += node.scrollLength;\r\n                }\r\n                node = node._next;\r\n            }\r\n            this._size = this._size || [0, 0];\r\n            this._size[0] = this.options.size[0];\r\n            this._size[1] = this.options.size[1];\r\n            this._size[this._direction] = scrollLength;\r\n        }\r\n\r\n        return scrollOffset;\r\n    }\r\n\r\n    /**\r\n     * Inner render function of the Group\r\n     */\r\n    function _innerRender() {\r\n        var specs = this._specs;\r\n        for (var i3 = 0, j3 = specs.length; i3 < j3; i3++) {\r\n            if (specs[i3].renderNode) {\r\n                specs[i3].target = specs[i3].renderNode.render();\r\n            }\r\n        }\r\n\r\n        // Add our cleanup-registration id also to the list, so that the\r\n        // cleanup function is called by famo.us when the LayoutController is\r\n        // removed from the render-tree.\r\n        if (!specs.length || (specs[specs.length-1] !== this._cleanupRegistration)) {\r\n            specs.push(this._cleanupRegistration);\r\n        }\r\n        return specs;\r\n    }\r\n\r\n    /**\r\n     * Apply changes from this component to the corresponding document element.\r\n     * This includes changes to classes, styles, size, content, opacity, origin,\r\n     * and matrix transforms.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     * @param {Context} context commit context\r\n     */\r\n    ScrollController.prototype.commit = function commit(context) {\r\n        var size = context.size;\r\n\r\n        // Update debug info\r\n        this._debug.commitCount++;\r\n\r\n        // Reset the flow-state when requested\r\n        if (this._resetFlowState) {\r\n            this._resetFlowState = false;\r\n            this._isDirty = true;\r\n            this._nodes.removeAll();\r\n        }\r\n\r\n        // Calculate scroll offset\r\n        var scrollOffset = _calcScrollOffset.call(this, true, true);\r\n        if (this._scrollOffsetCache === undefined) {\r\n            this._scrollOffsetCache = scrollOffset;\r\n        }\r\n\r\n        // When the size or layout function has changed, reflow the layout\r\n        var emitEndScrollingEvent = false;\r\n        var emitScrollEvent = false;\r\n        var eventData;\r\n        if (size[0] !== this._contextSizeCache[0] ||\r\n            size[1] !== this._contextSizeCache[1] ||\r\n            this._isDirty ||\r\n            this._scroll.scrollDirty ||\r\n            this._nodes._trueSizeRequested ||\r\n            this.options.alwaysLayout ||\r\n            this._scrollOffsetCache !== scrollOffset) {\r\n\r\n            // Prepare event data\r\n            eventData = {\r\n                target: this,\r\n                oldSize: this._contextSizeCache,\r\n                size: size,\r\n                oldScrollOffset: -(this._scrollOffsetCache + this._scroll.groupStart),\r\n                scrollOffset: -(scrollOffset + this._scroll.groupStart)\r\n            };\r\n\r\n            // When scroll-offset has changed, emit scroll-start and scroll events\r\n            if (this._scrollOffsetCache !== scrollOffset) {\r\n                if (!this._scroll.isScrolling) {\r\n                    this._scroll.isScrolling = true;\r\n                    this._eventOutput.emit('scrollstart', eventData);\r\n                }\r\n                emitScrollEvent = true;\r\n            }\r\n            else if (this._scroll.isScrolling && !this._scroll.scrollForceCount) {\r\n                emitEndScrollingEvent = true;\r\n            }\r\n\r\n            this._eventOutput.emit('layoutstart', eventData);\r\n\r\n            // When the layout has changed, and we are not just scrolling,\r\n            // disable the locked state of the layout-nodes so that they\r\n            // can freely transition between the old and new state.\r\n            if (this.options.flow && (this._isDirty ||\r\n                (this.options.flowOptions.reflowOnResize &&\r\n                ((size[0] !== this._contextSizeCache[0]) ||\r\n                 (size[1] !== this._contextSizeCache[1]))))) {\r\n                var node = this._nodes.getStartEnumNode();\r\n                while (node) {\r\n                    node.releaseLock(true);\r\n                    node = node._next;\r\n                }\r\n            }\r\n\r\n            // Update state\r\n            this._contextSizeCache[0] = size[0];\r\n            this._contextSizeCache[1] = size[1];\r\n            this._isDirty = false;\r\n            this._scroll.scrollDirty = false;\r\n\r\n            // Perform layout\r\n            scrollOffset = _layout.call(this, size, scrollOffset);\r\n            this._scrollOffsetCache = scrollOffset;\r\n\r\n            // Emit end event\r\n            eventData.scrollOffset = -(this._scrollOffsetCache + this._scroll.groupStart);\r\n        }\r\n        else if (this._scroll.isScrolling && !this._scroll.scrollForceCount) {\r\n            emitEndScrollingEvent = true;\r\n        }\r\n\r\n        // Update output and optionally emit event\r\n        var groupTranslate = this._scroll.groupTranslate;\r\n        groupTranslate[0] = 0;\r\n        groupTranslate[1] = 0;\r\n        groupTranslate[2] = 0;\r\n        groupTranslate[this._direction] = -this._scroll.groupStart - scrollOffset;\r\n        var sequentialScrollingOptimized = _isSequentiallyScrollingOptimized.call(this);\r\n        var result = this._nodes.buildSpecAndDestroyUnrenderedNodes(sequentialScrollingOptimized ? groupTranslate : undefined);\r\n        this._specs = result.specs;\r\n        if (!this._specs.length) {\r\n          this._scroll.groupStart = 0;\r\n        }\r\n        if (eventData) { // eventData is only used here to check whether there has been a re-layout\r\n            this._eventOutput.emit('layoutend', eventData);\r\n        }\r\n        if (result.modified) {\r\n            this._eventOutput.emit('reflow', {\r\n                target: this\r\n            });\r\n        }\r\n\r\n        // View has been scrolled, emit event\r\n        if (emitScrollEvent) {\r\n            this._eventOutput.emit('scroll', eventData);\r\n        }\r\n\r\n        // Check whether the current page has changed\r\n        if (eventData) { // eventData is only used here to check whether there has been a re-layout\r\n            var visibleItem = this.options.alignment ? this.getLastVisibleItem() : this.getFirstVisibleItem();\r\n            if ((visibleItem && !this._visibleItemCache) || (!visibleItem && this._visibleItemCache) ||\r\n                (visibleItem && this._visibleItemCache && (visibleItem.renderNode !== this._visibleItemCache.renderNode))) {\r\n                this._eventOutput.emit('pagechange', {\r\n                    target: this,\r\n                    oldViewSequence: this._visibleItemCache ? this._visibleItemCache.viewSequence : undefined,\r\n                    viewSequence: visibleItem ? visibleItem.viewSequence : undefined,\r\n                    oldIndex: this._visibleItemCache ? this._visibleItemCache.index : undefined,\r\n                    index: visibleItem ? visibleItem.index : undefined,\r\n                    renderNode: visibleItem ? visibleItem.renderNode : undefined,\r\n                    oldRenderNode: this._visibleItemCache ? this._visibleItemCache.renderNode : undefined\r\n                });\r\n                this._visibleItemCache = visibleItem;\r\n            }\r\n        }\r\n\r\n        // Emit end scrolling event\r\n        if (emitEndScrollingEvent) {\r\n            this._scroll.isScrolling = false;\r\n            eventData = {\r\n                target: this,\r\n                oldSize: size,\r\n                size: size,\r\n                oldScrollOffset: -(this._scroll.groupStart + scrollOffset),\r\n                scrollOffset: -(this._scroll.groupStart + scrollOffset)\r\n            };\r\n            this._eventOutput.emit('scrollend', eventData);\r\n        }\r\n\r\n        // When renderables are layed out sequentiall (e.g. a ListLayout or\r\n        // CollectionLayout), then offset the renderables onto the Group\r\n        // and move the group offset instead. This creates a very big performance gain\r\n        // as the renderables don't have to be repositioned for every change\r\n        // to the scrollOffset. For layouts that don't layout sequence, disable\r\n        // this behavior as it will be decremental to the performance.\r\n        var transform = context.transform;\r\n        if (sequentialScrollingOptimized) {\r\n            var windowOffset = scrollOffset + this._scroll.groupStart;\r\n            var translate = [0, 0, 0];\r\n            translate[this._direction] = windowOffset;\r\n            transform = Transform.thenMove(transform, translate);\r\n        }\r\n\r\n        // Return the spec\r\n        return {\r\n            transform: transform,\r\n            size: size,\r\n            opacity: context.opacity,\r\n            origin: context.origin,\r\n            target: this.group.render()\r\n        };\r\n    };\r\n\r\n    /**\r\n     * Generate a render spec from the contents of this component.\r\n     *\r\n     * @private\r\n     * @method render\r\n     * @return {number} Render spec for this component\r\n     */\r\n    ScrollController.prototype.render = function render() {\r\n        if (this.container) {\r\n            return this.container.render.apply(this.container, arguments);\r\n        }\r\n        else {\r\n            return this.id;\r\n        }\r\n    };\r\n\r\n    module.exports = ScrollController;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/ScrollController.js\n ** module id = 39\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014 - 2015\r\n */\r\n\r\n/*global console*/\r\n/*eslint no-console: 0*/\r\n\r\n/**\r\n * LayoutController lays out renderables according to a layout-\r\n * function and a data-source.\r\n *\r\n * Events:\r\n *\r\n * |event      |description|\r\n * |-----------|-----------|\r\n * |layoutstart|Emitted before the layout function is executed.|\r\n * |layoutend  |Emitted after the layout function has been executed.|\r\n * |reflow     |Emitted after one or more renderables have been changed.|\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var Utility = require('famous/utilities/Utility');\r\n    var Entity = require('famous/core/Entity');\r\n    var ViewSequence = require('famous/core/ViewSequence');\r\n    var LinkedListViewSequence = require('./LinkedListViewSequence');\r\n    var OptionsManager = require('famous/core/OptionsManager');\r\n    var EventHandler = require('famous/core/EventHandler');\r\n    var LayoutUtility = require('./LayoutUtility');\r\n    var LayoutNodeManager = require('./LayoutNodeManager');\r\n    var LayoutNode = require('./LayoutNode');\r\n    var FlowLayoutNode = require('./FlowLayoutNode');\r\n    var Transform = require('famous/core/Transform');\r\n    require('./helpers/LayoutDockHelper');\r\n\r\n    /**\r\n     * @class\r\n     * @param {Object} options Options.\r\n     * @param {Function|Object} [options.layout] Layout function or layout-literal.\r\n     * @param {Object} [options.layoutOptions] Options to pass in to the layout-function.\r\n     * @param {Array|LinkedListViewSequence|Object} [options.dataSource] Array, LinkedListViewSequence or Object with key/value pairs.\r\n     * @param {Utility.Direction} [options.direction] Direction to layout into (e.g. Utility.Direction.Y) (when omitted the default direction of the layout is used)\r\n     * @param {Bool} [options.flow] Enables flow animations when the layout changes (default: `false`).\r\n     * @param {Object} [options.flowOptions] Options used by nodes when reflowing.\r\n     * @param {Bool} [options.flowOptions.reflowOnResize] Smoothly reflows renderables on resize (only used when flow = true) (default: `true`).\r\n     * @param {Object} [options.flowOptions.spring] Spring options used by nodes when reflowing (default: `{dampingRatio: 0.8, period: 300}`).\r\n     * @param {Object} [options.flowOptions.properties] Properties which should be enabled or disabled for flowing.\r\n     * @param {Spec} [options.flowOptions.insertSpec] Size, transform, opacity... to use when inserting new renderables into the scene (default: `{}`).\r\n     * @param {Spec} [options.flowOptions.removeSpec] Size, transform, opacity... to use when removing renderables from the scene (default: `{}`).\r\n     * @param {Bool} [options.alwaysLayout] When set to true, always calls the layout function on every render-cycle (default: `false`).\r\n     * @param {Bool} [options.autoPipeEvents] When set to true, automatically calls .pipe on all renderables when inserted (default: `false`).\r\n     * @param {Object} [options.preallocateNodes] Optimisation option to improve initial scrolling/animation performance by pre-allocating nodes, e.g.: `{count: 50, spec: {size:[0, 0], transform: Transform.identity}}`.\r\n     * @alias module:LayoutController\r\n     */\r\n    function LayoutController(options, nodeManager) {\r\n\r\n        // Commit\r\n        this.id = Entity.register(this);\r\n        this._isDirty = true;\r\n        this._contextSizeCache = [0, 0];\r\n        this._commitOutput = {};\r\n\r\n        // Create an object to we can capture the famo.us cleanup call on\r\n        // LayoutController.\r\n        this._cleanupRegistration = {\r\n          commit: function() {\r\n              return undefined;\r\n          },\r\n          cleanup: function(context) {\r\n              this.cleanup(context);\r\n          }.bind(this)\r\n        };\r\n        this._cleanupRegistration.target = Entity.register(this._cleanupRegistration);\r\n        this._cleanupRegistration.render = function() {\r\n          return this.target;\r\n        }.bind(this._cleanupRegistration);\r\n\r\n        // Setup input event handler\r\n        this._eventInput = new EventHandler();\r\n        EventHandler.setInputHandler(this, this._eventInput);\r\n\r\n        // Setup event handlers\r\n        this._eventOutput = new EventHandler();\r\n        EventHandler.setOutputHandler(this, this._eventOutput);\r\n\r\n        // Data-source\r\n        //this._dataSource = undefined;\r\n        //this._nodesById = undefined;\r\n        //this._viewSequence = undefined;\r\n\r\n        // Layout\r\n        this._layout = {\r\n            //function: undefined,\r\n            //literal: undefined,\r\n            //capabilities: undefined,\r\n            options: Object.create({})\r\n        };\r\n        //this._direction = undefined;\r\n        this._layout.optionsManager = new OptionsManager(this._layout.options);\r\n        this._layout.optionsManager.on('change', function() {\r\n            this._isDirty = true;\r\n        }.bind(this));\r\n\r\n        // Create options\r\n        this.options = Object.create(LayoutController.DEFAULT_OPTIONS);\r\n        this._optionsManager = new OptionsManager(this.options);\r\n\r\n        // Create node manager that manages (Flow)LayoutNode instances\r\n        if (nodeManager) {\r\n            this._nodes = nodeManager;\r\n        }\r\n        else if (options && options.flow) {\r\n            this._nodes = new LayoutNodeManager(FlowLayoutNode, _initFlowLayoutNode.bind(this));\r\n        }\r\n        else {\r\n            this._nodes = new LayoutNodeManager(LayoutNode);\r\n        }\r\n\r\n        // Set options\r\n        this.setDirection(undefined);\r\n        if (options) {\r\n            this.setOptions(options);\r\n        }\r\n    }\r\n\r\n    LayoutController.DEFAULT_OPTIONS = {\r\n        flow: false,\r\n        flowOptions: {\r\n            reflowOnResize: true,\r\n            properties: {\r\n                opacity: true,\r\n                align: true,\r\n                origin: true,\r\n                size: true,\r\n                translate: true,\r\n                skew: true,\r\n                rotate: true,\r\n                scale: true\r\n            },\r\n            spring: {\r\n                dampingRatio: 0.8,\r\n                period: 300\r\n            }\r\n            /*insertSpec: {\r\n                opacity: undefined,\r\n                size: undefined,\r\n                transform: undefined,\r\n                origin: undefined,\r\n                align: undefined\r\n            },\r\n            removeSpec: {\r\n                opacity: undefined,\r\n                size: undefined,\r\n                transform: undefined,\r\n                origin: undefined,\r\n                align: undefined\r\n            }*/\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Called whenever a layout-node is created/re-used. Initializes\r\n     * the node with the `insertSpec` if it has been defined.\r\n     */\r\n    function _initFlowLayoutNode(node, spec) {\r\n        if (!spec && this.options.flowOptions.insertSpec) {\r\n            node.setSpec(this.options.flowOptions.insertSpec);\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Patches the LayoutController instance's options with the passed-in ones.\r\n     *\r\n     * @param {Options} options An object of configurable options for the LayoutController instance.\r\n     * @param {Function|Object} [options.layout] Layout function or layout-literal.\r\n     * @param {Object} [options.layoutOptions] Options to pass in to the layout-function.\r\n     * @param {Array|LinkedListViewSequence|Object} [options.dataSource] Array, LinkedListViewSequence or Object with key/value pairs.\r\n     * @param {Utility.Direction} [options.direction] Direction to layout into (e.g. Utility.Direction.Y) (when omitted the default direction of the layout is used)\r\n     * @param {Object} [options.flowOptions] Options used by nodes when reflowing.\r\n     * @param {Bool} [options.flowOptions.reflowOnResize] Smoothly reflows renderables on resize (only used when flow = true) (default: `true`).\r\n     * @param {Object} [options.flowOptions.spring] Spring options used by nodes when reflowing (default: `{dampingRatio: 0.8, period: 300}`).\r\n     * @param {Object} [options.flowOptions.properties] Properties which should be enabled or disabled for flowing.\r\n     * @param {Spec} [options.flowOptions.insertSpec] Size, transform, opacity... to use when inserting new renderables into the scene (default: `{}`).\r\n     * @param {Spec} [options.flowOptions.removeSpec] Size, transform, opacity... to use when removing renderables from the scene (default: `{}`).\r\n     * @param {Bool} [options.alwaysLayout] When set to true, always calls the layout function on every render-cycle (default: `false`).\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.setOptions = function(options) {\r\n        if ((options.alignment !== undefined) && (options.alignment !== this.options.alignment)) {\r\n            this._isDirty = true;\r\n        }\r\n        this._optionsManager.setOptions(options);\r\n        if (options.nodeSpring) {\r\n            console.warn('nodeSpring options have been moved inside `flowOptions`. Use `flowOptions.spring` instead.');\r\n            this._optionsManager.setOptions({\r\n                flowOptions: {\r\n                    spring: options.nodeSpring\r\n                }\r\n            });\r\n            this._nodes.setNodeOptions(this.options.flowOptions);\r\n        }\r\n        if (options.reflowOnResize !== undefined) {\r\n            console.warn('reflowOnResize options have been moved inside `flowOptions`. Use `flowOptions.reflowOnResize` instead.');\r\n            this._optionsManager.setOptions({\r\n                flowOptions: {\r\n                    reflowOnResize: options.reflowOnResize\r\n                }\r\n            });\r\n            this._nodes.setNodeOptions(this.options.flowOptions);\r\n        }\r\n        if (options.insertSpec) {\r\n            console.warn('insertSpec options have been moved inside `flowOptions`. Use `flowOptions.insertSpec` instead.');\r\n            this._optionsManager.setOptions({\r\n                flowOptions: {\r\n                    insertSpec: options.insertSpec\r\n                }\r\n            });\r\n            this._nodes.setNodeOptions(this.options.flowOptions);\r\n        }\r\n        if (options.removeSpec) {\r\n            console.warn('removeSpec options have been moved inside `flowOptions`. Use `flowOptions.removeSpec` instead.');\r\n            this._optionsManager.setOptions({\r\n                flowOptions: {\r\n                    removeSpec: options.removeSpec\r\n                }\r\n            });\r\n            this._nodes.setNodeOptions(this.options.flowOptions);\r\n        }\r\n        if (options.dataSource) {\r\n            this.setDataSource(options.dataSource);\r\n        }\r\n        if (options.layout) {\r\n            this.setLayout(options.layout, options.layoutOptions);\r\n        }\r\n        else if (options.layoutOptions) {\r\n            this.setLayoutOptions(options.layoutOptions);\r\n        }\r\n        if (options.direction !== undefined) {\r\n            this.setDirection(options.direction);\r\n        }\r\n        if (options.flowOptions && this.options.flow) {\r\n            this._nodes.setNodeOptions(this.options.flowOptions);\r\n        }\r\n        if (options.preallocateNodes) {\r\n            this._nodes.preallocateNodes(options.preallocateNodes.count || 0, options.preallocateNodes.spec);\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Helper function to enumerate all the renderables in the datasource\r\n     */\r\n    function _forEachRenderable(callback) {\r\n        if (this._nodesById) {\r\n            for (var key in this._nodesById) {\r\n                callback(this._nodesById[key]);\r\n            }\r\n        }\r\n        else {\r\n            var sequence = this._viewSequence.getHead();\r\n            while (sequence) {\r\n                var renderable = sequence.get();\r\n                if (renderable) {\r\n                    callback(renderable);\r\n                }\r\n                sequence = sequence.getNext();\r\n            }\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Sets the collection of renderables which are layed out according to\r\n     * the layout-function.\r\n     *\r\n     * The data-source can be either an Array, LinkedListViewSequence or Object\r\n     * with key/value pairs.\r\n     *\r\n     * @param {Array|Object|LinkedListViewSequence} dataSource Array, LinkedListViewSequence or Object.\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.setDataSource = function(dataSource) {\r\n        this._dataSource = dataSource;\r\n        this._nodesById = undefined;\r\n        if (dataSource instanceof ViewSequence) {\r\n            console.warn('The stock famo.us ViewSequence is no longer supported as it is too buggy');\r\n            console.warn('It has been automatically converted to the safe LinkedListViewSequence.');\r\n            console.warn('Please refactor your code by using LinkedListViewSequence.');\r\n            this._dataSource = new LinkedListViewSequence(dataSource._.array);\r\n            this._viewSequence = this._dataSource;\r\n        }\r\n        else if (dataSource instanceof Array) {\r\n            this._viewSequence = new LinkedListViewSequence(dataSource);\r\n        }\r\n        else if (dataSource instanceof LinkedListViewSequence) {\r\n            this._viewSequence = dataSource;\r\n        }\r\n        else if (dataSource.getNext) {\r\n            this._viewSequence = dataSource;\r\n        }\r\n        else if (dataSource instanceof Object){\r\n            this._nodesById = dataSource;\r\n        }\r\n        if (this.options.autoPipeEvents) {\r\n            if (this._dataSource.pipe) {\r\n                this._dataSource.pipe(this);\r\n                this._dataSource.pipe(this._eventOutput);\r\n            }\r\n            else {\r\n                _forEachRenderable.call(this, function(renderable) {\r\n                    if (renderable && renderable.pipe) {\r\n                        renderable.pipe(this);\r\n                        renderable.pipe(this._eventOutput);\r\n                    }\r\n                }.bind(this));\r\n            }\r\n        }\r\n        this._isDirty = true;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get the data-source.\r\n     *\r\n     * @return {Array|LinkedListViewSequence|Object} data-source\r\n     */\r\n    LayoutController.prototype.getDataSource = function() {\r\n        return this._dataSource;\r\n    };\r\n\r\n    /**\r\n     * Set the new layout.\r\n     *\r\n     * @param {Function|Object} layout Layout function or layout-literal\r\n     * @param {Object} [options] Options to pass in to the layout-function\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.setLayout = function(layout, options) {\r\n\r\n        // Set new layout funtion\r\n        if (layout instanceof Function) {\r\n            this._layout._function = layout;\r\n            this._layout.capabilities = layout.Capabilities;\r\n            this._layout.literal = undefined;\r\n\r\n        // If the layout is an object, treat it as a layout-literal\r\n        }\r\n        else if (layout instanceof Object) {\r\n            this._layout.literal = layout;\r\n            this._layout.capabilities = undefined; // todo - derive from literal somehow?\r\n            var helperName = Object.keys(layout)[0];\r\n            var Helper = LayoutUtility.getRegisteredHelper(helperName);\r\n            this._layout._function = Helper ? function(context, options2) {\r\n                var helper = new Helper(context, options2);\r\n                helper.parse(layout[helperName]);\r\n            } : undefined;\r\n        }\r\n        else {\r\n            this._layout._function = undefined;\r\n            this._layout.capabilities = undefined;\r\n            this._layout.literal = undefined;\r\n        }\r\n\r\n        // Update options\r\n        if (options) {\r\n            this.setLayoutOptions(options);\r\n        }\r\n\r\n        // Update direction\r\n        this.setDirection(this._configuredDirection);\r\n        this._isDirty = true;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get the current layout.\r\n     *\r\n     * @return {Function|Object} Layout function or layout literal\r\n     */\r\n    LayoutController.prototype.getLayout = function() {\r\n        return this._layout.literal || this._layout._function;\r\n    };\r\n\r\n    /**\r\n     * Set the options for the current layout. Use this function after\r\n     * `setLayout` to update one or more options for the layout-function.\r\n     *\r\n     * @param {Object} [options] Options to pass in to the layout-function\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.setLayoutOptions = function(options) {\r\n        this._layout.optionsManager.setOptions(options);\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get the current layout options.\r\n     *\r\n     * @return {Object} Layout options\r\n     */\r\n    LayoutController.prototype.getLayoutOptions = function() {\r\n        return this._layout.options;\r\n    };\r\n\r\n    /**\r\n     * Calculates the actual in-use direction based on the given direction\r\n     * and supported capabilities of the layout-function.\r\n     */\r\n    function _getActualDirection(direction) {\r\n\r\n        // When the direction is configured in the capabilities, look it up there\r\n        if (this._layout.capabilities && this._layout.capabilities.direction) {\r\n\r\n            // Multiple directions are supported\r\n            if (Array.isArray(this._layout.capabilities.direction)) {\r\n                for (var i = 0; i < this._layout.capabilities.direction.length; i++) {\r\n                    if (this._layout.capabilities.direction[i] === direction) {\r\n                        return direction;\r\n                    }\r\n                }\r\n                return this._layout.capabilities.direction[0];\r\n            }\r\n\r\n            // Only one direction is supported, we must use that\r\n            else {\r\n                return this._layout.capabilities.direction;\r\n            }\r\n        }\r\n\r\n        // Use Y-direction as a fallback\r\n        return (direction === undefined) ? Utility.Direction.Y : direction;\r\n    }\r\n\r\n    /**\r\n     * Set the direction of the layout. When no direction is set, the default\r\n     * direction of the layout function is used.\r\n     *\r\n     * @param {Utility.Direction} direction Direction (e.g. Utility.Direction.X)\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.setDirection = function(direction) {\r\n        this._configuredDirection = direction;\r\n        var newDirection = _getActualDirection.call(this, direction);\r\n        if (newDirection !== this._direction) {\r\n            this._direction = newDirection;\r\n            this._isDirty = true;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Get the direction (e.g. Utility.Direction.Y). By default, this function\r\n     * returns the direction that was configured by setting `setDirection`. When\r\n     * the direction has not been set, `undefined` is returned.\r\n     *\r\n     * When no direction has been set, the first direction is used that is specified\r\n     * in the capabilities of the layout-function. To obtain the actual in-use direction,\r\n     * use `getDirection(true)`. This method returns the actual in-use direction and\r\n     * never returns undefined.\r\n     *\r\n     * @param {Boolean} [actual] Set to true to obtain the actual in-use direction\r\n     * @return {Utility.Direction} Direction or undefined\r\n     */\r\n    LayoutController.prototype.getDirection = function(actual) {\r\n        return actual ? this._direction : this._configuredDirection;\r\n    };\r\n\r\n    /**\r\n     * Get the spec (size, transform, etc..) for the given renderable or\r\n     * Id.\r\n     *\r\n     * @param {Renderable|String} node Renderabe or Id to look for\r\n     * @param {Bool} [normalize] When set to `true` normalizes the origin/align into the transform translation (default: `false`).\r\n     * @param {Bool} [endState] When set to `true` returns the flowing end-state spec rather than the current spec.\r\n     * @return {Spec} spec or undefined\r\n     */\r\n    LayoutController.prototype.getSpec = function(node, normalize, endState) {\r\n        if (!node) {\r\n            return undefined;\r\n        }\r\n        if ((node instanceof String) || (typeof node === 'string')) {\r\n            if (!this._nodesById) {\r\n               return undefined;\r\n            }\r\n            node = this._nodesById[node];\r\n            if (!node) {\r\n                return undefined;\r\n            }\r\n\r\n            // If the result was an array, return that instead\r\n            if (node instanceof Array) {\r\n                return node;\r\n            }\r\n        }\r\n        if (this._specs) {\r\n            for (var i = 0; i < this._specs.length; i++) {\r\n                var spec = this._specs[i];\r\n                if (spec.renderNode === node) {\r\n                    if (endState && spec.endState) {\r\n                        spec = spec.endState;\r\n                    }\r\n                    // normalize align & origin into transform\r\n                    if (normalize && spec.transform && spec.size && (spec.align || spec.origin)) {\r\n                        var transform = spec.transform;\r\n                        if (spec.align && (spec.align[0] || spec.align[1])) {\r\n                            transform = Transform.thenMove(transform, [spec.align[0] * this._contextSizeCache[0], spec.align[1] * this._contextSizeCache[1], 0]);\r\n                        }\r\n                        if (spec.origin && (spec.origin[0] || spec.origin[1])) {\r\n                            transform = Transform.moveThen([-spec.origin[0] * spec.size[0], -spec.origin[1] * spec.size[1], 0], transform);\r\n                        }\r\n                        return {\r\n                            opacity: spec.opacity,\r\n                            size: spec.size,\r\n                            transform: transform\r\n                        };\r\n                    }\r\n                    return spec;\r\n                }\r\n            }\r\n        }\r\n        return undefined;\r\n    };\r\n\r\n    /**\r\n     * Forces a reflow of the layout the next render cycle.\r\n     *\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.reflowLayout = function() {\r\n        this._isDirty = true;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Resets the current flow state, so that all renderables\r\n     * are immediately displayed in their end-state.\r\n     *\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.resetFlowState = function() {\r\n        if (this.options.flow) {\r\n            this._resetFlowState = true;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Inserts a renderable into the data-source.\r\n     *\r\n     * The optional argument `insertSpec` is only used `flow` mode is enabled.\r\n     * When specified, the renderable is inserted using an animation starting with\r\n     * size, origin, opacity, transform, etc... as specified in `insertSpec'.\r\n     *\r\n     * @param {Number|String} indexOrId Index (0 = before first, -1 at end), within dataSource array or id (String)\r\n     * @param {Object} renderable Renderable to add to the data-source\r\n     * @param {Spec} [insertSpec] Size, transform, etc.. to start with when inserting\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.insert = function(indexOrId, renderable, insertSpec) {\r\n\r\n        // Add the renderable in case of an id (String)\r\n        if ((indexOrId instanceof String) || (typeof indexOrId === 'string')) {\r\n\r\n            // Create data-source if neccesary\r\n            if (this._dataSource === undefined) {\r\n                this._dataSource = {};\r\n                this._nodesById = this._dataSource;\r\n            }\r\n\r\n            // Insert renderable\r\n            if (this._nodesById[indexOrId] === renderable) {\r\n                return this;\r\n            }\r\n            this._nodesById[indexOrId] = renderable;\r\n        }\r\n\r\n        // Add the renderable using an index\r\n        else {\r\n\r\n            // Create own data-source if neccesary\r\n            if (this._dataSource === undefined) {\r\n                this._dataSource = new LinkedListViewSequence();\r\n                this._viewSequence = this._dataSource;\r\n            }\r\n\r\n            // Insert data\r\n            this._viewSequence.insert(indexOrId, renderable);\r\n        }\r\n\r\n        // When a custom insert-spec was specified, store that in the layout-node\r\n        if (insertSpec) {\r\n            this._nodes.insertNode(this._nodes.createNode(renderable, insertSpec));\r\n        }\r\n\r\n        // Auto pipe events\r\n        if (this.options.autoPipeEvents && renderable && renderable.pipe) {\r\n            renderable.pipe(this);\r\n            renderable.pipe(this._eventOutput);\r\n        }\r\n\r\n        // Force a reflow\r\n        this._isDirty = true;\r\n\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Adds a renderable to the end of a sequential data-source.\r\n     *\r\n     * The optional argument `insertSpec` is only used `flow` mode is enabled.\r\n     * When specified, the renderable is inserted using an animation starting with\r\n     * size, origin, opacity, transform, etc... as specified in `insertSpec'.\r\n     *\r\n     * @param {Object} renderable Renderable to add to the data-source\r\n     * @param {Spec} [insertSpec] Size, transform, etc.. to start with when inserting\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.push = function(renderable, insertSpec) {\r\n        return this.insert(-1, renderable, insertSpec);\r\n    };\r\n\r\n    /**\r\n     * Helper function for finding the view-sequence node at the given position.\r\n     */\r\n    function _getViewSequenceAtIndex(index, startViewSequence) {\r\n        if (this._viewSequence.getAtIndex) {\r\n            return this._viewSequence.getAtIndex(index, startViewSequence);\r\n        }\r\n        var viewSequence = startViewSequence || this._viewSequence;\r\n        var i = viewSequence ? viewSequence.getIndex() : index;\r\n        if (index > i) {\r\n            while (viewSequence) {\r\n                viewSequence = viewSequence.getNext();\r\n                if (!viewSequence) {\r\n                    return undefined;\r\n                }\r\n                i = viewSequence.getIndex();\r\n                if (i === index) {\r\n                    return viewSequence;\r\n                }\r\n                else if (index < i) {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n        else if (index < i) {\r\n            while (viewSequence) {\r\n                viewSequence = viewSequence.getPrevious();\r\n                if (!viewSequence) {\r\n                    return undefined;\r\n                }\r\n                i = viewSequence.getIndex();\r\n                if (i === index) {\r\n                    return viewSequence;\r\n                }\r\n                else if (index > i) {\r\n                    return undefined;\r\n                }\r\n            }\r\n        }\r\n        return viewSequence;\r\n    }\r\n\r\n    /**\r\n     * Get the renderable at the given index or Id.\r\n     *\r\n     * @param {Number|String} indexOrId Index within dataSource array or id (String)\r\n     * @return {Renderable} renderable or `undefined`\r\n     */\r\n    LayoutController.prototype.get = function(indexOrId) {\r\n      if (this._nodesById || (indexOrId instanceof String) || (typeof indexOrId === 'string')) {\r\n        return this._nodesById ? this._nodesById[indexOrId] : undefined;\r\n      }\r\n      var viewSequence = _getViewSequenceAtIndex.call(this, indexOrId);\r\n      return viewSequence ? viewSequence.get() : undefined;\r\n    };\r\n\r\n    /**\r\n     * Swaps two renderables at the given positions.\r\n     *\r\n     * This method is only supported for dataSources of type Array or LinkedListViewSequence.\r\n     *\r\n     * @param {Number} index Index of the renderable to swap\r\n     * @param {Number} index2 Index of the renderable to swap with\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.swap = function(index, index2) {\r\n        this._viewSequence.swap(index, index2);\r\n        this._isDirty = true;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Replaces a renderable at the given index or id.\r\n     *\r\n     * @param {Number|String} indexOrId Index within dataSource array or id (String)\r\n     * @param {Renderable} renderable renderable to replace with\r\n     * @param {Bool} [noAnimation] When set to `true`, replaces the renderable without any flowing animation.\r\n     * @return {Renderable} old renderable that has been replaced\r\n     */\r\n    LayoutController.prototype.replace = function(indexOrId, renderable, noAnimation) {\r\n        var oldRenderable;\r\n        if (this._nodesById || (indexOrId instanceof String) || (typeof indexOrId === 'string')) {\r\n            oldRenderable = this._nodesById[indexOrId];\r\n            if (oldRenderable !== renderable) {\r\n                if (noAnimation && oldRenderable) {\r\n                    var node = this._nodes.getNodeByRenderNode(oldRenderable);\r\n                    if (node) {\r\n                        node.setRenderNode(renderable);\r\n                    }\r\n                }\r\n                this._nodesById[indexOrId] = renderable;\r\n                this._isDirty = true;\r\n            }\r\n            return oldRenderable;\r\n        }\r\n        var sequence = this._viewSequence.findByIndex(indexOrId);\r\n        if (!sequence) {\r\n            throw 'Invalid index (' + indexOrId + ') specified to .replace';\r\n        }\r\n        oldRenderable = sequence.get();\r\n        sequence.set(renderable);\r\n        if (oldRenderable !== renderable) {\r\n          this._isDirty = true;\r\n        }\r\n        return oldRenderable;\r\n    };\r\n\r\n    /**\r\n     * Moves a renderable to a new index.\r\n     *\r\n     * This method is only supported for dataSources of type Array or LinkedListViewSequence.\r\n     *\r\n     * @param {Number} index Index of the renderable to move.\r\n     * @param {Number} newIndex New index of the renderable.\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.move = function(index, newIndex) {\r\n        var sequence = this._viewSequence.findByIndex(index);\r\n        if (!sequence) {\r\n          throw 'Invalid index (' + index + ') specified to .move';\r\n        }\r\n        this._viewSequence = this._viewSequence.remove(sequence);\r\n        this._viewSequence.insert(newIndex, sequence.get());\r\n        this._isDirty = true;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Removes a renderable from the data-source.\r\n     *\r\n     * The optional argument `removeSpec` is only used `flow` mode is enabled.\r\n     * When specified, the renderable is removed using an animation ending at\r\n     * the size, origin, opacity, transform, etc... as specified in `removeSpec'.\r\n     *\r\n     * @param {Number|String|Renderable} indexOrId Index, id (String) or renderable to remove.\r\n     * @param {Spec} [removeSpec] Size, transform, etc.. to end with when removing\r\n     * @return {Renderable} renderable that has been removed\r\n     */\r\n    LayoutController.prototype.remove = function(indexOrId, removeSpec) {\r\n        var renderNode;\r\n\r\n        // Remove the renderable in case of an id (String)\r\n        if (this._nodesById || (indexOrId instanceof String) || (typeof indexOrId === 'string')) {\r\n\r\n            // Find and remove renderable from data-source\r\n            if ((indexOrId instanceof String) || (typeof indexOrId === 'string')) {\r\n                renderNode = this._nodesById[indexOrId];\r\n                if (renderNode) {\r\n                    delete this._nodesById[indexOrId];\r\n                }\r\n            }\r\n            else {\r\n                for (var key in this._nodesById) {\r\n                    if (this._nodesById[key] === indexOrId) {\r\n                        delete this._nodesById[key];\r\n                        renderNode = indexOrId;\r\n                        break;\r\n                    }\r\n                }\r\n            }\r\n        }\r\n        else {\r\n\r\n            // Remove the renderable\r\n            var sequence;\r\n            if ((indexOrId instanceof Number) || (typeof indexOrId === 'number')) {\r\n                sequence = this._viewSequence.findByIndex(indexOrId);\r\n            }\r\n            else {\r\n                sequence = this._viewSequence.findByValue(indexOrId);\r\n            }\r\n            if (sequence) {\r\n                renderNode = sequence.get();\r\n                this._viewSequence = this._viewSequence.remove(sequence);\r\n            }\r\n        }\r\n\r\n        // When a custom remove-spec was specified, store that in the layout-node\r\n        if (renderNode && removeSpec) {\r\n            var node = this._nodes.getNodeByRenderNode(renderNode);\r\n            if (node) {\r\n                node.remove(removeSpec || this.options.flowOptions.removeSpec);\r\n            }\r\n        }\r\n\r\n        // Force a reflow\r\n        if (renderNode) {\r\n            this._isDirty = true;\r\n        }\r\n\r\n        return renderNode;\r\n    };\r\n\r\n    /**\r\n     * Removes all renderables from the data-source.\r\n     *\r\n     * The optional argument `removeSpec` is only used when `flow` mode is enabled.\r\n     * When specified, the renderables are removed using an animation ending at\r\n     * the size, origin, opacity, transform, etc... as specified in `removeSpec'.\r\n     *\r\n     * @param {Spec} [removeSpec] Size, transform, etc.. to end with when removing\r\n     * @return {LayoutController} this\r\n     */\r\n    LayoutController.prototype.removeAll = function(removeSpec) {\r\n        if (this._nodesById) {\r\n            var dirty = false;\r\n            for (var key in this._nodesById) {\r\n                delete this._nodesById[key];\r\n                dirty = true;\r\n            }\r\n            if (dirty) {\r\n                this._isDirty = true;\r\n            }\r\n        }\r\n        else if (this._viewSequence){\r\n            this._viewSequence = this._viewSequence.clear();\r\n        }\r\n        if (removeSpec) {\r\n            var node = this._nodes.getStartEnumNode();\r\n            while (node) {\r\n                node.remove(removeSpec || this.options.flowOptions.removeSpec);\r\n                node = node._next;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Return size of contained element or `undefined` when size is not defined.\r\n     *\r\n     * @return {Array.Number} [width, height]\r\n     */\r\n    LayoutController.prototype.getSize = function() {\r\n        return this._size || this.options.size;\r\n    };\r\n\r\n    /**\r\n     * Generate a render spec from the contents of this component.\r\n     *\r\n     * @private\r\n     * @method render\r\n     * @return {Object} Render spec for this component\r\n     */\r\n    LayoutController.prototype.render = function render() {\r\n        return this.id;\r\n    };\r\n\r\n    /**\r\n     * Apply changes from this component to the corresponding document element.\r\n     * This includes changes to classes, styles, size, content, opacity, origin,\r\n     * and matrix transforms.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     * @param {Context} context commit context\r\n     */\r\n    LayoutController.prototype.commit = function commit(context) {\r\n        var transform = context.transform;\r\n        var origin = context.origin;\r\n        var size = context.size;\r\n        var opacity = context.opacity;\r\n\r\n        // Reset the flow-state when requested\r\n        if (this._resetFlowState) {\r\n            this._resetFlowState = false;\r\n            this._isDirty = true;\r\n            this._nodes.removeAll();\r\n        }\r\n\r\n        // When the size or layout function has changed, reflow the layout\r\n        if (size[0] !== this._contextSizeCache[0] ||\r\n            size[1] !== this._contextSizeCache[1] ||\r\n            this._isDirty ||\r\n            this._nodes._trueSizeRequested ||\r\n            this.options.alwaysLayout){\r\n\r\n            // Emit start event\r\n            var eventData = {\r\n                target: this,\r\n                oldSize: this._contextSizeCache,\r\n                size: size,\r\n                dirty: this._isDirty,\r\n                trueSizeRequested: this._nodes._trueSizeRequested\r\n            };\r\n            this._eventOutput.emit('layoutstart', eventData);\r\n\r\n            // When the layout has changed, and we are not just scrolling,\r\n            // disable the locked state of the layout-nodes so that they\r\n            // can freely transition between the old and new state.\r\n            if (this.options.flow) {\r\n                var lock = false;\r\n                if (!this.options.flowOptions.reflowOnResize) {\r\n                    if (!this._isDirty &&\r\n                        ((size[0] !== this._contextSizeCache[0]) ||\r\n                         (size[1] !== this._contextSizeCache[1]))) {\r\n                        lock = undefined;\r\n                    }\r\n                    else {\r\n                      lock = true;\r\n                    }\r\n                }\r\n                if (lock !== undefined) {\r\n                    var node = this._nodes.getStartEnumNode();\r\n                    while (node) {\r\n                        node.releaseLock(lock);\r\n                        node = node._next;\r\n                    }\r\n                }\r\n            }\r\n\r\n            // Update state\r\n            this._contextSizeCache[0] = size[0];\r\n            this._contextSizeCache[1] = size[1];\r\n            this._isDirty = false;\r\n\r\n            // Prepare for layout\r\n            var scrollEnd;\r\n            if (this.options.size && (this.options.size[this._direction] === true)) {\r\n                scrollEnd = 1000000; // calculate scroll-length\r\n            }\r\n            var layoutContext = this._nodes.prepareForLayout(\r\n                this._viewSequence,     // first node to layout\r\n                this._nodesById, {      // so we can do fast id lookups\r\n                    size: size,\r\n                    direction: this._direction,\r\n                    scrollEnd: scrollEnd\r\n                }\r\n            );\r\n\r\n            // Layout objects\r\n            if (this._layout._function) {\r\n                this._layout._function(\r\n                    layoutContext,          // context which the layout-function can use\r\n                    this._layout.options    // additional layout-options\r\n                );\r\n            }\r\n\r\n            // Mark non-invalidated nodes for removal\r\n            this._nodes.removeNonInvalidatedNodes(this.options.flowOptions.removeSpec);\r\n\r\n            // Cleanup any nodes in case of a VirtualViewSequence\r\n            this._nodes.removeVirtualViewSequenceNodes();\r\n\r\n            // Calculate scroll-length and use that as the true-size (height)\r\n            if (scrollEnd) {\r\n                scrollEnd = 0;\r\n                node = this._nodes.getStartEnumNode();\r\n                while (node) {\r\n                    if (node._invalidated && node.scrollLength) {\r\n                        scrollEnd += node.scrollLength;\r\n                    }\r\n                    node = node._next;\r\n                }\r\n                this._size = this._size || [0, 0];\r\n                this._size[0] = this.options.size[0];\r\n                this._size[1] = this.options.size[1];\r\n                this._size[this._direction] = scrollEnd;\r\n            }\r\n\r\n            // Update output and optionally emit event\r\n            var result = this._nodes.buildSpecAndDestroyUnrenderedNodes();\r\n            this._specs = result.specs;\r\n            this._commitOutput.target = result.specs;\r\n            this._eventOutput.emit('layoutend', eventData);\r\n            this._eventOutput.emit('reflow', {\r\n                target: this\r\n            });\r\n        }\r\n        else if (this.options.flow) {\r\n\r\n            // Update output and optionally emit event\r\n            result = this._nodes.buildSpecAndDestroyUnrenderedNodes();\r\n            this._specs = result.specs;\r\n            this._commitOutput.target = result.specs;\r\n            if (result.modified) {\r\n                this._eventOutput.emit('reflow', {\r\n                    target: this\r\n                });\r\n            }\r\n        }\r\n\r\n        // Render child-nodes every commit\r\n        var target = this._commitOutput.target;\r\n        for (var i = 0, j = target.length; i < j; i++) {\r\n            if (target[i].renderNode) {\r\n                target[i].target = target[i].renderNode.render();\r\n            }\r\n        }\r\n\r\n        // Add our cleanup-registration id also to the list, so that the\r\n        // cleanup function is called by famo.us when the LayoutController is\r\n        // removed from the render-tree.\r\n        if (!target.length || (target[target.length-1] !== this._cleanupRegistration)) {\r\n            target.push(this._cleanupRegistration);\r\n        }\r\n\r\n        // Translate dependent on origin\r\n        if (origin && ((origin[0] !== 0) || (origin[1] !== 0))) {\r\n            transform = Transform.moveThen([-size[0]*origin[0], -size[1]*origin[1], 0], transform);\r\n        }\r\n        this._commitOutput.size = size;\r\n        this._commitOutput.opacity = opacity;\r\n        this._commitOutput.transform = transform;\r\n        return this._commitOutput;\r\n    };\r\n\r\n    /**\r\n     * Called whenever the layout-controller is removed from the render-tree.\r\n     *\r\n     * @private\r\n     * @param {Context} context cleanup context\r\n     */\r\n    LayoutController.prototype.cleanup = function(context) {\r\n        if (this.options.flow) {\r\n            this._resetFlowState = true;\r\n        }\r\n    };\r\n\r\n    module.exports = LayoutController;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutController.js\n ** module id = 40\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * Helper object used to iterate through items sequentially. Used in\r\n     *   views that deal with layout.  A ViewSequence object conceptually points\r\n     *   to a node in a linked list.\r\n     *\r\n     * @class ViewSequence\r\n     *\r\n     * @constructor\r\n     * @param {Object|Array} options Options object, or content array.\r\n     * @param {Number} [options.index] starting index.\r\n     * @param {Number} [options.array] Array of elements to populate the ViewSequence\r\n     * @param {Object} [options._] Optional backing store (internal\r\n     * @param {Boolean} [options.loop] Whether to wrap when accessing elements just past the end\r\n     *   (or beginning) of the sequence.\r\n     */\r\n    function ViewSequence(options) {\r\n        if (!options) options = [];\r\n        if (options instanceof Array) options = {array: options};\r\n\r\n        this._ = null;\r\n        this.index = options.index || 0;\r\n\r\n        if (options.array) this._ = new (this.constructor.Backing)(options.array);\r\n        else if (options._) this._ = options._;\r\n\r\n        if (this.index === this._.firstIndex) this._.firstNode = this;\r\n        if (this.index === this._.firstIndex + this._.array.length - 1) this._.lastNode = this;\r\n\r\n        if (options.loop !== undefined) this._.loop = options.loop;\r\n\r\n        if (options.trackSize !== undefined) this._.trackSize = options.trackSize;\r\n\r\n        this._previousNode = null;\r\n        this._nextNode = null;\r\n    }\r\n\r\n    // constructor for internal storage\r\n    ViewSequence.Backing = function Backing(array) {\r\n        this.array = array;\r\n        this.firstIndex = 0;\r\n        this.loop = false;\r\n        this.firstNode = null;\r\n        this.lastNode = null;\r\n        this.cumulativeSizes = [[0, 0]];\r\n        this.sizeDirty = true;\r\n        this.trackSize = false;\r\n    };\r\n\r\n    // Get value \"i\" slots away from the first index.\r\n    ViewSequence.Backing.prototype.getValue = function getValue(i) {\r\n        var _i = i - this.firstIndex;\r\n        if (_i < 0 || _i >= this.array.length) return null;\r\n        return this.array[_i];\r\n    };\r\n\r\n    // Set value \"i\" slots away from the first index.\r\n    ViewSequence.Backing.prototype.setValue = function setValue(i, value) {\r\n        this.array[i - this.firstIndex] = value;\r\n    };\r\n\r\n    // Get sequence size from backing up to index\r\n    // TODO: remove from viewSequence with proper abstraction\r\n    ViewSequence.Backing.prototype.getSize = function getSize(index) {\r\n        return this.cumulativeSizes[index];\r\n    };\r\n\r\n    // Calculates cumulative size\r\n    // TODO: remove from viewSequence with proper abstraction\r\n    ViewSequence.Backing.prototype.calculateSize = function calculateSize(index) {\r\n        index = index || this.array.length;\r\n        var size = [0, 0];\r\n        for (var i = 0; i < index; i++) {\r\n            var nodeSize = this.array[i].getSize();\r\n            if (!nodeSize) return undefined;\r\n            if (size[0] !== undefined) {\r\n                if (nodeSize[0] === undefined) size[0] = undefined;\r\n                else size[0] += nodeSize[0];\r\n            }\r\n            if (size[1] !== undefined) {\r\n                if (nodeSize[1] === undefined) size[1] = undefined;\r\n                else size[1] += nodeSize[1];\r\n            }\r\n            this.cumulativeSizes[i + 1] = size.slice();\r\n        }\r\n        this.sizeDirty = false;\r\n        return size;\r\n    };\r\n\r\n    // After splicing into the backing store, restore the indexes of each node correctly.\r\n    ViewSequence.Backing.prototype.reindex = function reindex(start, removeCount, insertCount) {\r\n        if (!this.array[0]) return;\r\n\r\n        var i = 0;\r\n        var index = this.firstIndex;\r\n        var indexShiftAmount = insertCount - removeCount;\r\n        var node = this.firstNode;\r\n\r\n        // find node to begin\r\n        while (index < start - 1) {\r\n            node = node.getNext();\r\n            index++;\r\n        }\r\n        // skip removed nodes\r\n        var spliceStartNode = node;\r\n        for (i = 0; i < removeCount; i++) {\r\n            node = node.getNext();\r\n            if (node) node._previousNode = spliceStartNode;\r\n        }\r\n        var spliceResumeNode = node ? node.getNext() : null;\r\n        // generate nodes for inserted items\r\n        spliceStartNode._nextNode = null;\r\n        node = spliceStartNode;\r\n        for (i = 0; i < insertCount; i++) node = node.getNext();\r\n        index += insertCount;\r\n        // resume the chain\r\n        if (node !== spliceResumeNode) {\r\n            node._nextNode = spliceResumeNode;\r\n            if (spliceResumeNode) spliceResumeNode._previousNode = node;\r\n        }\r\n        if (spliceResumeNode) {\r\n            node = spliceResumeNode;\r\n            index++;\r\n            while (node && index < this.array.length + this.firstIndex) {\r\n                if (node._nextNode) node.index += indexShiftAmount;\r\n                else node.index = index;\r\n                node = node.getNext();\r\n                index++;\r\n            }\r\n        }\r\n        if (this.trackSize) this.sizeDirty = true;\r\n    };\r\n\r\n    /**\r\n     * Return ViewSequence node previous to this node in the list, respecting looping if applied.\r\n     *\r\n     * @method getPrevious\r\n     * @return {ViewSequence} previous node.\r\n     */\r\n    ViewSequence.prototype.getPrevious = function getPrevious() {\r\n        var len = this._.array.length;\r\n        if (!len) {\r\n            this._previousNode = null;\r\n        }\r\n        else if (this.index === this._.firstIndex) {\r\n            if (this._.loop) {\r\n                this._previousNode = this._.lastNode || new (this.constructor)({_: this._, index: this._.firstIndex + len - 1});\r\n                this._previousNode._nextNode = this;\r\n            }\r\n            else {\r\n                this._previousNode = null;\r\n            }\r\n        }\r\n        else if (!this._previousNode) {\r\n            this._previousNode = new (this.constructor)({_: this._, index: this.index - 1});\r\n            this._previousNode._nextNode = this;\r\n        }\r\n        return this._previousNode;\r\n    };\r\n\r\n    /**\r\n     * Return ViewSequence node next after this node in the list, respecting looping if applied.\r\n     *\r\n     * @method getNext\r\n     * @return {ViewSequence} previous node.\r\n     */\r\n    ViewSequence.prototype.getNext = function getNext() {\r\n        var len = this._.array.length;\r\n        if (!len) {\r\n            this._nextNode = null;\r\n        }\r\n        else if (this.index === this._.firstIndex + len - 1) {\r\n            if (this._.loop) {\r\n                this._nextNode = this._.firstNode || new (this.constructor)({_: this._, index: this._.firstIndex});\r\n                this._nextNode._previousNode = this;\r\n            }\r\n            else {\r\n                this._nextNode = null;\r\n            }\r\n        }\r\n        else if (!this._nextNode) {\r\n            this._nextNode = new (this.constructor)({_: this._, index: this.index + 1});\r\n            this._nextNode._previousNode = this;\r\n        }\r\n        return this._nextNode;\r\n    };\r\n\r\n    /**\r\n     * Return index of the provided item in the backing array\r\n     *\r\n     * @method indexOf\r\n     * @return {Number} index or -1 if not found\r\n     */\r\n    ViewSequence.prototype.indexOf = function indexOf(item) {\r\n        return this._.array.indexOf(item);\r\n    };\r\n\r\n    /**\r\n     * Return index of this ViewSequence node.\r\n     *\r\n     * @method getIndex\r\n     * @return {Number} index\r\n     */\r\n    ViewSequence.prototype.getIndex = function getIndex() {\r\n        return this.index;\r\n    };\r\n\r\n    /**\r\n     * Return printable version of this ViewSequence node.\r\n     *\r\n     * @method toString\r\n     * @return {string} this index as a string\r\n     */\r\n    ViewSequence.prototype.toString = function toString() {\r\n        return '' + this.index;\r\n    };\r\n\r\n    /**\r\n     * Add one or more objects to the beginning of the sequence.\r\n     *\r\n     * @method unshift\r\n     * @param {...Object} value arguments array of objects\r\n     */\r\n    ViewSequence.prototype.unshift = function unshift(value) {\r\n        this._.array.unshift.apply(this._.array, arguments);\r\n        this._.firstIndex -= arguments.length;\r\n        if (this._.trackSize) this._.sizeDirty = true;\r\n    };\r\n\r\n    /**\r\n     * Add one or more objects to the end of the sequence.\r\n     *\r\n     * @method push\r\n     * @param {...Object} value arguments array of objects\r\n     */\r\n    ViewSequence.prototype.push = function push(value) {\r\n        this._.array.push.apply(this._.array, arguments);\r\n        if (this._.trackSize) this._.sizeDirty = true;\r\n    };\r\n\r\n    /**\r\n     * Remove objects from the sequence\r\n     *\r\n     * @method splice\r\n     * @param {Number} index starting index for removal\r\n     * @param {Number} howMany how many elements to remove\r\n     * @param {...Object} value arguments array of objects\r\n     */\r\n    ViewSequence.prototype.splice = function splice(index, howMany) {\r\n        var values = Array.prototype.slice.call(arguments, 2);\r\n        this._.array.splice.apply(this._.array, [index - this._.firstIndex, howMany].concat(values));\r\n        this._.reindex(index, howMany, values.length);\r\n    };\r\n\r\n    /**\r\n     * Exchange this element's sequence position with another's.\r\n     *\r\n     * @method swap\r\n     * @param {ViewSequence} other element to swap with.\r\n     */\r\n    ViewSequence.prototype.swap = function swap(other) {\r\n        var otherValue = other.get();\r\n        var myValue = this.get();\r\n        this._.setValue(this.index, otherValue);\r\n        this._.setValue(other.index, myValue);\r\n\r\n        var myPrevious = this._previousNode;\r\n        var myNext = this._nextNode;\r\n        var myIndex = this.index;\r\n        var otherPrevious = other._previousNode;\r\n        var otherNext = other._nextNode;\r\n        var otherIndex = other.index;\r\n\r\n        this.index = otherIndex;\r\n        this._previousNode = (otherPrevious === this) ? other : otherPrevious;\r\n        if (this._previousNode) this._previousNode._nextNode = this;\r\n        this._nextNode = (otherNext === this) ? other : otherNext;\r\n        if (this._nextNode) this._nextNode._previousNode = this;\r\n\r\n        other.index = myIndex;\r\n        other._previousNode = (myPrevious === other) ? this : myPrevious;\r\n        if (other._previousNode) other._previousNode._nextNode = other;\r\n        other._nextNode = (myNext === other) ? this : myNext;\r\n        if (other._nextNode) other._nextNode._previousNode = other;\r\n\r\n        if (this.index === this._.firstIndex) this._.firstNode = this;\r\n        else if (this.index === this._.firstIndex + this._.array.length - 1) this._.lastNode = this;\r\n        if (other.index === this._.firstIndex) this._.firstNode = other;\r\n        else if (other.index === this._.firstIndex + this._.array.length - 1) this._.lastNode = other;\r\n        if (this._.trackSize) this._.sizeDirty = true;\r\n    };\r\n\r\n   /**\r\n     * Return value of this ViewSequence node.\r\n     *\r\n     * @method get\r\n     * @return {Object} value of thiss\r\n     */\r\n    ViewSequence.prototype.get = function get() {\r\n        return this._.getValue(this.index);\r\n    };\r\n\r\n   /**\r\n     * Call getSize() on the contained View.\r\n     *\r\n     * @method getSize\r\n     * @return {Array.Number} [width, height]\r\n     */\r\n    ViewSequence.prototype.getSize = function getSize() {\r\n        var target = this.get();\r\n        return target ? target.getSize() : null;\r\n    };\r\n\r\n    /**\r\n     * Generate a render spec from the contents of this component.\r\n     * Specifically, this will render the value at the current index.\r\n     * @private\r\n     * @method render\r\n     * @return {number} Render spec for this component\r\n     */\r\n    ViewSequence.prototype.render = function render() {\r\n        if (this._.trackSize && this._.sizeDirty) this._.calculateSize();\r\n        var target = this.get();\r\n        return target ? target.render.apply(target, arguments) : null;\r\n    };\r\n\r\n    module.exports = ViewSequence;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/ViewSequence.js\n ** module id = 41\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2015\r\n */\r\n\r\n/*global console*/\r\n/*eslint no-console:0 */\r\n\r\n/**\r\n * @private\r\n */\r\nfunction assert(value, message) {\r\n    if (!value) {\r\n        //debugger;\r\n        throw new Error(message);\r\n    }\r\n}\r\n\r\n/**\r\n * Linked-list based implementation of a view-sequence which fixes\r\n * several issues in the stock famo.us ViewSequence.\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * @class\r\n     * @param {Object} options Configurable options.\r\n     * @alias module:LinkedListViewSequence\r\n     */\r\n    function LinkedListViewSequence(items) {\r\n        if (Array.isArray(items)) {\r\n            this._ = new (this.constructor.Backing)(this);\r\n            for (var i = 0; i < items.length; i++) {\r\n                this.push(items[i]);\r\n            }\r\n        }\r\n        else {\r\n            this._ = items || new (this.constructor.Backing)(this);\r\n        }\r\n    }\r\n\r\n    LinkedListViewSequence.Backing = function Backing() {\r\n        this.length = 0;\r\n        //this.head = undefined;\r\n        //this.tail = undefined;\r\n    };\r\n\r\n    /*LinkedListViewSequence.prototype.verifyIntegrity = function() {\r\n        var item = this._.head;\r\n        var count = 0;\r\n        while (item) {\r\n          assert(item._value, 'no rendernode at index: ' + count);\r\n          count++;\r\n          assert(count <= this._.length, 'head -> tail, node-count exceeds length: ' + count + ' > ' + this._.length);\r\n          item = item._next;\r\n        }\r\n        assert(count === this._.length, 'head -> tail, different count: ' + count + ' != ' + this._.length);\r\n        item = this._.tail;\r\n        count = 0;\r\n        while (item) {\r\n          count++;\r\n          assert(count <= this._.length, 'tail -> head, node-count exceeds length: ' + count + ' > ' + this._.length);\r\n          item = item._prev;\r\n        }\r\n        assert(count === this._.length, 'tail -> head, different count: ' + count + ' != ' + this._.length);\r\n    };*/\r\n\r\n    /**\r\n     * Get head node.\r\n     *\r\n     * @return {LinkedListViewSequence} head node.\r\n     */\r\n    LinkedListViewSequence.prototype.getHead = function() {\r\n        return this._.head;\r\n    };\r\n\r\n    /**\r\n     * Get tail node.\r\n     *\r\n     * @return {LinkedListViewSequence} tail node.\r\n     */\r\n    LinkedListViewSequence.prototype.getTail = function() {\r\n        return this._.tail;\r\n    };\r\n\r\n    /**\r\n     * Get previous node.\r\n     *\r\n     * @return {LinkedListViewSequence} previous node.\r\n     */\r\n    LinkedListViewSequence.prototype.getPrevious = function() {\r\n        return this._prev;\r\n    };\r\n\r\n    /**\r\n     * Get next node.\r\n     *\r\n     * @return {LinkedListViewSequence} next node.\r\n     */\r\n    LinkedListViewSequence.prototype.getNext = function() {\r\n        return this._next;\r\n    };\r\n\r\n    /**\r\n     * Gets the value of this node.\r\n     *\r\n     * @return {Renderable} surface/view\r\n     */\r\n    LinkedListViewSequence.prototype.get = function() {\r\n        return this._value;\r\n    };\r\n\r\n    /**\r\n     * Sets the value of this node.\r\n     *\r\n     * @param {Renderable} value surface/view\r\n     * @return {LinkedListViewSequence} this\r\n     */\r\n    LinkedListViewSequence.prototype.set = function(value) {\r\n        this._value = value;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Get the index of the node.\r\n     *\r\n     * @return {Number} Index of node.\r\n     */\r\n    LinkedListViewSequence.prototype.getIndex = function() {\r\n        return this._value ? this.indexOf(this._value) : 0;\r\n    };\r\n\r\n    /**\r\n     * Get human readable string verion of the node.\r\n     *\r\n     * @return {String} node as a human readable string\r\n     */\r\n    LinkedListViewSequence.prototype.toString = function() {\r\n        return '' + this.getIndex();\r\n    };\r\n\r\n    /**\r\n     * Finds the index of a given render-node.\r\n     *\r\n     * @param {Renderable} item Render-node to find.\r\n     * @return {Number} Index or -1 when not found.\r\n     */\r\n    LinkedListViewSequence.prototype.indexOf = function(item) {\r\n        var sequence = this._.head;\r\n        var index = 0;\r\n        while (sequence) {\r\n            if (sequence._value === item) {\r\n                return index;\r\n            }\r\n            index++;\r\n            sequence = sequence._next;\r\n        }\r\n        return -1;\r\n    };\r\n\r\n    /**\r\n     * Finds the view-sequence item at the given index.\r\n     *\r\n     * @param {Number} index 0-based index.\r\n     * @return {LinkedListViewSequence} View-sequence node or undefined.\r\n     */\r\n    LinkedListViewSequence.prototype.findByIndex = function(index) {\r\n        index = (index === -1) ? (this._.length - 1) : index;\r\n        if ((index < 0) || (index >= this._.length)) {\r\n            return undefined;\r\n        }\r\n\r\n        // search for specific index\r\n        var searchIndex;\r\n        var searchSequence;\r\n        if (index > (this._.length / 2)) {\r\n            // start searching from the tail\r\n            searchSequence = this._.tail;\r\n            searchIndex = this._.length - 1;\r\n            while (searchIndex > index) {\r\n                searchSequence = searchSequence._prev;\r\n                searchIndex--;\r\n            }\r\n        }\r\n        else {\r\n            // start searching from the head\r\n            searchSequence = this._.head;\r\n            searchIndex = 0;\r\n            while (searchIndex < index) {\r\n                searchSequence = searchSequence._next;\r\n                searchIndex++;\r\n            }\r\n        }\r\n        return searchSequence;\r\n    };\r\n\r\n    /**\r\n     * Finds the view-sequence node by the given renderable.\r\n     *\r\n     * @param {Renderable} value Render-node to search for.\r\n     * @return {LinkedListViewSequence} View-sequence node or undefined.\r\n     */\r\n    LinkedListViewSequence.prototype.findByValue = function(value) {\r\n        var sequence = this._.head;\r\n        while (sequence) {\r\n            if (sequence.get() === value) {\r\n                return sequence;\r\n            }\r\n            sequence = sequence._next;\r\n        }\r\n        return undefined;\r\n    };\r\n\r\n    /**\r\n     * Inserts an item into the view-sequence.\r\n     *\r\n     * @param {Number} index 0-based index (-1 inserts at the tail).\r\n     * @param {Renderable} renderNode Renderable to insert.\r\n     * @return {LinkedListViewSequence} newly inserted view-sequence node.\r\n     */\r\n    LinkedListViewSequence.prototype.insert = function(index, renderNode) {\r\n        index = (index === -1) ? this._.length : index;\r\n        /*if (this._.debug) {\r\n            console.log(this._.logName + ': insert (length: ' + this._.length + ')');\r\n        }*/\r\n        if (!this._.length) {\r\n            assert(index === 0, 'inserting in empty view-sequence, but not at index 0 (but ' + index + ' instead)');\r\n            this._value = renderNode;\r\n            this._.head = this;\r\n            this._.tail = this;\r\n            this._.length = 1;\r\n            //this.verifyIntegrity();\r\n            return this;\r\n        }\r\n        var sequence;\r\n        if (index === 0) {\r\n            // insert at head (quick!)\r\n            sequence = new LinkedListViewSequence(this._);\r\n            sequence._value = renderNode;\r\n            sequence._next = this._.head;\r\n            this._.head._prev = sequence;\r\n            this._.head = sequence;\r\n        }\r\n        else if (index === this._.length) {\r\n            // insert at tail (quick!)\r\n            sequence = new LinkedListViewSequence(this._);\r\n            sequence._value = renderNode;\r\n            sequence._prev = this._.tail;\r\n            this._.tail._next = sequence;\r\n            this._.tail = sequence;\r\n        }\r\n        else {\r\n            // search for specific index (slow!) ... but fricking solid famo.us...\r\n            var searchIndex;\r\n            var searchSequence;\r\n            assert((index > 0) && (index < this._.length), 'invalid insert index: ' + index + ' (length: ' + this._.length + ')');\r\n            if (index > (this._.length / 2)) {\r\n                // start searching from the tail\r\n                searchSequence = this._.tail;\r\n                searchIndex = this._.length - 1;\r\n                while (searchIndex >= index) {\r\n                    searchSequence = searchSequence._prev;\r\n                    searchIndex--;\r\n                }\r\n            }\r\n            else {\r\n                // start searching from the head\r\n                searchSequence = this._.head;\r\n                searchIndex = 1;\r\n                while (searchIndex < index) {\r\n                    searchSequence = searchSequence._next;\r\n                    searchIndex++;\r\n                }\r\n            }\r\n            // insert after searchSequence\r\n            sequence = new LinkedListViewSequence(this._);\r\n            sequence._value = renderNode;\r\n            sequence._prev = searchSequence;\r\n            sequence._next = searchSequence._next;\r\n            searchSequence._next._prev = sequence;\r\n            searchSequence._next = sequence;\r\n        }\r\n        this._.length++;\r\n        //this.verifyIntegrity();\r\n        return sequence;\r\n    };\r\n\r\n    /**\r\n     * Removes the view-sequence item at the given index.\r\n     *\r\n     * @param {LinkedListViewSequence} sequence Node to remove\r\n     * @return {LinkedListViewSequence} New current view-sequence node to display.\r\n     */\r\n    LinkedListViewSequence.prototype.remove = function(sequence) {\r\n        /*if (this._.debug) {\r\n            console.log(this._.logName + ': remove (length: ' + this._.length + ')');\r\n        }*/\r\n        if (sequence._prev && sequence._next) {\r\n            sequence._prev._next = sequence._next;\r\n            sequence._next._prev = sequence._prev;\r\n            this._.length--;\r\n            //this.verifyIntegrity();\r\n            return (sequence === this) ? sequence._prev : this;\r\n        }\r\n        else if (!sequence._prev && !sequence._next) {\r\n            assert(sequence === this, 'only one sequence exists, should be this one');\r\n            assert(this._value, 'last node should have a value');\r\n            assert(this._.head, 'head is invalid');\r\n            assert(this._.tail, 'tail is invalid');\r\n            assert(this._.length === 1, 'length should be 1');\r\n            this._value = undefined;\r\n            this._.head = undefined;\r\n            this._.tail = undefined;\r\n            this._.length--;\r\n            //this.verifyIntegrity();\r\n            return this;\r\n        }\r\n        else if (!sequence._prev) {\r\n            assert(this._.head === sequence, 'head is invalid');\r\n            sequence._next._prev = undefined;\r\n            this._.head = sequence._next;\r\n            this._.length--;\r\n            //this.verifyIntegrity();\r\n            return (sequence === this) ? this._.head : this;\r\n        }\r\n        else {\r\n            assert(!sequence._next, 'next should be empty');\r\n            assert(this._.tail === sequence, 'tail is invalid');\r\n            sequence._prev._next = undefined;\r\n            this._.tail = sequence._prev;\r\n            this._.length--;\r\n            //this.verifyIntegrity();\r\n            return (sequence === this) ? this._.tail : this;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Gets the number of items in the view-sequence.\r\n     *\r\n     * @return {Number} length.\r\n     */\r\n    LinkedListViewSequence.prototype.getLength = function() {\r\n        return this._.length;\r\n    };\r\n\r\n    /**\r\n     * Removes all items.\r\n     *\r\n     * @return {LinkedListViewSequence} Last remaining view-sequence node.\r\n     */\r\n    LinkedListViewSequence.prototype.clear = function() {\r\n        var sequence = this; //eslint-disable-line consistent-this\r\n        while (this._.length) {\r\n          sequence = sequence.remove(this._.tail);\r\n        }\r\n        //sequence.verifyIntegrity();\r\n        return sequence;\r\n    };\r\n\r\n    /**\r\n     * Inserts an item at the beginning of the view-sequence.\r\n     *\r\n     * @param {Renderable} renderNode Renderable to insert.\r\n     * @return {LinkedListViewSequence} newly inserted view-sequence node.\r\n     */\r\n    LinkedListViewSequence.prototype.unshift = function(renderNode) {\r\n        return this.insert(0, renderNode);\r\n    };\r\n\r\n    /**\r\n     * Inserts an item at the end of the view-sequence.\r\n     *\r\n     * @param {Renderable} renderNode Renderable to insert.\r\n     * @return {LinkedListViewSequence} newly inserted view-sequence node.\r\n     */\r\n    LinkedListViewSequence.prototype.push = function(renderNode) {\r\n        return this.insert(-1, renderNode);\r\n    };\r\n\r\n    LinkedListViewSequence.prototype.splice = function(index, remove, items) {\r\n        if (console.error) {\r\n            console.error('LinkedListViewSequence.splice is not supported');\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Swaps the values of two view-sequence nodes.\r\n     *\r\n     * @param {Number} index Index of the first item to swap.\r\n     * @param {Number} index2 Index of item to swap with.\r\n     * @return {LinkedListViewSequence} this\r\n     */\r\n    LinkedListViewSequence.prototype.swap = function(index, index2) {\r\n        var sequence1 = this.findByIndex(index);\r\n        if (!sequence1) {\r\n            throw new Error('Invalid first index specified to swap: ' + index);\r\n        }\r\n        var sequence2 = this.findByIndex(index2);\r\n        if (!sequence2) {\r\n            throw new Error('Invalid second index specified to swap: ' + index2);\r\n        }\r\n        var swap = sequence1._value;\r\n        sequence1._value = sequence2._value;\r\n        sequence2._value = swap;\r\n        //this.verifyIntegrity();\r\n        return this;\r\n    };\r\n\r\n    module.exports = LinkedListViewSequence;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LinkedListViewSequence.js\n ** module id = 42\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014/2015\r\n */\r\n\r\n/**\r\n * LayoutNodeManager is a private class used internally by LayoutController, ScrollController\r\n * and ScrollView. It manages the layout-nodes that are rendered and exposes the layout-context\r\n * which is passed along to the layout-function.\r\n *\r\n * LayoutNodeManager keeps track of every rendered node through an ordered double-linked\r\n * list. The first time the layout-function is called, the linked list is created.\r\n * After that, the linked list is updated to reflect the output of the layout-function.\r\n * When the layout is unchanged, then the linked-list exactly matches the order of the\r\n * accessed nodes in the layout-function, and no layout-nodes need to be created or\r\n * re-ordered.\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var LayoutContext = require('./LayoutContext');\r\n    var LayoutUtility = require('./LayoutUtility');\r\n    var Surface = require('famous/core/Surface');\r\n    var RenderNode = require('famous/core/RenderNode');\r\n\r\n    var MAX_POOL_SIZE = 100;\r\n\r\n    /**\r\n     * @class\r\n     * @param {LayoutNode} LayoutNode Layout-nodes to create\r\n     * @param {Function} initLayoutNodeFn function to use when initializing new nodes\r\n     * @alias module:LayoutNodeManager\r\n     */\r\n    function LayoutNodeManager(LayoutNode, initLayoutNodeFn) {\r\n        this.LayoutNode = LayoutNode;\r\n        this._initLayoutNodeFn = initLayoutNodeFn;\r\n        this._layoutCount = 0;\r\n        this._context = new LayoutContext({\r\n            next: _contextNext.bind(this),\r\n            prev: _contextPrev.bind(this),\r\n            get: _contextGet.bind(this),\r\n            set: _contextSet.bind(this),\r\n            resolveSize: _contextResolveSize.bind(this),\r\n            size: [0, 0]\r\n            //,cycle: 0\r\n        });\r\n        this._contextState = {\r\n            // enumation state for the context\r\n            //nextSequence: undefined,\r\n            //prevSequence: undefined,\r\n            //next: undefined\r\n            //prev: undefined\r\n            //start: undefined\r\n        };\r\n        this._pool = {\r\n            layoutNodes: {\r\n                size: 0\r\n                //first: undefined\r\n            },\r\n            resolveSize: [0, 0]\r\n        };\r\n        //this._first = undefined; // first item in the linked list\r\n        //this._nodesById = undefined;\r\n        //this._trueSizeRequested = false;\r\n    }\r\n\r\n    /**\r\n     * Prepares the manager for a new layout iteration, after which it returns the\r\n     * context which can be used by the layout-function.\r\n     *\r\n     * @param {ViewSequence} viewSequence first node to layout\r\n     * @param {Object} [nodesById] dictionary to use when looking up nodes by id\r\n     * @return {LayoutContext} context which can be passed to the layout-function\r\n     */\r\n    LayoutNodeManager.prototype.prepareForLayout = function(viewSequence, nodesById, contextData) {\r\n\r\n        // Reset all nodes\r\n        var node = this._first;\r\n        while (node) {\r\n            node.reset();\r\n            node = node._next;\r\n        }\r\n\r\n        // Prepare data\r\n        var context = this._context;\r\n        this._layoutCount++;\r\n        this._nodesById = nodesById;\r\n        this._trueSizeRequested = false;\r\n        this._reevalTrueSize =\r\n            contextData.reevalTrueSize ||\r\n            !context.size ||\r\n            (context.size[0] !== contextData.size[0]) ||\r\n            (context.size[1] !== contextData.size[1]);\r\n\r\n        // Prepare context for enumation\r\n        var contextState = this._contextState;\r\n        contextState.startSequence = viewSequence;\r\n        contextState.nextSequence = viewSequence;\r\n        contextState.prevSequence = viewSequence;\r\n        contextState.start = undefined;\r\n        contextState.nextGetIndex = 0;\r\n        contextState.prevGetIndex = 0;\r\n        contextState.nextSetIndex = 0;\r\n        contextState.prevSetIndex = 0;\r\n        contextState.addCount = 0;\r\n        contextState.removeCount = 0;\r\n        contextState.lastRenderNode = undefined;\r\n\r\n        // Prepare content\r\n        context.size[0] = contextData.size[0];\r\n        context.size[1] = contextData.size[1];\r\n        context.direction = contextData.direction;\r\n        context.reverse = contextData.reverse;\r\n        context.alignment = contextData.reverse ? 1 : 0;\r\n        context.scrollOffset = contextData.scrollOffset || 0;\r\n        context.scrollStart = contextData.scrollStart || 0;\r\n        context.scrollEnd = contextData.scrollEnd || context.size[context.direction];\r\n        //context.cycle++;\r\n        return context;\r\n    };\r\n\r\n    /**\r\n     * When the layout-function no longer lays-out the node, then it is not longer\r\n     * being invalidated. In this case the destination is set to the removeSpec\r\n     * after which the node is animated towards the remove-spec.\r\n     *\r\n     * @param {Spec} [removeSpec] spec towards which the no longer layed-out nodes are animated\r\n     */\r\n    LayoutNodeManager.prototype.removeNonInvalidatedNodes = function(removeSpec) {\r\n        var node = this._first;\r\n        while (node) {\r\n\r\n            // If a node existed, but it is no longer being layed out,\r\n            // then set it to the '_removing' state.\r\n            if (!node._invalidated && !node._removing) {\r\n                node.remove(removeSpec);\r\n            }\r\n\r\n            // Move to next node\r\n            node = node._next;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Cleans up any unaccessed virtual nodes that have been created by a VirtualViewSequence.\r\n     */\r\n    LayoutNodeManager.prototype.removeVirtualViewSequenceNodes = function() {\r\n        if (this._contextState.startSequence && this._contextState.startSequence.cleanup) {\r\n            this._contextState.startSequence.cleanup();\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Builds the render-spec and destroy any layout-nodes that no longer\r\n     * return a render-spec.\r\n     *\r\n     * @return {Array.Spec} array of Specs\r\n     */\r\n    LayoutNodeManager.prototype.buildSpecAndDestroyUnrenderedNodes = function(translate) {\r\n        var specs = [];\r\n        var result = {\r\n            specs: specs,\r\n            modified: false\r\n        };\r\n        var node = this._first;\r\n        while (node) {\r\n            var modified = node._specModified;\r\n            var spec = node.getSpec();\r\n            if (spec.removed) {\r\n\r\n                // Destroy node\r\n                var destroyNode = node;\r\n                node = node._next;\r\n                _destroyNode.call(this, destroyNode);\r\n\r\n                // Mark as modified\r\n                result.modified = true;\r\n            }\r\n            else {\r\n\r\n                // Update stats\r\n                if (modified) {\r\n                    if (spec.transform && translate) {\r\n                        spec.transform[12] += translate[0];\r\n                        spec.transform[13] += translate[1];\r\n                        spec.transform[14] += translate[2];\r\n                        spec.transform[12] = Math.round(spec.transform[12] * 100000) / 100000;\r\n                        spec.transform[13] = Math.round(spec.transform[13] * 100000) / 100000;\r\n                        if (spec.endState) {\r\n                            spec.endState.transform[12] += translate[0];\r\n                            spec.endState.transform[13] += translate[1];\r\n                            spec.endState.transform[14] += translate[2];\r\n                            spec.endState.transform[12] = Math.round(spec.endState.transform[12] * 100000) / 100000;\r\n                            spec.endState.transform[13] = Math.round(spec.endState.transform[13] * 100000) / 100000;\r\n                        }\r\n                    }\r\n                    result.modified = true;\r\n                }\r\n\r\n                // Set meta data\r\n                spec.usesTrueSize = node.usesTrueSize;\r\n                spec.trueSizeRequested = node.trueSizeRequested;\r\n\r\n                // Add node to result output\r\n                specs.push(spec);\r\n                node = node._next;\r\n            }\r\n        }\r\n        this._contextState.addCount = 0;\r\n        this._contextState.removeCount = 0;\r\n        return result;\r\n    };\r\n\r\n    /**\r\n     * Get the layout-node by its renderable.\r\n     *\r\n     * @param {Object} renderable renderable\r\n     * @return {LayoutNode} layout-node or undefined\r\n     */\r\n    LayoutNodeManager.prototype.getNodeByRenderNode = function(renderable) {\r\n        var node = this._first;\r\n        while (node) {\r\n            if (node.renderNode === renderable) {\r\n                return node;\r\n            }\r\n            node = node._next;\r\n        }\r\n        return undefined;\r\n    };\r\n\r\n    /**\r\n     * Inserts a layout-node into the linked-list.\r\n     *\r\n     * @param {LayoutNode} node layout-node to insert\r\n     */\r\n    LayoutNodeManager.prototype.insertNode = function(node) {\r\n        node._next = this._first;\r\n        if (this._first) {\r\n            this._first._prev = node;\r\n        }\r\n        this._first = node;\r\n    };\r\n\r\n    /**\r\n     * Sets the options for all nodes.\r\n     *\r\n     * @param {Object} options node options\r\n     */\r\n    LayoutNodeManager.prototype.setNodeOptions = function(options) {\r\n        this._nodeOptions = options;\r\n        var node = this._first;\r\n        while (node) {\r\n            node.setOptions(options);\r\n            node = node._next;\r\n        }\r\n        node = this._pool.layoutNodes.first;\r\n        while (node) {\r\n            node.setOptions(options);\r\n            node = node._next;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Pre-allocate layout-nodes ahead of using them.\r\n     *\r\n     * @param {Number} count number of nodes to pre-allocate with the given spec\r\n     * @param {Spec} [spec] render-spec (defined the node properties which to pre-allocate)\r\n     */\r\n    LayoutNodeManager.prototype.preallocateNodes = function(count, spec) {\r\n        var nodes = [];\r\n        for (var i = 0; i < count; i++) {\r\n            nodes.push(this.createNode(undefined, spec));\r\n        }\r\n        for (i = 0; i < count; i++) {\r\n            _destroyNode.call(this, nodes[i]);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Creates a layout-node\r\n     *\r\n     * @param {Object} renderNode render-node for whom to create a layout-node for\r\n     * @return {LayoutNode} layout-node\r\n     */\r\n    LayoutNodeManager.prototype.createNode = function(renderNode, spec) {\r\n        var node;\r\n        if (this._pool.layoutNodes.first) {\r\n            node = this._pool.layoutNodes.first;\r\n            this._pool.layoutNodes.first = node._next;\r\n            this._pool.layoutNodes.size--;\r\n            node.constructor.apply(node, arguments);\r\n        }\r\n        else {\r\n            node = new this.LayoutNode(renderNode, spec);\r\n            if (this._nodeOptions) {\r\n                node.setOptions(this._nodeOptions);\r\n            }\r\n        }\r\n        node._prev = undefined;\r\n        node._next = undefined;\r\n        node._viewSequence = undefined;\r\n        node._layoutCount = 0;\r\n        if (this._initLayoutNodeFn) {\r\n            this._initLayoutNodeFn.call(this, node, spec);\r\n        }\r\n        return node;\r\n    };\r\n\r\n    /**\r\n     * Removes all nodes.\r\n     */\r\n    LayoutNodeManager.prototype.removeAll = function() {\r\n        var node = this._first;\r\n        while (node) {\r\n          var next = node._next;\r\n          _destroyNode.call(this, node);\r\n          node = next;\r\n        }\r\n        this._first = undefined;\r\n    };\r\n\r\n    /**\r\n     * Destroys a layout-node\r\n     */\r\n    function _destroyNode(node) {\r\n\r\n        // Remove node from linked-list\r\n        if (node._next) {\r\n            node._next._prev = node._prev;\r\n        }\r\n        if (node._prev) {\r\n            node._prev._next = node._next;\r\n        }\r\n        else {\r\n            this._first = node._next;\r\n        }\r\n\r\n        // Destroy the node\r\n        node.destroy();\r\n\r\n        // Add node to pool\r\n        if (this._pool.layoutNodes.size < MAX_POOL_SIZE) {\r\n            this._pool.layoutNodes.size++;\r\n            node._prev = undefined;\r\n            node._next = this._pool.layoutNodes.first;\r\n            this._pool.layoutNodes.first = node;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Gets start layout-node for enumeration.\r\n     *\r\n     * @param {Bool} [next] undefined = all, true = all next, false = all previous\r\n     * @return {LayoutNode} layout-node or undefined\r\n     */\r\n    LayoutNodeManager.prototype.getStartEnumNode = function(next) {\r\n        if (next === undefined) {\r\n            return this._first;\r\n        }\r\n        else if (next === true) {\r\n            return (this._contextState.start && this._contextState.startPrev) ? this._contextState.start._next : this._contextState.start;\r\n        }\r\n        else if (next === false) {\r\n            return (this._contextState.start && !this._contextState.startPrev) ? this._contextState.start._prev : this._contextState.start;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Checks the integrity of the linked-list.\r\n     */\r\n    /*function _checkIntegrity() {\r\n        var node = this._first;\r\n        var count = 0;\r\n        var prevNode;\r\n        while (node) {\r\n            if (!node._prev && (node !== this._first)) {\r\n                throw 'No prev but not first';\r\n            }\r\n            if (node._prev !== prevNode) {\r\n                throw 'Bork';\r\n            }\r\n            prevNode = node;\r\n            node = node._next;\r\n            count++;\r\n        }\r\n    }\r\n\r\n    function _checkContextStateIntegrity() {\r\n        var node = this._contextState.start;\r\n        while (node) {\r\n            if (node === this._contextState.next) {\r\n                break;\r\n            }\r\n            if (!node._invalidated) {\r\n                throw 'WTF';\r\n            }\r\n            node = node._next;\r\n        }\r\n        node = this._contextState.start;\r\n        while (node) {\r\n            if (node === this._contextState.prev) {\r\n                break;\r\n            }\r\n            if (!node._invalidated) {\r\n                throw 'WTF';\r\n            }\r\n            node = node._prev;\r\n        }\r\n    }*/\r\n\r\n    /**\r\n     * Creates or gets a layout node.\r\n     */\r\n    function _contextGetCreateAndOrderNodes(renderNode, prev) {\r\n\r\n        // The first time this function is called, the current\r\n        // prev/next position is obtained.\r\n        var node;\r\n        var state = this._contextState;\r\n        if (!state.start) {\r\n            node = this._first;\r\n            while (node) {\r\n                if (node.renderNode === renderNode) {\r\n                    break;\r\n                }\r\n                node = node._next;\r\n            }\r\n            if (!node) {\r\n                node = this.createNode(renderNode);\r\n                node._next = this._first;\r\n                if (this._first) {\r\n                    this._first._prev = node;\r\n                }\r\n                this._first = node;\r\n            }\r\n            state.start = node;\r\n            state.startPrev = prev;\r\n            state.prev = node;\r\n            state.next = node;\r\n            return node;\r\n        }\r\n\r\n        // Check whether node already exist at the correct position\r\n        // in the linked-list. If so, return that node immediately\r\n        // and advance the prev/next pointer for the next/prev\r\n        // lookup operation.\r\n        if (prev) {\r\n            if (state.prev._prev && (state.prev._prev.renderNode === renderNode)) {\r\n                state.prev = state.prev._prev;\r\n                return state.prev;\r\n            }\r\n        }\r\n        else {\r\n            if (state.next._next && (state.next._next.renderNode === renderNode)) {\r\n                state.next = state.next._next;\r\n                return state.next;\r\n            }\r\n        }\r\n\r\n        // Lookup the node anywhere in the list..\r\n        node = this._first;\r\n        while (node) {\r\n            if (node.renderNode === renderNode) {\r\n                break;\r\n            }\r\n            node = node._next;\r\n        }\r\n\r\n        // Create new node if neccessary\r\n        if (!node) {\r\n            node = this.createNode(renderNode);\r\n        }\r\n\r\n        // Node existed, remove from linked-list\r\n        else {\r\n            if (node._next) {\r\n                node._next._prev = node._prev;\r\n            }\r\n            if (node._prev) {\r\n                node._prev._next = node._next;\r\n            }\r\n            else {\r\n                this._first = node._next;\r\n            }\r\n            node._next = undefined;\r\n            node._prev = undefined;\r\n        }\r\n\r\n        // Insert node into the linked list\r\n        if (prev) {\r\n            if (state.prev._prev) {\r\n                node._prev = state.prev._prev;\r\n                state.prev._prev._next = node;\r\n            }\r\n            else {\r\n                this._first = node;\r\n            }\r\n            state.prev._prev = node;\r\n            node._next = state.prev;\r\n            state.prev = node;\r\n        }\r\n        else {\r\n            if (state.next._next) {\r\n                node._next = state.next._next;\r\n                state.next._next._prev = node;\r\n            }\r\n            state.next._next = node;\r\n            node._prev = state.next;\r\n            state.next = node;\r\n        }\r\n\r\n        return node;\r\n    }\r\n\r\n    /**\r\n     * Get the next render-node\r\n     */\r\n    function _contextNext() {\r\n\r\n        // Get the next node from the sequence\r\n        if (!this._contextState.nextSequence) {\r\n            return undefined;\r\n        }\r\n        if (this._context.reverse) {\r\n            this._contextState.nextSequence = this._contextState.nextSequence.getNext();\r\n            if (!this._contextState.nextSequence) {\r\n                return undefined;\r\n            }\r\n        }\r\n        var renderNode = this._contextState.nextSequence.get();\r\n        if (!renderNode) {\r\n            this._contextState.nextSequence = undefined;\r\n            return undefined;\r\n        }\r\n        var nextSequence = this._contextState.nextSequence;\r\n        if (!this._context.reverse) {\r\n            this._contextState.nextSequence = this._contextState.nextSequence.getNext();\r\n        }\r\n        if (this._contextState.lastRenderNode === renderNode) {\r\n          throw 'ViewSequence is corrupted, should never contain the same renderNode twice, index: ' + nextSequence.getIndex();\r\n        }\r\n        this._contextState.lastRenderNode = renderNode;\r\n        return {\r\n            renderNode: renderNode,\r\n            viewSequence: nextSequence,\r\n            next: true,\r\n            index: ++this._contextState.nextGetIndex\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Get the previous render-node\r\n     */\r\n    function _contextPrev() {\r\n\r\n        // Get the previous node from the sequence\r\n        if (!this._contextState.prevSequence) {\r\n            return undefined;\r\n        }\r\n        if (!this._context.reverse) {\r\n            this._contextState.prevSequence = this._contextState.prevSequence.getPrevious();\r\n            if (!this._contextState.prevSequence) {\r\n                return undefined;\r\n            }\r\n        }\r\n        var renderNode = this._contextState.prevSequence.get();\r\n        if (!renderNode) {\r\n            this._contextState.prevSequence = undefined;\r\n            return undefined;\r\n        }\r\n        var prevSequence = this._contextState.prevSequence;\r\n        if (this._context.reverse) {\r\n            this._contextState.prevSequence = this._contextState.prevSequence.getPrevious();\r\n        }\r\n        if (this._contextState.lastRenderNode === renderNode) {\r\n          throw 'ViewSequence is corrupted, should never contain the same renderNode twice, index: ' + prevSequence.getIndex();\r\n        }\r\n        this._contextState.lastRenderNode = renderNode;\r\n        return {\r\n            renderNode: renderNode,\r\n            viewSequence: prevSequence,\r\n            prev: true,\r\n            index: --this._contextState.prevGetIndex\r\n        };\r\n    }\r\n\r\n    /**\r\n     * Resolve id into a context-node.\r\n     */\r\n     function _contextGet(contextNodeOrId) {\r\n        if (this._nodesById && ((contextNodeOrId instanceof String) || (typeof contextNodeOrId === 'string'))) {\r\n            var renderNode = this._nodesById[contextNodeOrId];\r\n            if (!renderNode) {\r\n                return undefined;\r\n            }\r\n\r\n            // Return array\r\n            if (renderNode instanceof Array) {\r\n                var result = [];\r\n                for (var i = 0, j = renderNode.length; i < j; i++) {\r\n                    result.push({\r\n                        renderNode: renderNode[i],\r\n                        arrayElement: true\r\n                    });\r\n                }\r\n                return result;\r\n            }\r\n\r\n            // Create context node\r\n            return {\r\n                renderNode: renderNode,\r\n                byId: true\r\n            };\r\n        }\r\n        else {\r\n            return contextNodeOrId;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Set the node content\r\n     */\r\n    function _contextSet(contextNodeOrId, set) {\r\n        var contextNode = this._nodesById ? _contextGet.call(this, contextNodeOrId) : contextNodeOrId;\r\n        if (contextNode) {\r\n            var node = contextNode.node;\r\n            if (!node) {\r\n                if (contextNode.next) {\r\n                     if (contextNode.index < this._contextState.nextSetIndex) {\r\n                        LayoutUtility.error('Nodes must be layed out in the same order as they were requested!');\r\n                     }\r\n                     this._contextState.nextSetIndex = contextNode.index;\r\n                }\r\n                else if (contextNode.prev) {\r\n                     if (contextNode.index > this._contextState.prevSetIndex) {\r\n                        LayoutUtility.error('Nodes must be layed out in the same order as they were requested!');\r\n                     }\r\n                     this._contextState.prevSetIndex = contextNode.index;\r\n                }\r\n                node = _contextGetCreateAndOrderNodes.call(this, contextNode.renderNode, contextNode.prev);\r\n                node._viewSequence = contextNode.viewSequence;\r\n                node._layoutCount++;\r\n                if (node._layoutCount === 1) {\r\n                    this._contextState.addCount++;\r\n                }\r\n                contextNode.node = node;\r\n            }\r\n            node.usesTrueSize = contextNode.usesTrueSize;\r\n            node.trueSizeRequested = contextNode.trueSizeRequested;\r\n            node.set(set, this._context.size);\r\n            contextNode.set = set;\r\n        }\r\n        return set;\r\n    }\r\n\r\n    /**\r\n     * Helper function that recursively discovers the configured size for a\r\n     * given renderNode.\r\n     */\r\n    function _resolveConfigSize(renderNode) {\r\n        if (renderNode instanceof RenderNode) {\r\n            var result = null;\r\n            var target = renderNode.get();\r\n            if (target) {\r\n                result = _resolveConfigSize(target);\r\n                if (result) {\r\n                    return result;\r\n                }\r\n            }\r\n            if (renderNode._child) {\r\n                return _resolveConfigSize(renderNode._child);\r\n            }\r\n        }\r\n        else if (renderNode instanceof Surface) {\r\n            return renderNode.size ? {\r\n                renderNode: renderNode,\r\n                size: renderNode.size\r\n            } : undefined;\r\n        }\r\n        else if (renderNode.options && renderNode.options.size) {\r\n            return {\r\n                renderNode: renderNode,\r\n                size: renderNode.options.size\r\n            };\r\n        }\r\n        return undefined;\r\n    }\r\n\r\n    /**\r\n     * Resolve the size of the layout-node from the renderable itsself.\r\n     */\r\n    function _contextResolveSize(contextNodeOrId, parentSize) {\r\n        var contextNode = this._nodesById ? _contextGet.call(this, contextNodeOrId) : contextNodeOrId;\r\n        var resolveSize = this._pool.resolveSize;\r\n        if (!contextNode) {\r\n            resolveSize[0] = 0;\r\n            resolveSize[1] = 0;\r\n            return resolveSize;\r\n        }\r\n\r\n        // Get in use size\r\n        var renderNode = contextNode.renderNode;\r\n        var size = renderNode.getSize();\r\n        if (!size) {\r\n            return parentSize;\r\n        }\r\n\r\n        // Check if true-size is used and it must be reavaluated.\r\n        // This particular piece of code specifically handles true-size Surfaces in famo.us.\r\n        // It contains portions that ensure that the true-size of a Surface is re-evaluated\r\n        // and also workaround code that backs up the size of a Surface, so that when the surface\r\n        // is re-added to the DOM (e.g. when scrolling) it doesn't temporarily have a size of 0.\r\n        var configSize = _resolveConfigSize(renderNode);\r\n        if (configSize && ((configSize.size[0] === true) || (configSize.size[1] === true))) {\r\n            contextNode.usesTrueSize = true;\r\n            if (configSize.renderNode instanceof Surface) {\r\n                var backupSize = configSize.renderNode._backupSize;\r\n                if (configSize.renderNode._contentDirty || configSize.renderNode._trueSizeCheck) {\r\n                  this._trueSizeRequested = true;\r\n                  contextNode.trueSizeRequested = true;\r\n                }\r\n                if (configSize.renderNode._trueSizeCheck) {\r\n\r\n                    // Fix for true-size renderables. When true-size is used, the size\r\n                    // is incorrect for one render-cycle due to the fact that Surface.commit\r\n                    // updates the content after asking the DOM for the offsetHeight/offsetWidth.\r\n                    // The code below backs the size up, and re-uses that when this scenario\r\n                    // occurs.\r\n                    if (backupSize && (configSize.size !== size)) {\r\n                        var newWidth = (configSize.size[0] === true) ? Math.max(backupSize[0], size[0]) : size[0];\r\n                        var newHeight = (configSize.size[1] === true) ? Math.max(backupSize[1], size[1]) : size[1];\r\n                        backupSize[0] = newWidth;\r\n                        backupSize[1] = newHeight;\r\n                        size = backupSize;\r\n                        configSize.renderNode._backupSize = undefined;\r\n                        backupSize = undefined;\r\n                    }\r\n                }\r\n                if (this._reevalTrueSize || (backupSize && ((backupSize[0] !== size[0]) || (backupSize[1] !== size[1])))) {\r\n                    configSize.renderNode._trueSizeCheck = true; // force request of true-size from DOM\r\n                    configSize.renderNode._sizeDirty = true;\r\n                    this._trueSizeRequested = true;\r\n                }\r\n\r\n                // Backup the size of the node\r\n                if (!backupSize) {\r\n                    configSize.renderNode._backupSize = [0, 0];\r\n                    backupSize = configSize.renderNode._backupSize;\r\n                }\r\n                backupSize[0] = size[0];\r\n                backupSize[1] = size[1];\r\n            }\r\n\r\n            // Ensure re-layout when a child layout-controller is using true-size and it\r\n            // has ben changed.\r\n            else if (configSize.renderNode._nodes) {\r\n                if (this._reevalTrueSize || configSize.renderNode._nodes._trueSizeRequested) {\r\n                    contextNode.trueSizeRequested = true;\r\n                    this._trueSizeRequested = true;\r\n                }\r\n            }\r\n        }\r\n\r\n        // Resolve 'undefined' to parent-size and true to 0\r\n        if ((size[0] === undefined) || (size[0] === true) || (size[1] === undefined) || (size[1] === true)) {\r\n            resolveSize[0] = size[0];\r\n            resolveSize[1] = size[1];\r\n            size = resolveSize;\r\n            if (size[0] === undefined) {\r\n                size[0] = parentSize[0];\r\n            }\r\n            else if (size[0] === true) {\r\n                size[0] = 0;\r\n                this._trueSizeRequested = true;\r\n                contextNode.trueSizeRequested = true;\r\n            }\r\n            if (size[1] === undefined) {\r\n                size[1] = parentSize[1];\r\n            }\r\n            else if (size[1] === true) {\r\n                size[1] = 0;\r\n                this._trueSizeRequested = true;\r\n                contextNode.trueSizeRequested = true;\r\n            }\r\n        }\r\n        return size;\r\n    }\r\n\r\n    module.exports = LayoutNodeManager;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutNodeManager.js\n ** module id = 43\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014\r\n */\r\n\r\n/**\r\n * LayoutContext is the interface for a layout-function to access\r\n * renderables in the data-source and set their size, position, tranformation, etc...\r\n *\r\n * The `next`, `prev` and `get` functions return an opaque object which represents\r\n * the renderable that is to be layed out. To access the actual renderable, use the\r\n * `.renderNode` property of this opaque object.\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * @class\r\n     * @alias module:LayoutContext\r\n     */\r\n    function LayoutContext(methods) {\r\n        for (var n in methods) {\r\n            this[n] = methods[n];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * {Property} Size in which to layout the renderables.\r\n     */\r\n    LayoutContext.prototype.size = undefined;\r\n\r\n    /**\r\n     * {Property} Direction in which to layout the renderables (0 = X, 1 = Y).\r\n     */\r\n    LayoutContext.prototype.direction = undefined;\r\n\r\n    /**\r\n     * {Property} {Number} Scrolling offset at which to start laying out next/prev renderables.\r\n     */\r\n    LayoutContext.prototype.scrollOffset = undefined;\r\n\r\n    /**\r\n     * {Property} {Number} Top/left boundary to which to layout renderables (default: 0).\r\n     */\r\n    LayoutContext.prototype.scrollStart = undefined;\r\n\r\n    /**\r\n     * {Property} {Number} Bottom/right boundary to which to continue laying out renderables.\r\n     */\r\n    LayoutContext.prototype.scrollEnd = undefined;\r\n\r\n    /**\r\n     * Get the context-node for the next renderable in the data-source. When\r\n     * the end of the data-source is reached, `undefined` is returned.\r\n     * Use this function to enumerate the contents of a data-source that is\r\n     * either an Array or a ViewSequence.\r\n     *\r\n     * **Example:**\r\n     *\r\n     * ```javascript\r\n     * function MyLayoutFunction(context, options) {\r\n     *   var height = 0;\r\n     *   var node = context.next(); // get first next node\r\n     *   while (node) {\r\n     *     context.set(node, {\r\n     *       size: [context.size[0], 100],\r\n     *       translate: [0, height, 0]\r\n     *     });\r\n     *     height += 100;\r\n     *     node = context.next(); // get next node\r\n     *   }\r\n     * }\r\n     * ```\r\n     *\r\n     * @return {Object} context-node or undefined\r\n     */\r\n    LayoutContext.prototype.next = function() {\r\n        // dummy implementation, override in constructor\r\n    };\r\n\r\n    /**\r\n     * Get the context-node for the previous renderable in the data-source. When\r\n     * the start of the data-source is reached, `undefined` is returned.\r\n     * Use this function to enumerate the contents of a data-source that is\r\n     * either an Array or a ViewSequence.\r\n     *\r\n     * **Example:**\r\n     *\r\n     * ```javascript\r\n     * function MyLayoutFunction(context, options) {\r\n     *   var height = 0;\r\n     *   var node = context.prev(); // get first previous\r\n     *   while (node) {\r\n     *     height -= 100;\r\n     *     context.set(node, {\r\n     *       size: [context.size[0], 100],\r\n     *       translate: [0, height, 0]\r\n     *     });\r\n     *     node = context.prev(); // get prev node\r\n     *   }\r\n     * }\r\n     * ```\r\n     *\r\n     * @return {Object} context-node or undefined\r\n     */\r\n    LayoutContext.prototype.prev = function() {\r\n        // dummy implementation, override in constructor\r\n    };\r\n\r\n    /**\r\n     * Get the context-node for a renderable with a specific id. This function\r\n     * should be used to access data-sources which are key-value collections.\r\n     * When a data-source is an Array or a ViewSequence, use `next()`.\r\n     * In many cases it is not neccesary to use `get()`, instead you can pass\r\n     * the id of the renderable straight to the `set` function.\r\n     *\r\n     * **Example:**\r\n     *\r\n     * ```javascript\r\n     * var layoutController = new LayoutController({\r\n     *   layout: function (context, options) {\r\n     *     var size = context.size;\r\n     *     var left = context.get('left');\r\n     *     context.set(left, { size: [100, size[1]] });\r\n     *\r\n     *     var right = context.get('right');\r\n     *     context.set(right, {\r\n     *       size: [100, size[1]],\r\n     *       translate: [size[1] - 100, 0, 0]\r\n     *     });\r\n     *\r\n     *     var middle = context.get('middle');\r\n     *     context.set(middle, {\r\n     *       size: [size[0] - 200, size[1]],\r\n     *       translate: [100, 0, 0]\r\n     *     });\r\n     *   },\r\n     *   dataSource: {\r\n     *     left: new Surface({content: 'left'}),\r\n     *     right: new Surface({content: 'right'}),\r\n     *     middle: new Surface({content: 'middle'})\r\n     *   }\r\n     * });\r\n     * ```\r\n     *\r\n     * **Arrays:**\r\n     *\r\n     * A value at a specific id in the datasource can also be an array. To access the\r\n     * context-nodes in the array use `get()` to get the array and the elements in the\r\n     * array:\r\n     *\r\n     * ```javascript\r\n     * var layoutController = new LayoutController({\r\n     *   layout: function (context, options) {\r\n     *     var size = context.size;\r\n     *     var left = 0;\r\n     *\r\n     *     // Position title\r\n     *     context.set('title', { size: [100, size[1]] });\r\n     *     left += 100;\r\n     *\r\n     *     // Position left-items (array)\r\n     *     var leftItems = context.get('leftItems');\r\n     *     for (var i = 0; i < leftItems.length; i++) {\r\n     *       var leftItem = context.get(leftItems[i]);\r\n     *       context.set(leftItem, {\r\n     *         size: [100, size[1]],\r\n     *         translate: [left, 0, 0]\r\n     *       });\r\n     *       left += 100;\r\n     *     }\r\n     *   },\r\n     *   dataSource: {\r\n     *     title: new Surface({content: 'title'}),\r\n     *     leftItems: [\r\n     *       new Surface({content: 'item1'}),\r\n     *       new Surface({content: 'item2'})\r\n     *     ]\r\n     *   }\r\n     * });\r\n     * ```\r\n     *\r\n     * @param {Object|String} node context-node or node-id\r\n     * @return {Object} context-node or undefined\r\n     */\r\n    LayoutContext.prototype.get = function(node) {\r\n        // dummy implementation, override in constructor\r\n    };\r\n\r\n    /**\r\n     * Set the size, origin, align, translation, scale, rotate, skew & opacity for a context-node.\r\n     *\r\n     * **Overview of all supported properties:**\r\n     *\r\n     * ```javascript\r\n     * function MyLayoutFunction(context, options) {\r\n     *   context.set('mynode', {\r\n     *     size: [100, 20],\r\n     *     origin: [0.5, 0.5],\r\n     *     align: [0.5, 0.5],\r\n     *     translate: [50, 10, 0],\r\n     *     scale: [1, 1, 1],\r\n     *     skew: [0, 0, 0],\r\n     *     rotate: [Math.PI, 0, 0],\r\n     *     opacity: 1\r\n     *   })\r\n     * }\r\n     * ```\r\n     *\r\n     * @param {Object|String} node context-node or node-id\r\n     * @param {Object} set properties: size, origin, align, translate, scale, rotate, skew & opacity\r\n     */\r\n    LayoutContext.prototype.set = function(node, set) {\r\n        // dummy implementation, override in constructor\r\n    };\r\n\r\n    /**\r\n     * Resolve the size of a context-node by accessing the `getSize` function\r\n     * of the renderable.\r\n     *\r\n     * **Example:**\r\n     *\r\n     * ```javascript\r\n     * var layoutController = new LayoutController({\r\n     *   layout: function (context, options) {\r\n     *     var centerSize = context.resolveSize('center');\r\n     *     context.set('center', {origin: [0.5, 0.5]});\r\n     *     context.set('centerRight', {\r\n     *       origin: [0.5, 0.5],\r\n     *       translate: [centerSize[0] / 2, 0, 0]\r\n     *     });\r\n     *   },\r\n     *   dataSource: {\r\n     *     center: new Surface({content: 'center'}),\r\n     *     centerRight: new Surface({content: 'centerRight'}),\r\n     *   }\r\n     * });\r\n     * ```\r\n     *\r\n     * **When the size of the renderable is calculated by the DOM (`true` size)**\r\n     *\r\n     * When the layout-function performs its layout for the first time, it is\r\n     * possible that the renderable has not yet been rendered and its size\r\n     * is unknown. In this case, the LayoutController will cause a second\r\n     * reflow of the layout the next render-cycle, ensuring that the renderables\r\n     * are layed out as expected.\r\n     *\r\n     * @param {Object|String} node context-node, node-id or array-element\r\n     * @return {Size} size of the node\r\n     */\r\n    LayoutContext.prototype.resolveSize = function(node) {\r\n        // dummy implementation, override in constructor\r\n    };\r\n\r\n    module.exports = LayoutContext;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutContext.js\n ** module id = 44\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014\r\n */\r\n\r\n/**\r\n * Internal LayoutNode class used by `LayoutController`.\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var Transform = require('famous/core/Transform');\r\n    var LayoutUtility = require('./LayoutUtility');\r\n\r\n    /**\r\n     * @class\r\n     * @param {Object} renderNode Render-node which this layout-node represents\r\n     * @alias module:LayoutNode\r\n     */\r\n    function LayoutNode(renderNode, spec) {\r\n        this.renderNode = renderNode;\r\n        this._spec = spec ? LayoutUtility.cloneSpec(spec) : {};\r\n        this._spec.renderNode = renderNode; // also store in spec\r\n        this._specModified = true;\r\n        this._invalidated = false;\r\n        this._removing = false;\r\n        //this.scrollLength = undefined;\r\n        //this.trueSizeRequested = false;\r\n    }\r\n\r\n    /**\r\n     * Called to update the underlying render-node\r\n     */\r\n    LayoutNode.prototype.setRenderNode = function(renderNode) {\r\n        this.renderNode = renderNode;\r\n        this._spec.renderNode = renderNode;\r\n    };\r\n\r\n    /**\r\n     * Called to update the options for the node\r\n     */\r\n    LayoutNode.prototype.setOptions = function(options) {\r\n        // override to implement\r\n    };\r\n\r\n    /**\r\n     * Called when the node is destroyed\r\n     */\r\n    LayoutNode.prototype.destroy = function() {\r\n        this.renderNode = undefined;\r\n        this._spec.renderNode = undefined;\r\n        this._viewSequence = undefined;\r\n    };\r\n\r\n    /**\r\n     * Reset the end-state. This function is called on all layout-nodes prior to\r\n     * calling the layout-function. So that the layout-function starts with a clean slate.\r\n     */\r\n    LayoutNode.prototype.reset = function() {\r\n        this._invalidated = false;\r\n        this.trueSizeRequested = false;\r\n    };\r\n\r\n    /**\r\n     * Set the spec of the node\r\n     *\r\n     * @param {Object} spec\r\n     */\r\n    LayoutNode.prototype.setSpec = function(spec) {\r\n        this._specModified = true;\r\n        if (spec.align) {\r\n            if (!spec.align) {\r\n                this._spec.align = [0, 0];\r\n            }\r\n            this._spec.align[0] = spec.align[0];\r\n            this._spec.align[1] = spec.align[1];\r\n        }\r\n        else {\r\n            this._spec.align = undefined;\r\n        }\r\n        if (spec.origin) {\r\n            if (!spec.origin) {\r\n                this._spec.origin = [0, 0];\r\n            }\r\n            this._spec.origin[0] = spec.origin[0];\r\n            this._spec.origin[1] = spec.origin[1];\r\n        }\r\n        else {\r\n            this._spec.origin = undefined;\r\n        }\r\n        if (spec.size) {\r\n            if (!spec.size) {\r\n                this._spec.size = [0, 0];\r\n            }\r\n            this._spec.size[0] = spec.size[0];\r\n            this._spec.size[1] = spec.size[1];\r\n        }\r\n        else {\r\n            this._spec.size = undefined;\r\n        }\r\n        if (spec.transform) {\r\n            if (!spec.transform) {\r\n                this._spec.transform = spec.transform.slice(0);\r\n            }\r\n            else {\r\n                for (var i = 0; i < 16; i++) {\r\n                    this._spec.transform[i] = spec.transform[i];\r\n                }\r\n            }\r\n        }\r\n        else {\r\n            this._spec.transform = undefined;\r\n        }\r\n        this._spec.opacity = spec.opacity;\r\n    };\r\n\r\n    /**\r\n     * Set the content of the node\r\n     *\r\n     * @param {Object} set\r\n     */\r\n    LayoutNode.prototype.set = function(set, size) {\r\n        this._invalidated = true;\r\n        this._specModified = true;\r\n        this._removing = false;\r\n        var spec = this._spec;\r\n        spec.opacity = set.opacity;\r\n        if (set.size) {\r\n            if (!spec.size) {\r\n                spec.size = [0, 0];\r\n            }\r\n            spec.size[0] = set.size[0];\r\n            spec.size[1] = set.size[1];\r\n        }\r\n        else {\r\n            spec.size = undefined;\r\n        }\r\n        if (set.origin) {\r\n            if (!spec.origin) {\r\n                spec.origin = [0, 0];\r\n            }\r\n            spec.origin[0] = set.origin[0];\r\n            spec.origin[1] = set.origin[1];\r\n        }\r\n        else {\r\n            spec.origin = undefined;\r\n        }\r\n        if (set.align) {\r\n            if (!spec.align) {\r\n                spec.align = [0, 0];\r\n            }\r\n            spec.align[0] = set.align[0];\r\n            spec.align[1] = set.align[1];\r\n        }\r\n        else {\r\n            spec.align = undefined;\r\n        }\r\n\r\n        if (set.skew || set.rotate || set.scale) {\r\n            this._spec.transform = Transform.build({\r\n                translate: set.translate || [0, 0, 0],\r\n                skew: set.skew || [0, 0, 0],\r\n                scale: set.scale || [1, 1, 1],\r\n                rotate: set.rotate || [0, 0, 0]\r\n            });\r\n        }\r\n        else if (set.translate) {\r\n            this._spec.transform = Transform.translate(set.translate[0], set.translate[1], set.translate[2]);\r\n        }\r\n        else {\r\n            this._spec.transform = undefined;\r\n        }\r\n        this.scrollLength = set.scrollLength;\r\n    };\r\n\r\n    /**\r\n     * Creates the render-spec\r\n     */\r\n    LayoutNode.prototype.getSpec = function() {\r\n        this._specModified = false;\r\n        this._spec.removed = !this._invalidated;\r\n        return this._spec;\r\n    };\r\n\r\n    /**\r\n     * Marks the node for removal\r\n     */\r\n    LayoutNode.prototype.remove = function(removeSpec) {\r\n        this._removing = true;\r\n    };\r\n\r\n    module.exports = LayoutNode;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/LayoutNode.js\n ** module id = 45\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014 - 2015\r\n */\r\n\r\n/**\r\n * Internal LayoutNode class used by `LayoutNodeManager`.\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var OptionsManager = require('famous/core/OptionsManager');\r\n    var Transform = require('famous/core/Transform');\r\n    var Vector = require('famous/math/Vector');\r\n    var Particle = require('famous/physics/bodies/Particle');\r\n    var Spring = require('famous/physics/forces/Spring');\r\n    var PhysicsEngine = require('famous/physics/PhysicsEngine');\r\n    var LayoutNode = require('./LayoutNode');\r\n    var Transitionable = require('famous/transitions/Transitionable');\r\n\r\n    /**\r\n     * @class\r\n     * @extends LayoutNode\r\n     * @param {Object} renderNode Render-node which this layout-node represents\r\n     * @param {Spec} spec Initial state\r\n     * @param {Object} physicsEngines physics-engines to use\r\n     * @alias module:FlowLayoutNode\r\n     */\r\n    function FlowLayoutNode(renderNode, spec) {\r\n        LayoutNode.apply(this, arguments);\r\n\r\n        if (!this.options) {\r\n            this.options = Object.create(this.constructor.DEFAULT_OPTIONS);\r\n            this._optionsManager = new OptionsManager(this.options);\r\n        }\r\n\r\n        if (!this._pe) {\r\n            this._pe = new PhysicsEngine();\r\n            this._pe.sleep();\r\n        }\r\n\r\n        if (!this._properties) {\r\n            this._properties = {};\r\n        }\r\n        else {\r\n            for (var propName in this._properties) {\r\n                this._properties[propName].init = false;\r\n            }\r\n        }\r\n\r\n        if (!this._lockTransitionable) {\r\n            this._lockTransitionable = new Transitionable(1);\r\n        }\r\n        else {\r\n            this._lockTransitionable.halt();\r\n            this._lockTransitionable.reset(1);\r\n        }\r\n\r\n        this._specModified = true;\r\n        this._initial = true;\r\n        this._spec.endState = {};\r\n        if (spec) {\r\n            this.setSpec(spec);\r\n        }\r\n    }\r\n    FlowLayoutNode.prototype = Object.create(LayoutNode.prototype);\r\n    FlowLayoutNode.prototype.constructor = FlowLayoutNode;\r\n\r\n    FlowLayoutNode.DEFAULT_OPTIONS = {\r\n        spring: {\r\n            dampingRatio: 0.8,\r\n            period: 300\r\n        },\r\n        properties: {\r\n            opacity: true,\r\n            align: true,\r\n            origin: true,\r\n            size: true,\r\n            translate: true,\r\n            skew: true,\r\n            rotate: true,\r\n            scale: true\r\n        },\r\n        particleRounding: 0.001\r\n    };\r\n\r\n    /**\r\n     * Defaults\r\n     */\r\n    var DEFAULT = {\r\n        opacity: 1,\r\n        opacity2D: [1, 0],\r\n        size: [0, 0],\r\n        origin: [0, 0],\r\n        align: [0, 0],\r\n        scale: [1, 1, 1],\r\n        translate: [0, 0, 0],\r\n        rotate: [0, 0, 0],\r\n        skew: [0, 0, 0]\r\n    };\r\n\r\n    /**\r\n     * Verifies that the integrity of the layout-node is oke.\r\n     */\r\n    /*function _verifyIntegrity() {\r\n        var i;\r\n        for (var propName in this._properties) {\r\n            var prop = this._properties[propName];\r\n            if (prop.particle) {\r\n                if (isNaN(prop.particle.getEnergy())) {\r\n                    throw 'invalid particle energy: ' + propName;\r\n                }\r\n                var value = prop.particle.getPosition();\r\n                for (i = 0; i < value.length; i++) {\r\n                    if (isNaN(value[i])) {\r\n                       throw 'invalid particle value: ' + propName + '(' + i + ')';\r\n                    }\r\n                }\r\n                value = prop.endState.get();\r\n                for (i = 0; i < value.length; i++) {\r\n                    if (isNaN(value[i])) {\r\n                       throw 'invalid endState value: ' + propName + '(' + i + ')';\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }*/\r\n\r\n    /**\r\n     * Sets the configuration options\r\n     */\r\n    FlowLayoutNode.prototype.setOptions = function(options) {\r\n        this._optionsManager.setOptions(options);\r\n        var wasSleeping = this._pe.isSleeping();\r\n        for (var propName in this._properties) {\r\n            var prop = this._properties[propName];\r\n            if (options.spring && prop.force) {\r\n                prop.force.setOptions(this.options.spring);\r\n            }\r\n            if (options.properties && (options.properties[propName] !== undefined)) {\r\n                if (this.options.properties[propName].length) {\r\n                    prop.enabled = this.options.properties[propName];\r\n                }\r\n                else {\r\n                    prop.enabled = [\r\n                        this.options.properties[propName],\r\n                        this.options.properties[propName],\r\n                        this.options.properties[propName]\r\n                    ];\r\n                }\r\n            }\r\n        }\r\n        if (wasSleeping) {\r\n            this._pe.sleep();\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Set the properties from a spec.\r\n     */\r\n    FlowLayoutNode.prototype.setSpec = function(spec) {\r\n        var set;\r\n        if (spec.transform) {\r\n            set = Transform.interpret(spec.transform);\r\n        }\r\n        if (!set) {\r\n            set = {};\r\n        }\r\n        set.opacity = spec.opacity;\r\n        set.size = spec.size;\r\n        set.align = spec.align;\r\n        set.origin = spec.origin;\r\n\r\n        var oldRemoving = this._removing;\r\n        var oldInvalidated = this._invalidated;\r\n        this.set(set);\r\n        this._removing = oldRemoving;\r\n        this._invalidated = oldInvalidated;\r\n    };\r\n\r\n    /**\r\n     * Reset the end-state. This function is called on all layout-nodes prior to\r\n     * calling the layout-function. So that the layout-function starts with a clean slate.\r\n     */\r\n    FlowLayoutNode.prototype.reset = function() {\r\n        if (this._invalidated) {\r\n            for (var propName in this._properties) {\r\n                this._properties[propName].invalidated = false;\r\n            }\r\n            this._invalidated = false;\r\n        }\r\n        this.trueSizeRequested = false;\r\n        this.usesTrueSize = false;\r\n    };\r\n\r\n    /**\r\n     * Markes the node for removal.\r\n     */\r\n    FlowLayoutNode.prototype.remove = function(removeSpec) {\r\n\r\n        // Transition to the remove-spec state\r\n        this._removing = true;\r\n        if (removeSpec) {\r\n            this.setSpec(removeSpec);\r\n        }\r\n        else {\r\n            this._pe.sleep();\r\n            this._specModified = false;\r\n        }\r\n\r\n        // Mark for removal\r\n        this._invalidated = false;\r\n    };\r\n\r\n    /**\r\n     * Temporarily releases the flowing-lock that is applied to the node.\r\n     * E.g., when changing position, resizing, the lock should be released so that\r\n     * the renderables can smoothly transition to their new positions.\r\n     */\r\n    FlowLayoutNode.prototype.releaseLock = function(enable) {\r\n        this._lockTransitionable.halt();\r\n        this._lockTransitionable.reset(0);\r\n        if (enable) {\r\n          this._lockTransitionable.set(1, {\r\n              duration: this.options.spring.period || 1000\r\n          });\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Helper function for getting the property value.\r\n     */\r\n    function _getRoundedValue3D(prop, def, precision, lockValue) {\r\n        if (!prop || !prop.init) {\r\n            return def;\r\n        }\r\n        return [\r\n            prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / precision) * precision) : prop.endState.x,\r\n            prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / precision) * precision) : prop.endState.y,\r\n            prop.enabled[2] ? (Math.round((prop.curState.z + ((prop.endState.z - prop.curState.z) * lockValue)) / precision) * precision) : prop.endState.z\r\n        ];\r\n    }\r\n\r\n    /**\r\n     * Creates the render-spec\r\n     */\r\n    FlowLayoutNode.prototype.getSpec = function() {\r\n\r\n        // When the end state was reached, return the previous spec\r\n        var endStateReached = this._pe.isSleeping();\r\n        if (!this._specModified && endStateReached) {\r\n            this._spec.removed = !this._invalidated;\r\n            return this._spec;\r\n        }\r\n        this._initial = false;\r\n        this._specModified = !endStateReached;\r\n        this._spec.removed = false;\r\n\r\n        // Step physics engine when not sleeping\r\n        if (!endStateReached) {\r\n            this._pe.step();\r\n        }\r\n\r\n        // Build fresh spec\r\n        var spec = this._spec;\r\n        var precision = this.options.particleRounding;\r\n        var lockValue = this._lockTransitionable.get();\r\n\r\n        // opacity\r\n        var prop = this._properties.opacity;\r\n        if (prop && prop.init) {\r\n            spec.opacity = prop.enabled[0] ? (Math.round(Math.max(0, Math.min(1, prop.curState.x)) / precision) * precision) : prop.endState.x;\r\n            spec.endState.opacity = prop.endState.x;\r\n        }\r\n        else {\r\n            spec.opacity = undefined;\r\n            spec.endState.opacity = undefined;\r\n        }\r\n\r\n        // size\r\n        prop = this._properties.size;\r\n        if (prop && prop.init) {\r\n            spec.size = spec.size || [0, 0];\r\n            spec.size[0] = prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / 0.1) * 0.1) : prop.endState.x;\r\n            spec.size[1] = prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / 0.1) * 0.1) : prop.endState.y;\r\n            spec.endState.size = spec.endState.size || [0, 0];\r\n            spec.endState.size[0] = prop.endState.x;\r\n            spec.endState.size[1] = prop.endState.y;\r\n        }\r\n        else {\r\n            spec.size = undefined;\r\n            spec.endState.size = undefined;\r\n        }\r\n\r\n        // align\r\n        prop = this._properties.align;\r\n        if (prop && prop.init) {\r\n            spec.align = spec.align || [0, 0];\r\n            spec.align[0] = prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / 0.1) * 0.1) : prop.endState.x;\r\n            spec.align[1] = prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / 0.1) * 0.1) : prop.endState.y;\r\n            spec.endState.align = spec.endState.align || [0, 0];\r\n            spec.endState.align[0] = prop.endState.x;\r\n            spec.endState.align[1] = prop.endState.y;\r\n        }\r\n        else {\r\n            spec.align = undefined;\r\n            spec.endState.align = undefined;\r\n        }\r\n\r\n        // origin\r\n        prop = this._properties.origin;\r\n        if (prop && prop.init) {\r\n            spec.origin = spec.origin || [0, 0];\r\n            spec.origin[0] = prop.enabled[0] ? (Math.round((prop.curState.x + ((prop.endState.x - prop.curState.x) * lockValue)) / 0.1) * 0.1) : prop.endState.x;\r\n            spec.origin[1] = prop.enabled[1] ? (Math.round((prop.curState.y + ((prop.endState.y - prop.curState.y) * lockValue)) / 0.1) * 0.1) : prop.endState.y;\r\n            spec.endState.origin = spec.endState.origin || [0, 0];\r\n            spec.endState.origin[0] = prop.endState.x;\r\n            spec.endState.origin[1] = prop.endState.y;\r\n        }\r\n        else {\r\n            spec.origin = undefined;\r\n            spec.endState.origin = undefined;\r\n        }\r\n\r\n        // translate\r\n        var translate = this._properties.translate;\r\n        var translateX;\r\n        var translateY;\r\n        var translateZ;\r\n        if (translate && translate.init) {\r\n            translateX = translate.enabled[0] ? (Math.round((translate.curState.x + ((translate.endState.x - translate.curState.x) * lockValue)) / precision) * precision) : translate.endState.x;\r\n            translateY = translate.enabled[1] ? (Math.round((translate.curState.y + ((translate.endState.y - translate.curState.y) * lockValue)) / precision) * precision) : translate.endState.y;\r\n            translateZ = translate.enabled[2] ? (Math.round((translate.curState.z + ((translate.endState.z - translate.curState.z) * lockValue)) / precision) * precision) : translate.endState.z;\r\n        }\r\n        else {\r\n            translateX = 0;\r\n            translateY = 0;\r\n            translateZ = 0;\r\n        }\r\n\r\n        // scale, skew, scale\r\n        var scale = this._properties.scale;\r\n        var skew = this._properties.skew;\r\n        var rotate = this._properties.rotate;\r\n        if (scale || skew || rotate) {\r\n            spec.transform = Transform.build({\r\n                translate: [translateX, translateY, translateZ],\r\n                skew: _getRoundedValue3D.call(this, skew, DEFAULT.skew, this.options.particleRounding, lockValue),\r\n                scale: _getRoundedValue3D.call(this, scale, DEFAULT.scale, this.options.particleRounding, lockValue),\r\n                rotate: _getRoundedValue3D.call(this, rotate, DEFAULT.rotate, this.options.particleRounding, lockValue)\r\n            });\r\n            spec.endState.transform = Transform.build({\r\n                translate: translate ? [translate.endState.x, translate.endState.y, translate.endState.z] : DEFAULT.translate,\r\n                scale: scale ? [scale.endState.x, scale.endState.y, scale.endState.z] : DEFAULT.scale,\r\n                skew: skew ? [skew.endState.x, skew.endState.y, skew.endState.z] : DEFAULT.skew,\r\n                rotate: rotate ? [rotate.endState.x, rotate.endState.y, rotate.endState.z] : DEFAULT.rotate\r\n            });\r\n        }\r\n        else if (translate) {\r\n            if (!spec.transform) {\r\n                spec.transform = Transform.translate(translateX, translateY, translateZ);\r\n            }\r\n            else {\r\n                spec.transform[12] = translateX;\r\n                spec.transform[13] = translateY;\r\n                spec.transform[14] = translateZ;\r\n            }\r\n            if (!spec.endState.transform) {\r\n                spec.endState.transform = Transform.translate(translate.endState.x, translate.endState.y, translate.endState.z);\r\n            }\r\n            else {\r\n                spec.endState.transform[12] = translate.endState.x;\r\n                spec.endState.transform[13] = translate.endState.y;\r\n                spec.endState.transform[14] = translate.endState.z;\r\n            }\r\n        }\r\n        else {\r\n            spec.transform = undefined;\r\n            spec.endState.transform = undefined;\r\n        }\r\n        return this._spec;\r\n    };\r\n\r\n    /**\r\n     * Helper function to set the property of a node (e.g. opacity, translate, etc..)\r\n     */\r\n    function _setPropertyValue(prop, propName, endState, defaultValue, immediate, isTranslate) {\r\n\r\n        // Get property\r\n        prop = prop || this._properties[propName];\r\n\r\n        // Update the property\r\n        if (prop && prop.init) {\r\n            prop.invalidated = true;\r\n            var value = defaultValue;\r\n            if (endState !== undefined) {\r\n                value = endState;\r\n            }\r\n            else if (this._removing) {\r\n                value = prop.particle.getPosition();\r\n            }\r\n            //if (isTranslate && (this._lockDirection !== undefined) && (this._lockTransitionable.get() === 1)) {\r\n            //    immediate = true; // this is a bit dirty, it should check !_lockDirection for non changes as well before setting immediate to true\r\n            //}\r\n            // set new end state (the quick way)\r\n            prop.endState.x = value[0];\r\n            prop.endState.y = (value.length > 1) ? value[1] : 0;\r\n            prop.endState.z = (value.length > 2) ? value[2] : 0;\r\n            if (immediate) {\r\n                // set current state (the quick way)\r\n                prop.curState.x = prop.endState.x;\r\n                prop.curState.y = prop.endState.y;\r\n                prop.curState.z = prop.endState.z;\r\n                // reset velocity (the quick way)\r\n                prop.velocity.x = 0;\r\n                prop.velocity.y = 0;\r\n                prop.velocity.z = 0;\r\n            }\r\n            else if ((prop.endState.x !== prop.curState.x) ||\r\n                     (prop.endState.y !== prop.curState.y) ||\r\n                     (prop.endState.z !== prop.curState.z)) {\r\n                this._pe.wake();\r\n            }\r\n            return;\r\n        }\r\n        else {\r\n\r\n            // Create property if neccesary\r\n            var wasSleeping = this._pe.isSleeping();\r\n            if (!prop) {\r\n                prop = {\r\n                    particle: new Particle({\r\n                        position: (this._initial || immediate) ? endState : defaultValue\r\n                    }),\r\n                    endState: new Vector(endState)\r\n                };\r\n                prop.curState = prop.particle.position;\r\n                prop.velocity = prop.particle.velocity;\r\n                prop.force = new Spring(this.options.spring);\r\n                prop.force.setOptions({\r\n                    anchor: prop.endState\r\n                });\r\n                this._pe.addBody(prop.particle);\r\n                prop.forceId = this._pe.attach(prop.force, prop.particle);\r\n                this._properties[propName] = prop;\r\n            }\r\n            else {\r\n                prop.particle.setPosition((this._initial || immediate) ? endState : defaultValue);\r\n                prop.endState.set(endState);\r\n            }\r\n            if (!this._initial && !immediate) {\r\n                this._pe.wake();\r\n            }\r\n            else if (wasSleeping) {\r\n                this._pe.sleep(); // nothing has changed, put back to sleep\r\n            }\r\n            if (this.options.properties[propName] && this.options.properties[propName].length) {\r\n                prop.enabled = this.options.properties[propName];\r\n            }\r\n            else {\r\n                prop.enabled = [\r\n                  this.options.properties[propName],\r\n                  this.options.properties[propName],\r\n                  this.options.properties[propName]\r\n                ];\r\n            }\r\n            prop.init = true;\r\n            prop.invalidated = true;\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Get value if not equals.\r\n     */\r\n    function _getIfNE2D(a1, a2) {\r\n        return ((a1[0] === a2[0]) && (a1[1] === a2[1])) ? undefined : a1;\r\n    }\r\n    function _getIfNE3D(a1, a2) {\r\n        return ((a1[0] === a2[0]) && (a1[1] === a2[1]) && (a1[2] === a2[2])) ? undefined : a1;\r\n    }\r\n\r\n    /**\r\n     * context.set(..)\r\n     */\r\n    FlowLayoutNode.prototype.set = function(set, defaultSize) {\r\n        if (defaultSize) {\r\n            this._removing = false;\r\n        }\r\n        this._invalidated = true;\r\n        this.scrollLength = set.scrollLength;\r\n        this._specModified = true;\r\n\r\n        // opacity\r\n        var prop = this._properties.opacity;\r\n        var value = (set.opacity === DEFAULT.opacity) ? undefined : set.opacity;\r\n        if ((value !== undefined) || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'opacity', (value === undefined) ? undefined : [value, 0], DEFAULT.opacity2D);\r\n        }\r\n\r\n        // set align\r\n        prop = this._properties.align;\r\n        value = set.align ? _getIfNE2D(set.align, DEFAULT.align) : undefined;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'align', value, DEFAULT.align);\r\n        }\r\n\r\n        // set orgin\r\n        prop = this._properties.origin;\r\n        value = set.origin ? _getIfNE2D(set.origin, DEFAULT.origin) : undefined;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'origin', value, DEFAULT.origin);\r\n        }\r\n\r\n        // set size\r\n        prop = this._properties.size;\r\n        value = set.size || defaultSize;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'size', value, defaultSize, this.usesTrueSize);\r\n        }\r\n\r\n        // set translate\r\n        prop = this._properties.translate;\r\n        value = set.translate;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'translate', value, DEFAULT.translate, undefined, true);\r\n        }\r\n\r\n        // set scale\r\n        prop = this._properties.scale;\r\n        value = set.scale ? _getIfNE3D(set.scale, DEFAULT.scale) : undefined;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'scale', value, DEFAULT.scale);\r\n        }\r\n\r\n        // set rotate\r\n        prop = this._properties.rotate;\r\n        value = set.rotate ? _getIfNE3D(set.rotate, DEFAULT.rotate) : undefined;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'rotate', value, DEFAULT.rotate);\r\n        }\r\n\r\n        // set skew\r\n        prop = this._properties.skew;\r\n        value = set.skew ? _getIfNE3D(set.skew, DEFAULT.skew) : undefined;\r\n        if (value || (prop && prop.init)) {\r\n            _setPropertyValue.call(this, prop, 'skew', value, DEFAULT.skew);\r\n        }\r\n    };\r\n\r\n    module.exports = FlowLayoutNode;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/FlowLayoutNode.js\n ** module id = 46\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * Three-element floating point vector.\r\n     *\r\n     * @class Vector\r\n     * @constructor\r\n     *\r\n     * @param {number} x x element value\r\n     * @param {number} y y element value\r\n     * @param {number} z z element value\r\n     */\r\n    function Vector(x,y,z) {\r\n        if (arguments.length === 1 && x !== undefined) this.set(x);\r\n        else {\r\n            this.x = x || 0;\r\n            this.y = y || 0;\r\n            this.z = z || 0;\r\n        }\r\n        return this;\r\n    }\r\n\r\n    var _register = new Vector(0,0,0);\r\n\r\n    /**\r\n     * Add this element-wise to another Vector, element-wise.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method add\r\n     * @param {Vector} v addend\r\n     * @return {Vector} vector sum\r\n     */\r\n    Vector.prototype.add = function add(v) {\r\n        return _setXYZ.call(_register,\r\n            this.x + v.x,\r\n            this.y + v.y,\r\n            this.z + v.z\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Subtract another vector from this vector, element-wise.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method sub\r\n     * @param {Vector} v subtrahend\r\n     * @return {Vector} vector difference\r\n     */\r\n    Vector.prototype.sub = function sub(v) {\r\n        return _setXYZ.call(_register,\r\n            this.x - v.x,\r\n            this.y - v.y,\r\n            this.z - v.z\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Scale Vector by floating point r.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method mult\r\n     *\r\n     * @param {number} r scalar\r\n     * @return {Vector} vector result\r\n     */\r\n    Vector.prototype.mult = function mult(r) {\r\n        return _setXYZ.call(_register,\r\n            r * this.x,\r\n            r * this.y,\r\n            r * this.z\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Scale Vector by floating point 1/r.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method div\r\n     *\r\n     * @param {number} r scalar\r\n     * @return {Vector} vector result\r\n     */\r\n    Vector.prototype.div = function div(r) {\r\n        return this.mult(1 / r);\r\n    };\r\n\r\n    /**\r\n     * Given another vector v, return cross product (v)x(this).\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method cross\r\n     * @param {Vector} v Left Hand Vector\r\n     * @return {Vector} vector result\r\n     */\r\n    Vector.prototype.cross = function cross(v) {\r\n        var x = this.x;\r\n        var y = this.y;\r\n        var z = this.z;\r\n        var vx = v.x;\r\n        var vy = v.y;\r\n        var vz = v.z;\r\n\r\n        return _setXYZ.call(_register,\r\n            z * vy - y * vz,\r\n            x * vz - z * vx,\r\n            y * vx - x * vy\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Component-wise equality test between this and Vector v.\r\n     * @method equals\r\n     * @param {Vector} v vector to compare\r\n     * @return {boolean}\r\n     */\r\n    Vector.prototype.equals = function equals(v) {\r\n        return (v.x === this.x && v.y === this.y && v.z === this.z);\r\n    };\r\n\r\n    /**\r\n     * Rotate clockwise around x-axis by theta radians.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     * @method rotateX\r\n     * @param {number} theta radians\r\n     * @return {Vector} rotated vector\r\n     */\r\n    Vector.prototype.rotateX = function rotateX(theta) {\r\n        var x = this.x;\r\n        var y = this.y;\r\n        var z = this.z;\r\n\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n\r\n        return _setXYZ.call(_register,\r\n            x,\r\n            y * cosTheta - z * sinTheta,\r\n            y * sinTheta + z * cosTheta\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Rotate clockwise around y-axis by theta radians.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     * @method rotateY\r\n     * @param {number} theta radians\r\n     * @return {Vector} rotated vector\r\n     */\r\n    Vector.prototype.rotateY = function rotateY(theta) {\r\n        var x = this.x;\r\n        var y = this.y;\r\n        var z = this.z;\r\n\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n\r\n        return _setXYZ.call(_register,\r\n            z * sinTheta + x * cosTheta,\r\n            y,\r\n            z * cosTheta - x * sinTheta\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Rotate clockwise around z-axis by theta radians.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     * @method rotateZ\r\n     * @param {number} theta radians\r\n     * @return {Vector} rotated vector\r\n     */\r\n    Vector.prototype.rotateZ = function rotateZ(theta) {\r\n        var x = this.x;\r\n        var y = this.y;\r\n        var z = this.z;\r\n\r\n        var cosTheta = Math.cos(theta);\r\n        var sinTheta = Math.sin(theta);\r\n\r\n        return _setXYZ.call(_register,\r\n            x * cosTheta - y * sinTheta,\r\n            x * sinTheta + y * cosTheta,\r\n            z\r\n        );\r\n    };\r\n\r\n    /**\r\n     * Return dot product of this with a second Vector\r\n     * @method dot\r\n     * @param {Vector} v second vector\r\n     * @return {number} dot product\r\n     */\r\n    Vector.prototype.dot = function dot(v) {\r\n        return this.x * v.x + this.y * v.y + this.z * v.z;\r\n    };\r\n\r\n    /**\r\n     * Return squared length of this vector\r\n     * @method normSquared\r\n     * @return {number} squared length\r\n     */\r\n    Vector.prototype.normSquared = function normSquared() {\r\n        return this.dot(this);\r\n    };\r\n\r\n    /**\r\n     * Return length of this vector\r\n     * @method norm\r\n     * @return {number} length\r\n     */\r\n    Vector.prototype.norm = function norm() {\r\n        return Math.sqrt(this.normSquared());\r\n    };\r\n\r\n    /**\r\n     * Scale Vector to specified length.\r\n     *   If length is less than internal tolerance, set vector to [length, 0, 0].\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     * @method normalize\r\n     *\r\n     * @param {number} length target length, default 1.0\r\n     * @return {Vector}\r\n     */\r\n    Vector.prototype.normalize = function normalize(length) {\r\n        if (arguments.length === 0) length = 1;\r\n        var norm = this.norm();\r\n\r\n        if (norm > 1e-7) return _setFromVector.call(_register, this.mult(length / norm));\r\n        else return _setXYZ.call(_register, length, 0, 0);\r\n    };\r\n\r\n    /**\r\n     * Make a separate copy of the Vector.\r\n     *\r\n     * @method clone\r\n     *\r\n     * @return {Vector}\r\n     */\r\n    Vector.prototype.clone = function clone() {\r\n        return new Vector(this);\r\n    };\r\n\r\n    /**\r\n     * True if and only if every value is 0 (or falsy)\r\n     *\r\n     * @method isZero\r\n     *\r\n     * @return {boolean}\r\n     */\r\n    Vector.prototype.isZero = function isZero() {\r\n        return !(this.x || this.y || this.z);\r\n    };\r\n\r\n    function _setXYZ(x,y,z) {\r\n        this.x = x;\r\n        this.y = y;\r\n        this.z = z;\r\n        return this;\r\n    }\r\n\r\n    function _setFromArray(v) {\r\n        return _setXYZ.call(this,v[0],v[1],v[2] || 0);\r\n    }\r\n\r\n    function _setFromVector(v) {\r\n        return _setXYZ.call(this, v.x, v.y, v.z);\r\n    }\r\n\r\n    function _setFromNumber(x) {\r\n        return _setXYZ.call(this,x,0,0);\r\n    }\r\n\r\n    /**\r\n     * Set this Vector to the values in the provided Array or Vector.\r\n     *\r\n     * @method set\r\n     * @param {object} v array, Vector, or number\r\n     * @return {Vector} this\r\n     */\r\n    Vector.prototype.set = function set(v) {\r\n        if (v instanceof Array) return _setFromArray.call(this, v);\r\n        if (typeof v === 'number') return _setFromNumber.call(this, v);\r\n        return _setFromVector.call(this, v);\r\n    };\r\n\r\n    Vector.prototype.setXYZ = function(x,y,z) {\r\n        return _setXYZ.apply(this, arguments);\r\n    };\r\n\r\n    Vector.prototype.set1D = function(x) {\r\n        return _setFromNumber.call(this, x);\r\n    };\r\n\r\n    /**\r\n     * Put result of last internal register calculation in specified output vector.\r\n     *\r\n     * @method put\r\n     * @param {Vector} v destination vector\r\n     * @return {Vector} destination vector\r\n     */\r\n\r\n    Vector.prototype.put = function put(v) {\r\n        if (this === _register) _setFromVector.call(v, _register);\r\n        else _setFromVector.call(v, this);\r\n    };\r\n\r\n    /**\r\n     * Set this vector to [0,0,0]\r\n     *\r\n     * @method clear\r\n     */\r\n    Vector.prototype.clear = function clear() {\r\n        return _setXYZ.call(this,0,0,0);\r\n    };\r\n\r\n    /**\r\n     * Scale this Vector down to specified \"cap\" length.\r\n     *   If Vector shorter than cap, or cap is Infinity, do nothing.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method cap\r\n     * @return {Vector} capped vector\r\n     */\r\n    Vector.prototype.cap = function cap(cap) {\r\n        if (cap === Infinity) return _setFromVector.call(_register, this);\r\n        var norm = this.norm();\r\n        if (norm > cap) return _setFromVector.call(_register, this.mult(cap / norm));\r\n        else return _setFromVector.call(_register, this);\r\n    };\r\n\r\n    /**\r\n     * Return projection of this Vector onto another.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method project\r\n     * @param {Vector} n vector to project upon\r\n     * @return {Vector} projected vector\r\n     */\r\n    Vector.prototype.project = function project(n) {\r\n        return n.mult(this.dot(n));\r\n    };\r\n\r\n    /**\r\n     * Reflect this Vector across provided vector.\r\n     *   Note: This sets the internal result register, so other references to that vector will change.\r\n     *\r\n     * @method reflectAcross\r\n     * @param {Vector} n vector to reflect across\r\n     * @return {Vector} reflected vector\r\n     */\r\n    Vector.prototype.reflectAcross = function reflectAcross(n) {\r\n        n.normalize().put(n);\r\n        return _setFromVector(_register, this.sub(this.project(n).mult(2)));\r\n    };\r\n\r\n    /**\r\n     * Convert Vector to three-element array.\r\n     *\r\n     * @method get\r\n     * @return {array<number>} three-element array\r\n     */\r\n    Vector.prototype.get = function get() {\r\n        return [this.x, this.y, this.z];\r\n    };\r\n\r\n    Vector.prototype.get1D = function() {\r\n        return this.x;\r\n    };\r\n\r\n    module.exports = Vector;\r\n\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/math/Vector.js\n ** module id = 47\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Vector = require('../../math/Vector');\r\n    var Transform = require('../../core/Transform');\r\n    var EventHandler = require('../../core/EventHandler');\r\n    var Integrator = require('../integrators/SymplecticEuler');\r\n\r\n    /**\r\n     * A point body that is controlled by the Physics Engine. A particle has\r\n     *   position and velocity states that are updated by the Physics Engine.\r\n     *   Ultimately, a particle is a special type of modifier, and can be added to\r\n     *   the Famo.us Scene Graph like any other modifier.\r\n     *\r\n     * @class Particle\r\n     * @uses EventHandler\r\n     * @extensionfor Body\r\n     *\r\n     * @param [options] {Options}           An object of configurable options.\r\n     * @param [options.position] {Array}    The position of the particle.\r\n     * @param [options.velocity] {Array}    The velocity of the particle.\r\n     * @param [options.mass] {Number}       The mass of the particle.\r\n     */\r\n     function Particle(options) {\r\n        options = options || {};\r\n        var defaults = Particle.DEFAULT_OPTIONS;\r\n\r\n        // registers\r\n        this.position = new Vector();\r\n        this.velocity = new Vector();\r\n        this.force = new Vector();\r\n\r\n        // state variables\r\n        this._engine = null;\r\n        this._isSleeping = true;\r\n        this._eventOutput = null;\r\n\r\n        // set scalars\r\n        this.mass = (options.mass !== undefined)\r\n            ? options.mass\r\n            : defaults.mass;\r\n\r\n        this.inverseMass = 1 / this.mass;\r\n\r\n        // set vectors\r\n        this.setPosition(options.position || defaults.position);\r\n        this.setVelocity(options.velocity || defaults.velocity);\r\n        this.force.set(options.force || [0,0,0]);\r\n\r\n        this.transform = Transform.identity.slice();\r\n\r\n        // cached _spec\r\n        this._spec = {\r\n            size : [true, true],\r\n            target : {\r\n                transform : this.transform,\r\n                origin : [0.5, 0.5],\r\n                target : null\r\n            }\r\n        };\r\n    }\r\n\r\n    Particle.DEFAULT_OPTIONS = {\r\n        position : [0, 0, 0],\r\n        velocity : [0, 0, 0],\r\n        mass : 1\r\n    };\r\n\r\n    //Catalogue of outputted events\r\n    var _events = {\r\n        start : 'start',\r\n        update : 'update',\r\n        end : 'end'\r\n    };\r\n\r\n    // Cached timing function\r\n    var now = Date.now;\r\n\r\n    /**\r\n     * @attribute isBody\r\n     * @type Boolean\r\n     * @static\r\n     */\r\n    Particle.prototype.isBody = false;\r\n\r\n    /**\r\n     * Determines if particle is active\r\n     *\r\n     * @method isActive\r\n     * @return {Boolean}\r\n     */\r\n    Particle.prototype.isActive = function isActive() {\r\n        return !this._isSleeping;\r\n    };\r\n\r\n    /**\r\n     * Stops the particle from updating\r\n     *\r\n     * @method sleep\r\n     */\r\n    Particle.prototype.sleep = function sleep() {\r\n        if (this._isSleeping) return;\r\n        this.emit(_events.end, this);\r\n        this._isSleeping = true;\r\n    };\r\n\r\n    /**\r\n     * Starts the particle update\r\n     *\r\n     * @method wake\r\n     */\r\n    Particle.prototype.wake = function wake() {\r\n        if (!this._isSleeping) return;\r\n        this.emit(_events.start, this);\r\n        this._isSleeping = false;\r\n        this._prevTime = now();\r\n        if (this._engine) this._engine.wake();\r\n    };\r\n\r\n    /**\r\n     * Basic setter for position\r\n     *\r\n     * @method setPosition\r\n     * @param position {Array|Vector}\r\n     */\r\n    Particle.prototype.setPosition = function setPosition(position) {\r\n        this.position.set(position);\r\n    };\r\n\r\n    /**\r\n     * 1-dimensional setter for position\r\n     *\r\n     * @method setPosition1D\r\n     * @param x {Number}\r\n     */\r\n    Particle.prototype.setPosition1D = function setPosition1D(x) {\r\n        this.position.x = x;\r\n    };\r\n\r\n    /**\r\n     * Basic getter function for position\r\n     *\r\n     * @method getPosition\r\n     * @return position {Array}\r\n     */\r\n    Particle.prototype.getPosition = function getPosition() {\r\n        this._engine.step();\r\n        return this.position.get();\r\n    };\r\n\r\n    /**\r\n     * 1-dimensional getter for position\r\n     *\r\n     * @method getPosition1D\r\n     * @return value {Number}\r\n     */\r\n    Particle.prototype.getPosition1D = function getPosition1D() {\r\n        this._engine.step();\r\n        return this.position.x;\r\n    };\r\n\r\n    /**\r\n     * Basic setter function for velocity Vector\r\n     *\r\n     * @method setVelocity\r\n     * @function\r\n     */\r\n    Particle.prototype.setVelocity = function setVelocity(velocity) {\r\n        this.velocity.set(velocity);\r\n        if (!(velocity[0] === 0 && velocity[1] === 0 && velocity[2] === 0))\r\n            this.wake();\r\n    };\r\n\r\n    /**\r\n     * 1-dimensional setter for velocity\r\n     *\r\n     * @method setVelocity1D\r\n     * @param x {Number}\r\n     */\r\n    Particle.prototype.setVelocity1D = function setVelocity1D(x) {\r\n        this.velocity.x = x;\r\n        if (x !== 0) this.wake();\r\n    };\r\n\r\n    /**\r\n     * Basic getter function for velocity Vector\r\n     *\r\n     * @method getVelocity\r\n     * @return velocity {Array}\r\n     */\r\n    Particle.prototype.getVelocity = function getVelocity() {\r\n        return this.velocity.get();\r\n    };\r\n\r\n    /**\r\n     * Basic setter function for force Vector\r\n     *\r\n     * @method setForce\r\n     * @return force {Array}\r\n     */\r\n    Particle.prototype.setForce = function setForce(force) {\r\n        this.force.set(force);\r\n        this.wake();\r\n    };\r\n\r\n    /**\r\n     * 1-dimensional getter for velocity\r\n     *\r\n     * @method getVelocity1D\r\n     * @return velocity {Number}\r\n     */\r\n    Particle.prototype.getVelocity1D = function getVelocity1D() {\r\n        return this.velocity.x;\r\n    };\r\n\r\n    /**\r\n     * Basic setter function for mass quantity\r\n     *\r\n     * @method setMass\r\n     * @param mass {Number} mass\r\n     */\r\n    Particle.prototype.setMass = function setMass(mass) {\r\n        this.mass = mass;\r\n        this.inverseMass = 1 / mass;\r\n    };\r\n\r\n    /**\r\n     * Basic getter function for mass quantity\r\n     *\r\n     * @method getMass\r\n     * @return mass {Number}\r\n     */\r\n    Particle.prototype.getMass = function getMass() {\r\n        return this.mass;\r\n    };\r\n\r\n    /**\r\n     * Reset position and velocity\r\n     *\r\n     * @method reset\r\n     * @param position {Array|Vector}\r\n     * @param velocity {Array|Vector}\r\n     */\r\n    Particle.prototype.reset = function reset(position, velocity) {\r\n        this.setPosition(position || [0,0,0]);\r\n        this.setVelocity(velocity || [0,0,0]);\r\n    };\r\n\r\n    /**\r\n     * Add force vector to existing internal force Vector\r\n     *\r\n     * @method applyForce\r\n     * @param force {Vector}\r\n     */\r\n    Particle.prototype.applyForce = function applyForce(force) {\r\n        if (force.isZero()) return;\r\n        this.force.add(force).put(this.force);\r\n        this.wake();\r\n    };\r\n\r\n    /**\r\n     * Add impulse (change in velocity) Vector to this Vector's velocity.\r\n     *\r\n     * @method applyImpulse\r\n     * @param impulse {Vector}\r\n     */\r\n    Particle.prototype.applyImpulse = function applyImpulse(impulse) {\r\n        if (impulse.isZero()) return;\r\n        var velocity = this.velocity;\r\n        velocity.add(impulse.mult(this.inverseMass)).put(velocity);\r\n    };\r\n\r\n    /**\r\n     * Update a particle's velocity from its force accumulator\r\n     *\r\n     * @method integrateVelocity\r\n     * @param dt {Number} Time differential\r\n     */\r\n    Particle.prototype.integrateVelocity = function integrateVelocity(dt) {\r\n        Integrator.integrateVelocity(this, dt);\r\n    };\r\n\r\n    /**\r\n     * Update a particle's position from its velocity\r\n     *\r\n     * @method integratePosition\r\n     * @param dt {Number} Time differential\r\n     */\r\n    Particle.prototype.integratePosition = function integratePosition(dt) {\r\n        Integrator.integratePosition(this, dt);\r\n    };\r\n\r\n    /**\r\n     * Update the position and velocity of the particle\r\n     *\r\n     * @method _integrate\r\n     * @protected\r\n     * @param dt {Number} Time differential\r\n     */\r\n    Particle.prototype._integrate = function _integrate(dt) {\r\n        this.integrateVelocity(dt);\r\n        this.integratePosition(dt);\r\n    };\r\n\r\n    /**\r\n     * Get kinetic energy of the particle.\r\n     *\r\n     * @method getEnergy\r\n     * @function\r\n     */\r\n    Particle.prototype.getEnergy = function getEnergy() {\r\n        return 0.5 * this.mass * this.velocity.normSquared();\r\n    };\r\n\r\n    /**\r\n     * Generate transform from the current position state\r\n     *\r\n     * @method getTransform\r\n     * @return Transform {Transform}\r\n     */\r\n    Particle.prototype.getTransform = function getTransform() {\r\n        this._engine.step();\r\n\r\n        var position = this.position;\r\n        var transform = this.transform;\r\n\r\n        transform[12] = position.x;\r\n        transform[13] = position.y;\r\n        transform[14] = position.z;\r\n        return transform;\r\n    };\r\n\r\n    /**\r\n     * The modify interface of a Modifier\r\n     *\r\n     * @method modify\r\n     * @param target {Spec}\r\n     * @return Spec {Spec}\r\n     */\r\n    Particle.prototype.modify = function modify(target) {\r\n        var _spec = this._spec.target;\r\n        _spec.transform = this.getTransform();\r\n        _spec.target = target;\r\n        return this._spec;\r\n    };\r\n\r\n    // private\r\n    function _createEventOutput() {\r\n        this._eventOutput = new EventHandler();\r\n        this._eventOutput.bindThis(this);\r\n        EventHandler.setOutputHandler(this, this._eventOutput);\r\n    }\r\n\r\n    Particle.prototype.emit = function emit(type, data) {\r\n        if (!this._eventOutput) return;\r\n        this._eventOutput.emit(type, data);\r\n    };\r\n\r\n    Particle.prototype.on = function on() {\r\n        _createEventOutput.call(this);\r\n        return this.on.apply(this, arguments);\r\n    };\r\n\r\n    Particle.prototype.removeListener = function removeListener() {\r\n        _createEventOutput.call(this);\r\n        return this.removeListener.apply(this, arguments);\r\n    };\r\n\r\n    Particle.prototype.pipe = function pipe() {\r\n        _createEventOutput.call(this);\r\n        return this.pipe.apply(this, arguments);\r\n    };\r\n\r\n    Particle.prototype.unpipe = function unpipe() {\r\n        _createEventOutput.call(this);\r\n        return this.unpipe.apply(this, arguments);\r\n    };\r\n\r\n    module.exports = Particle;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/bodies/Particle.js\n ** module id = 48\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n\r\n    /**\r\n     * Ordinary Differential Equation (ODE) Integrator.\r\n     * Manages updating a physics body's state over time.\r\n     *\r\n     *  p = position, v = velocity, m = mass, f = force, dt = change in time\r\n     *\r\n     *      v <- v + dt * f / m\r\n     *      p <- p + dt * v\r\n     *\r\n     *  q = orientation, w = angular velocity, L = angular momentum\r\n     *\r\n     *      L <- L + dt * t\r\n     *      q <- q + dt/2 * q * w\r\n     *\r\n     * @class SymplecticEuler\r\n     * @constructor\r\n     * @param {Object} options Options to set\r\n     */\r\n    var SymplecticEuler = {};\r\n\r\n    /*\r\n     * Updates the velocity of a physics body from its accumulated force.\r\n     *      v <- v + dt * f / m\r\n     *\r\n     * @method integrateVelocity\r\n     * @param {Body} physics body\r\n     * @param {Number} dt delta time\r\n     */\r\n    SymplecticEuler.integrateVelocity = function integrateVelocity(body, dt) {\r\n        var v = body.velocity;\r\n        var w = body.inverseMass;\r\n        var f = body.force;\r\n\r\n        if (f.isZero()) return;\r\n\r\n        v.add(f.mult(dt * w)).put(v);\r\n        f.clear();\r\n    };\r\n\r\n    /*\r\n     * Updates the position of a physics body from its velocity.\r\n     *      p <- p + dt * v\r\n     *\r\n     * @method integratePosition\r\n     * @param {Body} physics body\r\n     * @param {Number} dt delta time\r\n     */\r\n    SymplecticEuler.integratePosition = function integratePosition(body, dt) {\r\n        var p = body.position;\r\n        var v = body.velocity;\r\n\r\n        p.add(v.mult(dt)).put(p);\r\n    };\r\n\r\n    /*\r\n     * Updates the angular momentum of a physics body from its accumuled torque.\r\n     *      L <- L + dt * t\r\n     *\r\n     * @method integrateAngularMomentum\r\n     * @param {Body} physics body (except a particle)\r\n     * @param {Number} dt delta time\r\n     */\r\n    SymplecticEuler.integrateAngularMomentum = function integrateAngularMomentum(body, dt) {\r\n        var L = body.angularMomentum;\r\n        var t = body.torque;\r\n\r\n        if (t.isZero()) return;\r\n\r\n        L.add(t.mult(dt)).put(L);\r\n        t.clear();\r\n    };\r\n\r\n    /*\r\n     * Updates the orientation of a physics body from its angular velocity.\r\n     *      q <- q + dt/2 * q * w\r\n     *\r\n     * @method integrateOrientation\r\n     * @param {Body} physics body (except a particle)\r\n     * @param {Number} dt delta time\r\n     */\r\n    SymplecticEuler.integrateOrientation = function integrateOrientation(body, dt) {\r\n        var q = body.orientation;\r\n        var w = body.angularVelocity;\r\n\r\n        if (w.isZero()) return;\r\n        q.add(q.multiply(w).scalarMultiply(0.5 * dt)).put(q);\r\n//        q.normalize.put(q);\r\n    };\r\n\r\n    module.exports = SymplecticEuler;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/integrators/SymplecticEuler.js\n ** module id = 49\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\n/*global console */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Force = require('./Force');\r\n    var Vector = require('../../math/Vector');\r\n\r\n    /**\r\n     *  A force that moves a physics body to a location with a spring motion.\r\n     *    The body can be moved to another physics body, or an anchor point.\r\n     *\r\n     *  @class Spring\r\n     *  @constructor\r\n     *  @extends Force\r\n     *  @param {Object} options options to set on drag\r\n     */\r\n    function Spring(options) {\r\n        Force.call(this);\r\n\r\n        this.options = Object.create(this.constructor.DEFAULT_OPTIONS);\r\n        if (options) this.setOptions(options);\r\n\r\n        //registers\r\n        this.disp = new Vector(0,0,0);\r\n\r\n        _init.call(this);\r\n    }\r\n\r\n    Spring.prototype = Object.create(Force.prototype);\r\n    Spring.prototype.constructor = Spring;\r\n\r\n    /** @const */\r\n    var pi = Math.PI;\r\n    var MIN_PERIOD = 150;\r\n\r\n    /**\r\n     * @property Spring.FORCE_FUNCTIONS\r\n     * @type Object\r\n     * @protected\r\n     * @static\r\n     */\r\n    Spring.FORCE_FUNCTIONS = {\r\n\r\n        /**\r\n         * A FENE (Finitely Extensible Nonlinear Elastic) spring force\r\n         *      see: http://en.wikipedia.org/wiki/FENE\r\n         * @attribute FENE\r\n         * @type Function\r\n         * @param {Number} dist current distance target is from source body\r\n         * @param {Number} rMax maximum range of influence\r\n         * @return {Number} unscaled force\r\n         */\r\n        FENE : function(dist, rMax) {\r\n            var rMaxSmall = rMax * .99;\r\n            var r = Math.max(Math.min(dist, rMaxSmall), -rMaxSmall);\r\n            return r / (1 - r * r/(rMax * rMax));\r\n        },\r\n\r\n        /**\r\n         * A Hookean spring force, linear in the displacement\r\n         *      see: http://en.wikipedia.org/wiki/Hooke's_law\r\n         * @attribute FENE\r\n         * @type Function\r\n         * @param {Number} dist current distance target is from source body\r\n         * @return {Number} unscaled force\r\n         */\r\n        HOOK : function(dist) {\r\n            return dist;\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @property Spring.DEFAULT_OPTIONS\r\n     * @type Object\r\n     * @protected\r\n     * @static\r\n     */\r\n    Spring.DEFAULT_OPTIONS = {\r\n\r\n        /**\r\n         * The amount of time in milliseconds taken for one complete oscillation\r\n         * when there is no damping\r\n         *    Range : [150, Infinity]\r\n         * @attribute period\r\n         * @type Number\r\n         * @default 300\r\n         */\r\n        period : 300,\r\n\r\n        /**\r\n         * The damping of the spring.\r\n         *    Range : [0, 1]\r\n         *    0 = no damping, and the spring will oscillate forever\r\n         *    1 = critically damped (the spring will never oscillate)\r\n         * @attribute dampingRatio\r\n         * @type Number\r\n         * @default 0.1\r\n         */\r\n        dampingRatio : 0.1,\r\n\r\n        /**\r\n         * The rest length of the spring\r\n         *    Range : [0, Infinity]\r\n         * @attribute length\r\n         * @type Number\r\n         * @default 0\r\n         */\r\n        length : 0,\r\n\r\n        /**\r\n         * The maximum length of the spring (for a FENE spring)\r\n         *    Range : [0, Infinity]\r\n         * @attribute length\r\n         * @type Number\r\n         * @default Infinity\r\n         */\r\n        maxLength : Infinity,\r\n\r\n        /**\r\n         * The location of the spring's anchor, if not another physics body\r\n         *\r\n         * @attribute anchor\r\n         * @type Array\r\n         * @optional\r\n         */\r\n        anchor : undefined,\r\n\r\n        /**\r\n         * The type of spring force\r\n         * @attribute forceFunction\r\n         * @type Function\r\n         */\r\n        forceFunction : Spring.FORCE_FUNCTIONS.HOOK\r\n    };\r\n\r\n    function _calcStiffness() {\r\n        var options = this.options;\r\n        options.stiffness = Math.pow(2 * pi / options.period, 2);\r\n    }\r\n\r\n    function _calcDamping() {\r\n        var options = this.options;\r\n        options.damping = 4 * pi * options.dampingRatio / options.period;\r\n    }\r\n\r\n    function _init() {\r\n        _calcStiffness.call(this);\r\n        _calcDamping.call(this);\r\n    }\r\n\r\n    /**\r\n     * Basic options setter\r\n     *\r\n     * @method setOptions\r\n     * @param options {Object}\r\n     */\r\n    Spring.prototype.setOptions = function setOptions(options) {\r\n        // TODO fix no-console error\r\n        /* eslint no-console: 0 */\r\n\r\n        if (options.anchor !== undefined) {\r\n            if (options.anchor.position instanceof Vector) this.options.anchor = options.anchor.position;\r\n            if (options.anchor instanceof Vector) this.options.anchor = options.anchor;\r\n            if (options.anchor instanceof Array)  this.options.anchor = new Vector(options.anchor);\r\n        }\r\n\r\n        if (options.period !== undefined){\r\n            if (options.period < MIN_PERIOD) {\r\n                options.period = MIN_PERIOD;\r\n                console.warn('The period of a SpringTransition is capped at ' + MIN_PERIOD + ' ms. Use a SnapTransition for faster transitions');\r\n            }\r\n            this.options.period = options.period;\r\n        }\r\n\r\n        if (options.dampingRatio !== undefined) this.options.dampingRatio = options.dampingRatio;\r\n        if (options.length !== undefined) this.options.length = options.length;\r\n        if (options.forceFunction !== undefined) this.options.forceFunction = options.forceFunction;\r\n        if (options.maxLength !== undefined) this.options.maxLength = options.maxLength;\r\n\r\n        _init.call(this);\r\n        Force.prototype.setOptions.call(this, options);\r\n    };\r\n\r\n    /**\r\n     * Adds a spring force to a physics body's force accumulator.\r\n     *\r\n     * @method applyForce\r\n     * @param targets {Array.Body} Array of bodies to apply force to.\r\n     */\r\n    Spring.prototype.applyForce = function applyForce(targets, source) {\r\n        var force = this.force;\r\n        var disp = this.disp;\r\n        var options = this.options;\r\n\r\n        var stiffness = options.stiffness;\r\n        var damping = options.damping;\r\n        var restLength = options.length;\r\n        var maxLength = options.maxLength;\r\n        var anchor = options.anchor || source.position;\r\n        var forceFunction = options.forceFunction;\r\n\r\n        var i;\r\n        var target;\r\n        var p2;\r\n        var v2;\r\n        var dist;\r\n        var m;\r\n\r\n        for (i = 0; i < targets.length; i++) {\r\n            target = targets[i];\r\n            p2 = target.position;\r\n            v2 = target.velocity;\r\n\r\n            anchor.sub(p2).put(disp);\r\n            dist = disp.norm() - restLength;\r\n\r\n            if (dist === 0) return;\r\n\r\n            //if dampingRatio specified, then override strength and damping\r\n            m      = target.mass;\r\n            stiffness *= m;\r\n            damping   *= m;\r\n\r\n            disp.normalize(stiffness * forceFunction(dist, maxLength))\r\n                .put(force);\r\n\r\n            if (damping)\r\n                if (source) force.add(v2.sub(source.velocity).mult(-damping)).put(force);\r\n                else force.add(v2.mult(-damping)).put(force);\r\n\r\n            target.applyForce(force);\r\n            if (source) source.applyForce(force.mult(-1));\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Calculates the potential energy of the spring.\r\n     *\r\n     * @method getEnergy\r\n     * @param [targets] target  The physics body attached to the spring\r\n     * @return {source}         The potential energy of the spring\r\n     */\r\n    Spring.prototype.getEnergy = function getEnergy(targets, source) {\r\n        var options     = this.options;\r\n        var restLength  = options.length;\r\n        var anchor      = (source) ? source.position : options.anchor;\r\n        var strength    = options.stiffness;\r\n\r\n        var energy = 0.0;\r\n        for (var i = 0; i < targets.length; i++){\r\n            var target = targets[i];\r\n            var dist = anchor.sub(target.position).norm() - restLength;\r\n            energy += 0.5 * strength * dist * dist;\r\n        }\r\n        return energy;\r\n    };\r\n\r\n    module.exports = Spring;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/forces/Spring.js\n ** module id = 50\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Vector = require('../../math/Vector');\r\n    var EventHandler = require('../../core/EventHandler');\r\n\r\n    /**\r\n     * Force base class.\r\n     *\r\n     * @class Force\r\n     * @uses EventHandler\r\n     * @constructor\r\n     */\r\n    function Force(force) {\r\n        this.force = new Vector(force);\r\n        this._eventOutput = new EventHandler();\r\n        EventHandler.setOutputHandler(this, this._eventOutput);\r\n    }\r\n\r\n    /**\r\n     * Basic setter for options\r\n     *\r\n     * @method setOptions\r\n     * @param options {Objects}\r\n     */\r\n    Force.prototype.setOptions = function setOptions(options) {\r\n        this._eventOutput.emit('change', options);\r\n    };\r\n\r\n    /**\r\n     * Adds a force to a physics body's force accumulator.\r\n     *\r\n     * @method applyForce\r\n     * @param targets {Array.Body} Array of bodies to apply a force to.\r\n     */\r\n    Force.prototype.applyForce = function applyForce(targets) {\r\n        var length = targets.length;\r\n        while (length--) {\r\n            targets[length].applyForce(this.force);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Getter for a force's potential energy.\r\n     *\r\n     * @method getEnergy\r\n     * @return energy {Number}\r\n     */\r\n    Force.prototype.getEnergy = function getEnergy() {\r\n        return 0.0;\r\n    };\r\n\r\n    module.exports = Force;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/forces/Force.js\n ** module id = 51\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\ndefine(function(require, exports, module) {\r\n    var EventHandler = require('../core/EventHandler');\r\n\r\n    /**\r\n     * The Physics Engine is responsible for mediating bodies with their\r\n     *   interaction with forces and constraints (agents). Specifically, it\r\n     *   is responsible for:\r\n     *\r\n     *   - adding and removing bodies\r\n     *   - updating a body's state over time\r\n     *   - attaching and detaching agents\r\n     *   - sleeping upon equillibrium and waking upon excitation\r\n     *\r\n     * @class PhysicsEngine\r\n     * @constructor\r\n     * @param options {Object} options\r\n     */\r\n    function PhysicsEngine(options) {\r\n        this.options = Object.create(PhysicsEngine.DEFAULT_OPTIONS);\r\n        if (options) this.setOptions(options);\r\n\r\n        this._particles      = [];   //list of managed particles\r\n        this._bodies         = [];   //list of managed bodies\r\n        this._agentData      = {};   //hash of managed agent data\r\n        this._forces         = [];   //list of Ids of agents that are forces\r\n        this._constraints    = [];   //list of Ids of agents that are constraints\r\n\r\n        this._buffer         = 0.0;\r\n        this._prevTime       = now();\r\n        this._isSleeping     = false;\r\n        this._eventHandler   = null;\r\n        this._currAgentId    = 0;\r\n        this._hasBodies      = false;\r\n        this._eventHandler   = null;\r\n    }\r\n\r\n    /** const */\r\n    var TIMESTEP = 17;\r\n    var MIN_TIME_STEP = 1000 / 120;\r\n    var MAX_TIME_STEP = 17;\r\n\r\n    var now = Date.now;\r\n\r\n    // Catalogue of outputted events\r\n    var _events = {\r\n        start : 'start',\r\n        update : 'update',\r\n        end : 'end'\r\n    };\r\n\r\n    /**\r\n     * @property PhysicsEngine.DEFAULT_OPTIONS\r\n     * @type Object\r\n     * @protected\r\n     * @static\r\n     */\r\n    PhysicsEngine.DEFAULT_OPTIONS = {\r\n\r\n        /**\r\n         * The number of iterations the engine takes to resolve constraints\r\n         * @attribute constraintSteps\r\n         * @type Number\r\n         */\r\n        constraintSteps : 1,\r\n\r\n        /**\r\n         * The energy threshold required for the Physics Engine to update\r\n         * @attribute sleepTolerance\r\n         * @type Number\r\n         */\r\n        sleepTolerance : 1e-7,\r\n\r\n        /**\r\n         * The maximum velocity magnitude of a physics body\r\n         *      Range : [0, Infinity]\r\n         * @attribute velocityCap\r\n         * @type Number\r\n         */\r\n        velocityCap : undefined,\r\n\r\n        /**\r\n         * The maximum angular velocity magnitude of a physics body\r\n         *      Range : [0, Infinity]\r\n         * @attribute angularVelocityCap\r\n         * @type Number\r\n         */\r\n        angularVelocityCap : undefined\r\n    };\r\n\r\n    /**\r\n     * Options setter\r\n     *\r\n     * @method setOptions\r\n     * @param opts {Object}\r\n     */\r\n    PhysicsEngine.prototype.setOptions = function setOptions(opts) {\r\n        for (var key in opts) if (this.options[key]) this.options[key] = opts[key];\r\n    };\r\n\r\n    /**\r\n     * Method to add a physics body to the engine. Necessary to update the\r\n     *   body over time.\r\n     *\r\n     * @method addBody\r\n     * @param body {Body}\r\n     * @return body {Body}\r\n     */\r\n    PhysicsEngine.prototype.addBody = function addBody(body) {\r\n        body._engine = this;\r\n        if (body.isBody) {\r\n            this._bodies.push(body);\r\n            this._hasBodies = true;\r\n        }\r\n        else this._particles.push(body);\r\n        body.on('start', this.wake.bind(this));\r\n        return body;\r\n    };\r\n\r\n    /**\r\n     * Remove a body from the engine. Detaches body from all forces and\r\n     *   constraints.\r\n     *\r\n     * TODO: Fix for in loop\r\n     *\r\n     * @method removeBody\r\n     * @param body {Body}\r\n     */\r\n    PhysicsEngine.prototype.removeBody = function removeBody(body) {\r\n        var array = (body.isBody) ? this._bodies : this._particles;\r\n        var index = array.indexOf(body);\r\n        if (index > -1) {\r\n            for (var agentKey in this._agentData) {\r\n                if (this._agentData.hasOwnProperty(agentKey)) {\r\n                    this.detachFrom(this._agentData[agentKey].id, body);\r\n                }\r\n            }\r\n            array.splice(index,1);\r\n        }\r\n        if (this.getBodies().length === 0) this._hasBodies = false;\r\n    };\r\n\r\n    function _mapAgentArray(agent) {\r\n        if (agent.applyForce)      return this._forces;\r\n        if (agent.applyConstraint) return this._constraints;\r\n    }\r\n\r\n    function _attachOne(agent, targets, source) {\r\n        if (targets === undefined) targets = this.getParticlesAndBodies();\r\n        if (!(targets instanceof Array)) targets = [targets];\r\n\r\n        agent.on('change', this.wake.bind(this));\r\n\r\n        this._agentData[this._currAgentId] = {\r\n            agent   : agent,\r\n            id      : this._currAgentId,\r\n            targets : targets,\r\n            source  : source\r\n        };\r\n\r\n        _mapAgentArray.call(this, agent).push(this._currAgentId);\r\n        return this._currAgentId++;\r\n    }\r\n\r\n    /**\r\n     * Attaches a force or constraint to a Body. Returns an AgentId of the\r\n     *   attached agent which can be used to detach the agent.\r\n     *\r\n     * @method attach\r\n     * @param agents {Agent|Array.Agent} A force, constraint, or array of them.\r\n     * @param [targets=All] {Body|Array.Body} The Body or Bodies affected by the agent\r\n     * @param [source] {Body} The source of the agent\r\n     * @return AgentId {Number}\r\n     */\r\n    PhysicsEngine.prototype.attach = function attach(agents, targets, source) {\r\n        this.wake();\r\n\r\n        if (agents instanceof Array) {\r\n            var agentIDs = [];\r\n            for (var i = 0; i < agents.length; i++)\r\n                agentIDs[i] = _attachOne.call(this, agents[i], targets, source);\r\n            return agentIDs;\r\n        }\r\n        else return _attachOne.call(this, agents, targets, source);\r\n    };\r\n\r\n    /**\r\n     * Append a body to the targets of a previously defined physics agent.\r\n     *\r\n     * @method attachTo\r\n     * @param agentID {AgentId} The agentId of a previously defined agent\r\n     * @param target {Body} The Body affected by the agent\r\n     */\r\n    PhysicsEngine.prototype.attachTo = function attachTo(agentID, target) {\r\n        _getAgentData.call(this, agentID).targets.push(target);\r\n    };\r\n\r\n    /**\r\n     * Undoes PhysicsEngine.attach. Removes an agent and its associated\r\n     *   effect on its affected Bodies.\r\n     *\r\n     * @method detach\r\n     * @param id {AgentId} The agentId of a previously defined agent\r\n     */\r\n    PhysicsEngine.prototype.detach = function detach(id) {\r\n        // detach from forces/constraints array\r\n        var agent = this.getAgent(id);\r\n        var agentArray = _mapAgentArray.call(this, agent);\r\n        var index = agentArray.indexOf(id);\r\n        agentArray.splice(index,1);\r\n\r\n        // detach agents array\r\n        delete this._agentData[id];\r\n    };\r\n\r\n    /**\r\n     * Remove a single Body from a previously defined agent.\r\n     *\r\n     * @method detach\r\n     * @param id {AgentId} The agentId of a previously defined agent\r\n     * @param target {Body} The body to remove from the agent\r\n     */\r\n    PhysicsEngine.prototype.detachFrom = function detachFrom(id, target) {\r\n        var boundAgent = _getAgentData.call(this, id);\r\n        if (boundAgent.source === target) this.detach(id);\r\n        else {\r\n            var targets = boundAgent.targets;\r\n            var index = targets.indexOf(target);\r\n            if (index > -1) targets.splice(index,1);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * A convenience method to give the Physics Engine a clean slate of\r\n     * agents. Preserves all added Body objects.\r\n     *\r\n     * @method detachAll\r\n     */\r\n    PhysicsEngine.prototype.detachAll = function detachAll() {\r\n        this._agentData     = {};\r\n        this._forces        = [];\r\n        this._constraints   = [];\r\n        this._currAgentId   = 0;\r\n    };\r\n\r\n    function _getAgentData(id) {\r\n        return this._agentData[id];\r\n    }\r\n\r\n    /**\r\n     * Returns the corresponding agent given its agentId.\r\n     *\r\n     * @method getAgent\r\n     * @param id {AgentId}\r\n     */\r\n    PhysicsEngine.prototype.getAgent = function getAgent(id) {\r\n        return _getAgentData.call(this, id).agent;\r\n    };\r\n\r\n    /**\r\n     * Returns all particles that are currently managed by the Physics Engine.\r\n     *\r\n     * @method getParticles\r\n     * @return particles {Array.Particles}\r\n     */\r\n    PhysicsEngine.prototype.getParticles = function getParticles() {\r\n        return this._particles;\r\n    };\r\n\r\n    /**\r\n     * Returns all bodies, except particles, that are currently managed by the Physics Engine.\r\n     *\r\n     * @method getBodies\r\n     * @return bodies {Array.Bodies}\r\n     */\r\n    PhysicsEngine.prototype.getBodies = function getBodies() {\r\n        return this._bodies;\r\n    };\r\n\r\n    /**\r\n     * Returns all bodies that are currently managed by the Physics Engine.\r\n     *\r\n     * @method getBodies\r\n     * @return bodies {Array.Bodies}\r\n     */\r\n    PhysicsEngine.prototype.getParticlesAndBodies = function getParticlesAndBodies() {\r\n        return this.getParticles().concat(this.getBodies());\r\n    };\r\n\r\n    /**\r\n     * Iterates over every Particle and applies a function whose first\r\n     *   argument is the Particle\r\n     *\r\n     * @method forEachParticle\r\n     * @param fn {Function} Function to iterate over\r\n     * @param [dt] {Number} Delta time\r\n     */\r\n    PhysicsEngine.prototype.forEachParticle = function forEachParticle(fn, dt) {\r\n        var particles = this.getParticles();\r\n        for (var index = 0, len = particles.length; index < len; index++)\r\n            fn.call(this, particles[index], dt);\r\n    };\r\n\r\n    /**\r\n     * Iterates over every Body that isn't a Particle and applies\r\n     *   a function whose first argument is the Body\r\n     *\r\n     * @method forEachBody\r\n     * @param fn {Function} Function to iterate over\r\n     * @param [dt] {Number} Delta time\r\n     */\r\n    PhysicsEngine.prototype.forEachBody = function forEachBody(fn, dt) {\r\n        if (!this._hasBodies) return;\r\n        var bodies = this.getBodies();\r\n        for (var index = 0, len = bodies.length; index < len; index++)\r\n            fn.call(this, bodies[index], dt);\r\n    };\r\n\r\n    /**\r\n     * Iterates over every Body and applies a function whose first\r\n     *   argument is the Body\r\n     *\r\n     * @method forEach\r\n     * @param fn {Function} Function to iterate over\r\n     * @param [dt] {Number} Delta time\r\n     */\r\n    PhysicsEngine.prototype.forEach = function forEach(fn, dt) {\r\n        this.forEachParticle(fn, dt);\r\n        this.forEachBody(fn, dt);\r\n    };\r\n\r\n    function _updateForce(index) {\r\n        var boundAgent = _getAgentData.call(this, this._forces[index]);\r\n        boundAgent.agent.applyForce(boundAgent.targets, boundAgent.source);\r\n    }\r\n\r\n    function _updateForces() {\r\n        for (var index = this._forces.length - 1; index > -1; index--)\r\n            _updateForce.call(this, index);\r\n    }\r\n\r\n    function _updateConstraint(index, dt) {\r\n        var boundAgent = this._agentData[this._constraints[index]];\r\n        return boundAgent.agent.applyConstraint(boundAgent.targets, boundAgent.source, dt);\r\n    }\r\n\r\n    function _updateConstraints(dt) {\r\n        var iteration = 0;\r\n        while (iteration < this.options.constraintSteps) {\r\n            for (var index = this._constraints.length - 1; index > -1; index--)\r\n                _updateConstraint.call(this, index, dt);\r\n            iteration++;\r\n        }\r\n    }\r\n\r\n    function _updateVelocities(body, dt) {\r\n        body.integrateVelocity(dt);\r\n        if (this.options.velocityCap)\r\n            body.velocity.cap(this.options.velocityCap).put(body.velocity);\r\n    }\r\n\r\n    function _updateAngularVelocities(body, dt) {\r\n        body.integrateAngularMomentum(dt);\r\n        body.updateAngularVelocity();\r\n        if (this.options.angularVelocityCap)\r\n            body.angularVelocity.cap(this.options.angularVelocityCap).put(body.angularVelocity);\r\n    }\r\n\r\n    function _updateOrientations(body, dt) {\r\n        body.integrateOrientation(dt);\r\n    }\r\n\r\n    function _updatePositions(body, dt) {\r\n        body.integratePosition(dt);\r\n        body.emit(_events.update, body);\r\n    }\r\n\r\n    function _integrate(dt) {\r\n        _updateForces.call(this, dt);\r\n        this.forEach(_updateVelocities, dt);\r\n        this.forEachBody(_updateAngularVelocities, dt);\r\n        _updateConstraints.call(this, dt);\r\n        this.forEachBody(_updateOrientations, dt);\r\n        this.forEach(_updatePositions, dt);\r\n    }\r\n\r\n    function _getParticlesEnergy() {\r\n        var energy = 0.0;\r\n        var particleEnergy = 0.0;\r\n        this.forEach(function(particle) {\r\n            particleEnergy = particle.getEnergy();\r\n            energy += particleEnergy;\r\n        });\r\n        return energy;\r\n    }\r\n\r\n    function _getAgentsEnergy() {\r\n        var energy = 0;\r\n        for (var id in this._agentData)\r\n            energy += this.getAgentEnergy(id);\r\n        return energy;\r\n    }\r\n\r\n    /**\r\n     * Calculates the potential energy of an agent, like a spring, by its Id\r\n     *\r\n     * @method getAgentEnergy\r\n     * @param agentId {Number} The attached agent Id\r\n     * @return energy {Number}\r\n     */\r\n    PhysicsEngine.prototype.getAgentEnergy = function(agentId) {\r\n        var agentData = _getAgentData.call(this, agentId);\r\n        return agentData.agent.getEnergy(agentData.targets, agentData.source);\r\n    };\r\n\r\n    /**\r\n     * Calculates the kinetic energy of all Body objects and potential energy\r\n     *   of all attached agents.\r\n     *\r\n     * TODO: implement.\r\n     * @method getEnergy\r\n     * @return energy {Number}\r\n     */\r\n    PhysicsEngine.prototype.getEnergy = function getEnergy() {\r\n        return _getParticlesEnergy.call(this) + _getAgentsEnergy.call(this);\r\n    };\r\n\r\n    /**\r\n     * Updates all Body objects managed by the physics engine over the\r\n     *   time duration since the last time step was called.\r\n     *\r\n     * @method step\r\n     */\r\n    PhysicsEngine.prototype.step = function step() {\r\n        if (this.isSleeping()) return;\r\n\r\n        //set current frame's time\r\n        var currTime = now();\r\n\r\n        //milliseconds elapsed since last frame\r\n        var dtFrame = currTime - this._prevTime;\r\n\r\n        this._prevTime = currTime;\r\n\r\n        if (dtFrame < MIN_TIME_STEP) return;\r\n        if (dtFrame > MAX_TIME_STEP) dtFrame = MAX_TIME_STEP;\r\n\r\n        //robust integration\r\n//        this._buffer += dtFrame;\r\n//        while (this._buffer > this._timestep){\r\n//            _integrate.call(this, this._timestep);\r\n//            this._buffer -= this._timestep;\r\n//        };\r\n//        _integrate.call(this, this._buffer);\r\n//        this._buffer = 0.0;\r\n\r\n        _integrate.call(this, TIMESTEP);\r\n\r\n        this.emit(_events.update, this);\r\n\r\n        if (this.getEnergy() < this.options.sleepTolerance) this.sleep();\r\n    };\r\n\r\n    /**\r\n     * Tells whether the Physics Engine is sleeping or awake.\r\n     *\r\n     * @method isSleeping\r\n     * @return {Boolean}\r\n     */\r\n    PhysicsEngine.prototype.isSleeping = function isSleeping() {\r\n        return this._isSleeping;\r\n    };\r\n\r\n    /**\r\n     * Tells whether the Physics Engine is sleeping or awake.\r\n     *\r\n     * @method isActive\r\n     * @return {Boolean}\r\n     */\r\n    PhysicsEngine.prototype.isActive = function isSleeping() {\r\n        return !this._isSleeping;\r\n    };\r\n\r\n    /**\r\n     * Stops the Physics Engine update loop. Emits an 'end' event.\r\n     *\r\n     * @method sleep\r\n     */\r\n    PhysicsEngine.prototype.sleep = function sleep() {\r\n        if (this._isSleeping) return;\r\n        this.forEach(function(body) {\r\n            body.sleep();\r\n        });\r\n        this.emit(_events.end, this);\r\n        this._isSleeping = true;\r\n    };\r\n\r\n    /**\r\n     * Restarts the Physics Engine update loop. Emits an 'start' event.\r\n     *\r\n     * @method wake\r\n     */\r\n    PhysicsEngine.prototype.wake = function wake() {\r\n        if (!this._isSleeping) return;\r\n        this._prevTime = now();\r\n        this.emit(_events.start, this);\r\n        this._isSleeping = false;\r\n    };\r\n\r\n    PhysicsEngine.prototype.emit = function emit(type, data) {\r\n        if (this._eventHandler === null) return;\r\n        this._eventHandler.emit(type, data);\r\n    };\r\n\r\n    PhysicsEngine.prototype.on = function on(event, fn) {\r\n        if (this._eventHandler === null) this._eventHandler = new EventHandler();\r\n        this._eventHandler.on(event, fn);\r\n    };\r\n\r\n    module.exports = PhysicsEngine;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/PhysicsEngine.js\n ** module id = 52\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014 - 2015\r\n */\r\n\r\n/**\r\n * LayoutDockHelper helps positioning nodes using docking principles.\r\n *\r\n * **Example:**\r\n *\r\n * ```javascript\r\n * var LayoutDockHelper = require('famous-flex/helpers/LayoutDockHelper');\r\n *\r\n * function HeaderFooterLayout(context, options) {\r\n *   var dock = new LayoutDockHelper(context);\r\n *   dock.top('header', options.headerSize);\r\n *   dock.bottom('footer', options.footerSize);\r\n *   dock.fill('content');\r\n * };\r\n * ```\r\n *\r\n * You can also use layout-literals to create layouts using docking semantics:\r\n *\r\n * ```javascript\r\n * var layoutController = new LayoutController({\r\n *   layout: {dock: [\r\n *     ['top', 'header', 40],\r\n *     ['bottom', 'footer', 40, 1], // z-index +1\r\n *     ['fill', 'content']\r\n *   ]},\r\n *   dataSource: {\r\n *     header: new Surface({content: 'header'}),\r\n *     footer: new Surface({content: 'footer'}),\r\n *     content: new Surface({content: 'content'}),\r\n *   }\r\n * });\r\n * ```\r\n *\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var LayoutUtility = require('../LayoutUtility');\r\n\r\n    /**\r\n     * @class\r\n     * @param {LayoutContext} context layout-context\r\n     * @param {Object} [options] additional options\r\n     * @param {Object} [options.margins] margins to start out with (default: 0px)\r\n     * @param {Number} [options.translateZ] z-index to use when translating objects (default: 0)\r\n     * @alias module:LayoutDockHelper\r\n     */\r\n    function LayoutDockHelper(context, options) {\r\n        var size = context.size;\r\n        this._size = size;\r\n        this._context = context;\r\n        this._options = options;\r\n        this._data = {\r\n            z: (options && options.translateZ) ? options.translateZ : 0\r\n        };\r\n        if (options && options.margins) {\r\n            var margins = LayoutUtility.normalizeMargins(options.margins);\r\n            this._data.left = margins[3];\r\n            this._data.top = margins[0];\r\n            this._data.right = size[0] - margins[1];\r\n            this._data.bottom = size[1] - margins[2];\r\n        }\r\n        else {\r\n            this._data.left = 0;\r\n            this._data.top = 0;\r\n            this._data.right = size[0];\r\n            this._data.bottom = size[1];\r\n        }\r\n    }\r\n\r\n    /**\r\n     * Parses the layout-rules based on a JSON data object.\r\n     * The object should be an array with the following syntax:\r\n     * `[[rule, node, value, z], [rule, node, value, z], ...]`\r\n     *\r\n     * **Example:**\r\n     *\r\n     * ```JSON\r\n     * [\r\n     *   ['top', 'header', 50],\r\n     *   ['bottom', 'footer', 50, 10], // z-index: 10\r\n     *   ['margins', [10, 5]], // marginate remaining space: 10px top/bottom, 5px left/right\r\n     *   ['fill', 'content']\r\n     * ]\r\n     * ```\r\n     *\r\n     * @param {Object} data JSON object\r\n     */\r\n    LayoutDockHelper.prototype.parse = function(data) {\r\n        for (var i = 0; i < data.length; i++) {\r\n            var rule = data[i];\r\n            var value = (rule.length >= 3) ? rule[2] : undefined;\r\n            if (rule[0] === 'top') {\r\n                this.top(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\r\n            }\r\n            else if (rule[0] === 'left') {\r\n                this.left(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\r\n            }\r\n            else if (rule[0] === 'right') {\r\n                this.right(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\r\n            }\r\n            else if (rule[0] === 'bottom') {\r\n                this.bottom(rule[1], value, (rule.length >=4) ? rule[3] : undefined);\r\n            }\r\n            else if (rule[0] === 'fill') {\r\n                this.fill(rule[1], (rule.length >=3) ? rule[2] : undefined);\r\n            }\r\n            else if (rule[0] === 'margins') {\r\n                this.margins(rule[1]);\r\n            }\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Dock the node to the top.\r\n     *\r\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `height` argument argument is used for padding\r\n     * @param {Number} [height] height of the layout-node, when omitted the height of the node is used\r\n     * @param {Number} [z] z-index to use for the node\r\n     * @return {LayoutDockHelper} this\r\n     */\r\n    LayoutDockHelper.prototype.top = function(node, height, z) {\r\n        if (height instanceof Array) {\r\n            height = height[1];\r\n        }\r\n        if (height === undefined) {\r\n            var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\r\n            height = size[1];\r\n        }\r\n        this._context.set(node, {\r\n            size: [this._data.right - this._data.left, height],\r\n            origin: [0, 0],\r\n            align: [0, 0],\r\n            translate: [this._data.left, this._data.top, (z === undefined) ? this._data.z : z]\r\n        });\r\n        this._data.top += height;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Dock the node to the left\r\n     *\r\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `width` argument argument is used for padding\r\n     * @param {Number} [width] width of the layout-node, when omitted the width of the node is used\r\n     * @param {Number} [z] z-index to use for the node\r\n     * @return {LayoutDockHelper} this\r\n     */\r\n    LayoutDockHelper.prototype.left = function(node, width, z) {\r\n        if (width instanceof Array) {\r\n            width = width[0];\r\n        }\r\n        if (width === undefined) {\r\n            var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\r\n            width = size[0];\r\n        }\r\n        this._context.set(node, {\r\n            size: [width, this._data.bottom - this._data.top],\r\n            origin: [0, 0],\r\n            align: [0, 0],\r\n            translate: [this._data.left, this._data.top, (z === undefined) ? this._data.z : z]\r\n        });\r\n        this._data.left += width;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Dock the node to the bottom\r\n     *\r\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `height` argument argument is used for padding\r\n     * @param {Number} [height] height of the layout-node, when omitted the height of the node is used\r\n     * @param {Number} [z] z-index to use for the node\r\n     * @return {LayoutDockHelper} this\r\n     */\r\n    LayoutDockHelper.prototype.bottom = function(node, height, z) {\r\n        if (height instanceof Array) {\r\n            height = height[1];\r\n        }\r\n        if (height === undefined) {\r\n            var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\r\n            height = size[1];\r\n        }\r\n        this._context.set(node, {\r\n            size: [this._data.right - this._data.left, height],\r\n            origin: [0, 1],\r\n            align: [0, 1],\r\n            translate: [this._data.left, -(this._size[1] - this._data.bottom), (z === undefined) ? this._data.z : z]\r\n        });\r\n        this._data.bottom -= height;\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Dock the node to the right.\r\n     *\r\n     * @param {LayoutNode|String} [node] layout-node to dock, when omitted the `width` argument argument is used for padding\r\n     * @param {Number} [width] width of the layout-node, when omitted the width of the node is used\r\n     * @param {Number} [z] z-index to use for the node\r\n     * @return {LayoutDockHelper} this\r\n     */\r\n    LayoutDockHelper.prototype.right = function(node, width, z) {\r\n        if (width instanceof Array) {\r\n            width = width[0];\r\n        }\r\n        if (node) {\r\n            if (width === undefined) {\r\n                var size = this._context.resolveSize(node, [this._data.right - this._data.left, this._data.bottom - this._data.top]);\r\n                width = size[0];\r\n            }\r\n            this._context.set(node, {\r\n                size: [width, this._data.bottom - this._data.top],\r\n                origin: [1, 0],\r\n                align: [1, 0],\r\n                translate: [-(this._size[0] - this._data.right), this._data.top, (z === undefined) ? this._data.z : z]\r\n            });\r\n        }\r\n        if (width) {\r\n            this._data.right -= width;\r\n        }\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Fills the node to the remaining content.\r\n     *\r\n     * @param {LayoutNode|String} node layout-node to dock\r\n     * @param {Number} [z] z-index to use for the node\r\n     * @return {LayoutDockHelper} this\r\n     */\r\n    LayoutDockHelper.prototype.fill = function(node, z) {\r\n        this._context.set(node, {\r\n            size: [this._data.right - this._data.left, this._data.bottom - this._data.top],\r\n            translate: [this._data.left, this._data.top, (z === undefined) ? this._data.z : z]\r\n        });\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Applies indent margins to the remaining content.\r\n     *\r\n     * @param {Number|Array} margins margins shorthand (e.g. '5', [10, 10], [5, 10, 5, 10])\r\n     * @return {LayoutDockHelper} this\r\n     */\r\n    LayoutDockHelper.prototype.margins = function(margins) {\r\n        margins = LayoutUtility.normalizeMargins(margins);\r\n        this._data.left += margins[3];\r\n        this._data.top += margins[0];\r\n        this._data.right -= margins[1];\r\n        this._data.bottom -= margins[2];\r\n        return this;\r\n    };\r\n\r\n    /**\r\n     * Gets the current left/right/top/bottom/z bounds used by the dock-helper.\r\n     *\r\n     * @return {Object} `{left: x, right: x, top: x, bottom: x, z: x}`\r\n     */\r\n    LayoutDockHelper.prototype.get = function() {\r\n        return this._data;\r\n    };\r\n\r\n    // Register the helper\r\n    LayoutUtility.registerHelper('dock', LayoutDockHelper);\r\n\r\n    module.exports = LayoutDockHelper;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/helpers/LayoutDockHelper.js\n ** module id = 53\n ** module chunks = 0\n **/","\r\n/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Surface = require('../core/Surface');\r\n    var Context = require('../core/Context');\r\n\r\n    /**\r\n     * ContainerSurface is an object designed to contain surfaces and\r\n     *   set properties to be applied to all of them at once.\r\n     *   This extends the Surface class.\r\n     *   A container surface will enforce these properties on the\r\n     *   surfaces it contains:\r\n     *\r\n     *   size (clips contained surfaces to its own width and height);\r\n     *\r\n     *   origin;\r\n     *\r\n     *   its own opacity and transform, which will be automatically\r\n     *   applied to  all Surfaces contained directly and indirectly.\r\n     *\r\n     * @class ContainerSurface\r\n     * @extends Surface\r\n     * @constructor\r\n     * @param {Array.Number} [options.size] [width, height] in pixels\r\n     * @param {Array.string} [options.classes] CSS classes to set on all inner content\r\n     * @param {Array} [options.properties] string dictionary of HTML attributes to set on target div\r\n     * @param {string} [options.content] inner (HTML) content of surface (should not be used)\r\n     */\r\n    function ContainerSurface(options) {\r\n        Surface.call(this, options);\r\n        this._container = document.createElement('div');\r\n        this._container.classList.add('famous-group');\r\n        this._container.classList.add('famous-container-group');\r\n        this._shouldRecalculateSize = false;\r\n        this.context = new Context(this._container);\r\n        this.setContent(this._container);\r\n    }\r\n\r\n    ContainerSurface.prototype = Object.create(Surface.prototype);\r\n    ContainerSurface.prototype.constructor = ContainerSurface;\r\n    ContainerSurface.prototype.elementType = 'div';\r\n    ContainerSurface.prototype.elementClass = 'famous-surface';\r\n\r\n    /**\r\n     * Add renderables to this object's render tree\r\n     *\r\n     * @method add\r\n     *\r\n     * @param {Object} obj renderable object\r\n     * @return {RenderNode} RenderNode wrapping this object, if not already a RenderNode\r\n     */\r\n    ContainerSurface.prototype.add = function add() {\r\n        return this.context.add.apply(this.context, arguments);\r\n    };\r\n\r\n    /**\r\n     * Return spec for this surface.  Note: Can result in a size recalculation.\r\n     *\r\n     * @private\r\n     * @method render\r\n     *\r\n     * @return {Object} render spec for this surface (spec id)\r\n     */\r\n    ContainerSurface.prototype.render = function render() {\r\n        if (this._sizeDirty) this._shouldRecalculateSize = true;\r\n        return Surface.prototype.render.apply(this, arguments);\r\n    };\r\n\r\n    /**\r\n     * Place the document element this component manages into the document.\r\n     *\r\n     * @private\r\n     * @method deploy\r\n     * @param {Node} target document parent of this container\r\n     */\r\n    ContainerSurface.prototype.deploy = function deploy() {\r\n        this._shouldRecalculateSize = true;\r\n        return Surface.prototype.deploy.apply(this, arguments);\r\n    };\r\n\r\n    /**\r\n     * Apply changes from this component to the corresponding document element.\r\n     * This includes changes to classes, styles, size, content, opacity, origin,\r\n     * and matrix transforms.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     * @param {Context} context commit context\r\n     * @param {Transform} transform unused TODO\r\n     * @param {Number} opacity  unused TODO\r\n     * @param {Array.Number} origin unused TODO\r\n     * @param {Array.Number} size unused TODO\r\n     * @return {undefined} TODO returns an undefined value\r\n     */\r\n    ContainerSurface.prototype.commit = function commit(context, transform, opacity, origin, size) {\r\n        var previousSize = this._size ? [this._size[0], this._size[1]] : null;\r\n        var result = Surface.prototype.commit.apply(this, arguments);\r\n        if (this._shouldRecalculateSize || (previousSize && (this._size[0] !== previousSize[0] || this._size[1] !== previousSize[1]))) {\r\n            this.context.setSize();\r\n            this._shouldRecalculateSize = false;\r\n        }\r\n        this.context.update();\r\n        return result;\r\n    };\r\n\r\n    module.exports = ContainerSurface;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/surfaces/ContainerSurface.js\n ** module id = 54\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Context = require('./Context');\r\n    var Transform = require('./Transform');\r\n    var Surface = require('./Surface');\r\n\r\n    /**\r\n     * A Context designed to contain surfaces and set properties\r\n     *   to be applied to all of them at once.\r\n     *   This is primarily used for specific performance improvements in the rendering engine.\r\n     *   Private.\r\n     *\r\n     * @private\r\n     * @class Group\r\n     * @extends Surface\r\n     * @constructor\r\n     * @param {Object} [options] Surface options array (see Surface})\r\n     */\r\n    function Group(options) {\r\n        Surface.call(this, options);\r\n        this._shouldRecalculateSize = false;\r\n        this._container = document.createDocumentFragment();\r\n        this.context = new Context(this._container);\r\n        this.setContent(this._container);\r\n        this._groupSize = [undefined, undefined];\r\n    }\r\n\r\n    /** @const */\r\n    Group.SIZE_ZERO = [0, 0];\r\n\r\n    Group.prototype = Object.create(Surface.prototype);\r\n    Group.prototype.elementType = 'div';\r\n    Group.prototype.elementClass = 'famous-group';\r\n\r\n    /**\r\n     * Add renderables to this component's render tree.\r\n     *\r\n     * @method add\r\n     * @private\r\n     * @param {Object} obj renderable object\r\n     * @return {RenderNode} Render wrapping provided object, if not already a RenderNode\r\n     */\r\n    Group.prototype.add = function add() {\r\n        return this.context.add.apply(this.context, arguments);\r\n    };\r\n\r\n    /**\r\n     * Generate a render spec from the contents of this component.\r\n     *\r\n     * @private\r\n     * @method render\r\n     * @return {Number} Render spec for this component\r\n     */\r\n    Group.prototype.render = function render() {\r\n        return Surface.prototype.render.call(this);\r\n    };\r\n\r\n    /**\r\n     * Place the document element this component manages into the document.\r\n     *\r\n     * @private\r\n     * @method deploy\r\n     * @param {Node} target document parent of this container\r\n     */\r\n    Group.prototype.deploy = function deploy(target) {\r\n        this.context.migrate(target);\r\n    };\r\n\r\n    /**\r\n     * Remove this component and contained content from the document\r\n     *\r\n     * @private\r\n     * @method recall\r\n     *\r\n     * @param {Node} target node to which the component was deployed\r\n     */\r\n    Group.prototype.recall = function recall(target) {\r\n        this._container = document.createDocumentFragment();\r\n        this.context.migrate(this._container);\r\n    };\r\n\r\n    /**\r\n     * Apply changes from this component to the corresponding document element.\r\n     *\r\n     * @private\r\n     * @method commit\r\n     *\r\n     * @param {Object} context update spec passed in from above in the render tree.\r\n     */\r\n    Group.prototype.commit = function commit(context) {\r\n        var transform = context.transform;\r\n        var origin = context.origin;\r\n        var opacity = context.opacity;\r\n        var size = context.size;\r\n        var result = Surface.prototype.commit.call(this, {\r\n            allocator: context.allocator,\r\n            transform: Transform.thenMove(transform, [-origin[0] * size[0], -origin[1] * size[1], 0]),\r\n            opacity: opacity,\r\n            origin: origin,\r\n            size: Group.SIZE_ZERO\r\n        });\r\n        if (size[0] !== this._groupSize[0] || size[1] !== this._groupSize[1]) {\r\n            this._groupSize[0] = size[0];\r\n            this._groupSize[1] = size[1];\r\n            this.context.setSize(size);\r\n        }\r\n        this.context.update({\r\n            transform: Transform.translate(-origin[0] * size[0], -origin[1] * size[1], 0),\r\n            origin: origin,\r\n            size: size\r\n        });\r\n        return result;\r\n    };\r\n\r\n    module.exports = Group;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/core/Group.js\n ** module id = 55\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: david@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\n\r\ndefine(function(require, exports, module) {\r\n    var Force = require('./Force');\r\n\r\n    /**\r\n     * Drag is a force that opposes velocity. Attach it to the physics engine\r\n     * to slow down a physics body in motion.\r\n     *\r\n     * @class Drag\r\n     * @constructor\r\n     * @extends Force\r\n     * @param {Object} options options to set on drag\r\n     */\r\n    function Drag(options) {\r\n        this.options = Object.create(this.constructor.DEFAULT_OPTIONS);\r\n        if (options) this.setOptions(options);\r\n\r\n        Force.call(this);\r\n    }\r\n\r\n    Drag.prototype = Object.create(Force.prototype);\r\n    Drag.prototype.constructor = Drag;\r\n\r\n    /**\r\n     * @property Drag.FORCE_FUNCTIONS\r\n     * @type Object\r\n     * @protected\r\n     * @static\r\n     */\r\n    Drag.FORCE_FUNCTIONS = {\r\n\r\n        /**\r\n         * A drag force proportional to the velocity\r\n         * @attribute LINEAR\r\n         * @type Function\r\n         * @param {Vector} velocity\r\n         * @return {Vector} drag force\r\n         */\r\n        LINEAR : function(velocity) {\r\n            return velocity;\r\n        },\r\n\r\n        /**\r\n         * A drag force proportional to the square of the velocity\r\n         * @attribute QUADRATIC\r\n         * @type Function\r\n         * @param {Vector} velocity\r\n         * @return {Vector} drag force\r\n         */\r\n        QUADRATIC : function(velocity) {\r\n            return velocity.mult(velocity.norm());\r\n        }\r\n    };\r\n\r\n    /**\r\n     * @property Drag.DEFAULT_OPTIONS\r\n     * @type Object\r\n     * @protected\r\n     * @static\r\n     */\r\n    Drag.DEFAULT_OPTIONS = {\r\n\r\n        /**\r\n         * The strength of the force\r\n         *    Range : [0, 0.1]\r\n         * @attribute strength\r\n         * @type Number\r\n         * @default 0.01\r\n         */\r\n        strength : 0.01,\r\n\r\n        /**\r\n         * The type of opposing force\r\n         * @attribute forceFunction\r\n         * @type Function\r\n         */\r\n        forceFunction : Drag.FORCE_FUNCTIONS.LINEAR\r\n    };\r\n\r\n    /**\r\n     * Adds a drag force to a physics body's force accumulator.\r\n     *\r\n     * @method applyForce\r\n     * @param targets {Array.Body} Array of bodies to apply drag force to.\r\n     */\r\n    Drag.prototype.applyForce = function applyForce(targets) {\r\n        var strength        = this.options.strength;\r\n        var forceFunction   = this.options.forceFunction;\r\n        var force           = this.force;\r\n        var index;\r\n        var particle;\r\n\r\n        for (index = 0; index < targets.length; index++) {\r\n            particle = targets[index];\r\n            forceFunction(particle.velocity).mult(-strength).put(force);\r\n            particle.applyForce(force);\r\n        }\r\n    };\r\n\r\n    /**\r\n     * Basic options setter\r\n     *\r\n     * @method setOptions\r\n     * @param {Objects} options\r\n     */\r\n    Drag.prototype.setOptions = function setOptions(options) {\r\n        for (var key in options) this.options[key] = options[key];\r\n    };\r\n\r\n    module.exports = Drag;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/physics/forces/Drag.js\n ** module id = 56\n ** module chunks = 0\n **/","/* This Source Code Form is subject to the terms of the Mozilla Public\r\n * License, v. 2.0. If a copy of the MPL was not distributed with this\r\n * file, You can obtain one at http://mozilla.org/MPL/2.0/.\r\n *\r\n * Owner: mark@famo.us\r\n * @license MPL 2.0\r\n * @copyright Famous Industries, Inc. 2015\r\n */\r\ndefine(function(require, exports, module) {\r\n    var EventHandler = require('../core/EventHandler');\r\n    var Engine = require('../core/Engine');\r\n    var OptionsManager = require('../core/OptionsManager');\r\n\r\n    /**\r\n     * Handles piped in mousewheel events.\r\n     *   Emits 'start', 'update', and 'end' events with payloads including:\r\n     *   delta: change since last position,\r\n     *   position: accumulated deltas,\r\n     *   velocity: speed of change in pixels per ms,\r\n     *   slip: true (unused).\r\n     *\r\n     *   Can be used as delegate of GenericSync.\r\n     *\r\n     * @class ScrollSync\r\n     * @constructor\r\n     * @param {Object} [options] overrides of default options\r\n     * @param {Number} [options.direction] Pay attention to x changes (ScrollSync.DIRECTION_X),\r\n     *   y changes (ScrollSync.DIRECTION_Y) or both (undefined)\r\n     * @param {Number} [options.minimumEndSpeed] End speed calculation floors at this number, in pixels per ms\r\n     * @param {boolean} [options.rails] whether to snap position calculations to nearest axis\r\n     * @param {Number | Array.Number} [options.scale] scale outputs in by scalar or pair of scalars\r\n     * @param {Number} [options.stallTime] reset time for velocity calculation in ms\r\n     */\r\n    function ScrollSync(options) {\r\n        this.options = Object.create(ScrollSync.DEFAULT_OPTIONS);\r\n        this._optionsManager = new OptionsManager(this.options);\r\n        if (options) this.setOptions(options);\r\n\r\n        this._payload = {\r\n            delta    : null,\r\n            position : null,\r\n            velocity : null,\r\n            slip     : true\r\n        };\r\n\r\n        this._eventInput = new EventHandler();\r\n        this._eventOutput = new EventHandler();\r\n\r\n        EventHandler.setInputHandler(this, this._eventInput);\r\n        EventHandler.setOutputHandler(this, this._eventOutput);\r\n\r\n        this._position = (this.options.direction === undefined) ? [0,0] : 0;\r\n        this._prevTime = undefined;\r\n        this._prevVel = undefined;\r\n        this._eventInput.on('mousewheel', _handleMove.bind(this));\r\n        this._eventInput.on('wheel', _handleMove.bind(this));\r\n        this._inProgress = false;\r\n        this._loopBound = false;\r\n    }\r\n\r\n    ScrollSync.DEFAULT_OPTIONS = {\r\n        direction: undefined,\r\n        minimumEndSpeed: Infinity,\r\n        rails: false,\r\n        scale: 1,\r\n        stallTime: 50,\r\n        lineHeight: 40,\r\n        preventDefault: true\r\n    };\r\n\r\n    ScrollSync.DIRECTION_X = 0;\r\n    ScrollSync.DIRECTION_Y = 1;\r\n\r\n    var MINIMUM_TICK_TIME = 8;\r\n\r\n    var _now = Date.now;\r\n\r\n    function _newFrame() {\r\n        if (this._inProgress && (_now() - this._prevTime) > this.options.stallTime) {\r\n            this._inProgress = false;\r\n\r\n            var finalVel = (Math.abs(this._prevVel) >= this.options.minimumEndSpeed)\r\n                ? this._prevVel\r\n                : 0;\r\n\r\n            var payload = this._payload;\r\n            payload.position = this._position;\r\n            payload.velocity = finalVel;\r\n            payload.slip = true;\r\n\r\n            this._eventOutput.emit('end', payload);\r\n        }\r\n    }\r\n\r\n    function _handleMove(event) {\r\n        if (this.options.preventDefault) event.preventDefault();\r\n\r\n        if (!this._inProgress) {\r\n            this._inProgress = true;\r\n            this._position = (this.options.direction === undefined) ? [0,0] : 0;\r\n            payload = this._payload;\r\n            payload.slip = true;\r\n            payload.position = this._position;\r\n            payload.clientX = event.clientX;\r\n            payload.clientY = event.clientY;\r\n            payload.offsetX = event.offsetX;\r\n            payload.offsetY = event.offsetY;\r\n            this._eventOutput.emit('start', payload);\r\n            if (!this._loopBound) {\r\n                Engine.on('prerender', _newFrame.bind(this));\r\n                this._loopBound = true;\r\n            }\r\n        }\r\n\r\n        var currTime = _now();\r\n        var prevTime = this._prevTime || currTime;\r\n\r\n        var diffX = (event.wheelDeltaX !== undefined) ? event.wheelDeltaX : -event.deltaX;\r\n        var diffY = (event.wheelDeltaY !== undefined) ? event.wheelDeltaY : -event.deltaY;\r\n\r\n        if (event.deltaMode === 1) { // units in lines, not pixels\r\n            diffX *= this.options.lineHeight;\r\n            diffY *= this.options.lineHeight;\r\n        }\r\n\r\n        if (this.options.rails) {\r\n            if (Math.abs(diffX) > Math.abs(diffY)) diffY = 0;\r\n            else diffX = 0;\r\n        }\r\n\r\n        var diffTime = Math.max(currTime - prevTime, MINIMUM_TICK_TIME); // minimum tick time\r\n\r\n        var velX = diffX / diffTime;\r\n        var velY = diffY / diffTime;\r\n\r\n        var scale = this.options.scale;\r\n        var nextVel;\r\n        var nextDelta;\r\n\r\n        if (this.options.direction === ScrollSync.DIRECTION_X) {\r\n            nextDelta = scale * diffX;\r\n            nextVel = scale * velX;\r\n            this._position += nextDelta;\r\n        }\r\n        else if (this.options.direction === ScrollSync.DIRECTION_Y) {\r\n            nextDelta = scale * diffY;\r\n            nextVel = scale * velY;\r\n            this._position += nextDelta;\r\n        }\r\n        else {\r\n            nextDelta = [scale * diffX, scale * diffY];\r\n            nextVel = [scale * velX, scale * velY];\r\n            this._position[0] += nextDelta[0];\r\n            this._position[1] += nextDelta[1];\r\n        }\r\n\r\n        var payload = this._payload;\r\n        payload.delta    = nextDelta;\r\n        payload.velocity = nextVel;\r\n        payload.position = this._position;\r\n        payload.slip     = true;\r\n\r\n        this._eventOutput.emit('update', payload);\r\n\r\n        this._prevTime = currTime;\r\n        this._prevVel = nextVel;\r\n    }\r\n\r\n    /**\r\n     * Return entire options dictionary, including defaults.\r\n     *\r\n     * @method getOptions\r\n     * @return {Object} configuration options\r\n     */\r\n    ScrollSync.prototype.getOptions = function getOptions() {\r\n        return this.options;\r\n    };\r\n\r\n    /**\r\n     * Set internal options, overriding any default options\r\n     *\r\n     * @method setOptions\r\n     *\r\n     * @param {Object} [options] overrides of default options\r\n     * @param {Number} [options.minimimEndSpeed] If final velocity smaller than this, round down to 0.\r\n     * @param {Number} [options.stallTime] ms of non-motion before 'end' emitted\r\n     * @param {Number} [options.rails] whether to constrain to nearest axis.\r\n     * @param {Number} [options.direction] ScrollSync.DIRECTION_X, DIRECTION_Y -\r\n     *    pay attention to one specific direction.\r\n     * @param {Number} [options.scale] constant factor to scale velocity output\r\n     */\r\n    ScrollSync.prototype.setOptions = function setOptions(options) {\r\n        return this._optionsManager.setOptions(options);\r\n    };\r\n\r\n    module.exports = ScrollSync;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous/src/inputs/ScrollSync.js\n ** module id = 57\n ** module chunks = 0\n **/","/**\r\n * This Source Code is licensed under the MIT license. If a copy of the\r\n * MIT-license was not distributed with this file, You can obtain one at:\r\n * http://opensource.org/licenses/mit-license.html.\r\n *\r\n * @author: Hein Rutjes (IjzerenHein)\r\n * @license MIT\r\n * @copyright Gloey Apps, 2014 - 2015\r\n */\r\n\r\n/**\r\n * Lays out items and optionally sticky sections from top to bottom or left to right.\r\n *\r\n * |options|type|description|\r\n * |---|---|---|\r\n * |`[itemSize]`|Number/Function|Height or width in pixels of an item (used when renderNode has no size)|\r\n * |`[margins]`|Number/Array|Margins shorthand (e.g. 5, [10, 20], [2, 5, 2, 10])|\r\n * |`[spacing]`|Number|Spacing between items|\r\n * |`[isSectionCallback]`|Function|Callback that is called in order to check if a render-node is a section rather than a cell.|\r\n *\r\n * Example:\r\n *\r\n * ```javascript\r\n * var FlexScrollView = require('famous-flex/FlexScrollView');\r\n * var ListLayout = require('famous-flex/layouts/ListLayout');\r\n *\r\n * var scrollView = new FlexScrollView({\r\n *   layout: ListLayout,\r\n *   layoutOptions: {\r\n *     margins: [20, 10, 20, 10],\r\n *     spacing: 1,\r\n *     isSectionCallback: function(renderNode) {\r\n *       return renderNode.isSection;\r\n *     },\r\n *   },\r\n *   dataSource: [\r\n *     // first section\r\n *     _createSection(),\r\n *     _createCell(),\r\n *     _createCell(),\r\n *     // second section\r\n *     _createSection(),\r\n *     _createCell(),\r\n *   ]\r\n * });\r\n * this.add(scrollView);\r\n *\r\n * function _createCell() {\r\n *   return new Surface({\r\n *     size: [undefined, 50],\r\n *     content: 'my cell'\r\n *   });\r\n * }\r\n *\r\n * function _createSection() {\r\n *   var section = new Surface({\r\n *     size: [undefined, 30],\r\n *     content: 'my sticky section'\r\n *   });\r\n *   section.isSection = true; // mark renderNode as section\r\n *   return section;\r\n * }\r\n * ```\r\n * @module\r\n */\r\ndefine(function(require, exports, module) {\r\n\r\n    // import dependencies\r\n    var Utility = require('famous/utilities/Utility');\r\n    var LayoutUtility = require('../LayoutUtility');\r\n\r\n    // Define capabilities of this layout function\r\n    var capabilities = {\r\n        sequence: true,\r\n        direction: [Utility.Direction.Y, Utility.Direction.X],\r\n        scrolling: true,\r\n        trueSize: true,\r\n        sequentialScrollingOptimized: true\r\n    };\r\n\r\n    // Data\r\n    var set = {\r\n        size: [0, 0],\r\n        translate: [0, 0, 0],\r\n        scrollLength: undefined\r\n    };\r\n    var margin = [0, 0];\r\n\r\n    // Layout function\r\n    function ListLayout(context, options) {\r\n\r\n        // Local data\r\n        var size = context.size;\r\n        var direction = context.direction;\r\n        var alignment = context.alignment;\r\n        var revDirection = direction ? 0 : 1;\r\n        var offset;\r\n        var margins = LayoutUtility.normalizeMargins(options.margins);\r\n        var spacing = options.spacing || 0;\r\n        var node;\r\n        var nodeSize;\r\n        var itemSize;\r\n        var getItemSize;\r\n        var lastSectionBeforeVisibleCell;\r\n        var lastSectionBeforeVisibleCellOffset;\r\n        var lastSectionBeforeVisibleCellLength;\r\n        var lastSectionBeforeVisibleCellScrollLength;\r\n        var lastSectionBeforeVisibleCellTopReached;\r\n        var firstVisibleCell;\r\n        var lastNode;\r\n        var lastCellOffsetInFirstVisibleSection;\r\n        var isSectionCallback = options.isSectionCallback;\r\n        var bound;\r\n\r\n        //\r\n        // Sanity checks\r\n        //\r\n        if (spacing && typeof spacing !== 'number') {\r\n            console.log('Famous-flex warning: ListLayout was initialized with a non-numeric spacing option. ' + // eslint-disable-line no-console\r\n                'The CollectionLayout supports an array spacing argument, but the ListLayout does not.');\r\n        }\r\n\r\n        //\r\n        // Reset size & translation\r\n        //\r\n        set.size[0] = size[0];\r\n        set.size[1] = size[1];\r\n        set.size[revDirection] -= (margins[1 - revDirection] + margins[3 - revDirection]);\r\n        set.translate[0] = 0;\r\n        set.translate[1] = 0;\r\n        set.translate[2] = 0;\r\n        set.translate[revDirection] = margins[direction ? 3 : 0];\r\n\r\n        //\r\n        // Determine item-size or use true=size\r\n        //\r\n        if ((options.itemSize === true) || !options.hasOwnProperty('itemSize')) {\r\n            itemSize = true;\r\n        }\r\n        else if (options.itemSize instanceof Function) {\r\n            getItemSize = options.itemSize;\r\n        }\r\n        else {\r\n            itemSize = (options.itemSize === undefined) ? size[direction] : options.itemSize;\r\n        }\r\n\r\n        //\r\n        // Determine leading/trailing margins\r\n        //\r\n        margin[0] = margins[direction ? 0 : 3];\r\n        margin[1] = -margins[direction ? 2 : 1];\r\n\r\n        //\r\n        // Process all next nodes\r\n        //\r\n        offset = context.scrollOffset + margin[alignment];\r\n        bound = context.scrollEnd + margin[alignment];\r\n        while (offset < (bound + spacing)) {\r\n            lastNode = node;\r\n            node = context.next();\r\n            if (!node) {\r\n                break;\r\n            }\r\n\r\n            //\r\n            // Get node size\r\n            //\r\n            nodeSize = getItemSize ? getItemSize(node.renderNode, context.size) : itemSize;\r\n            nodeSize = (nodeSize === true) ? context.resolveSize(node, size)[direction] : nodeSize;\r\n\r\n            //\r\n            // Position node\r\n            //\r\n            set.size[direction] = nodeSize;\r\n            set.translate[direction] = offset + (alignment ? spacing : 0);\r\n            set.scrollLength = nodeSize + spacing;\r\n            context.set(node, set);\r\n            offset += set.scrollLength;\r\n\r\n            //\r\n            // Keep track of the last section before the first visible cell\r\n            //\r\n            if (isSectionCallback && isSectionCallback(node.renderNode)) {\r\n                if ((set.translate[direction] <= margin[0]) && !lastSectionBeforeVisibleCellTopReached) {\r\n                    lastSectionBeforeVisibleCellTopReached = true;\r\n                    set.translate[direction] = margin[0];\r\n                    context.set(node, set);\r\n                }\r\n                if (!firstVisibleCell) {\r\n                    lastSectionBeforeVisibleCell = node;\r\n                    lastSectionBeforeVisibleCellOffset = offset - nodeSize;\r\n                    lastSectionBeforeVisibleCellLength = nodeSize;\r\n                    lastSectionBeforeVisibleCellScrollLength = nodeSize;\r\n                }\r\n                else if (lastCellOffsetInFirstVisibleSection === undefined) {\r\n                    lastCellOffsetInFirstVisibleSection = offset - nodeSize;\r\n                }\r\n            }\r\n            else if (!firstVisibleCell && (offset >= 0)) {\r\n                firstVisibleCell = node;\r\n            }\r\n        }\r\n        if (lastNode && !node && !alignment) {\r\n            set.scrollLength = nodeSize + margin[0] + -margin[1];\r\n            context.set(lastNode, set);\r\n        }\r\n\r\n        //\r\n        // Process previous nodes\r\n        //\r\n        lastNode = undefined;\r\n        node = undefined;\r\n        offset = context.scrollOffset + margin[alignment];\r\n        bound = context.scrollStart + margin[alignment];\r\n        while (offset > (bound - spacing)) {\r\n            lastNode = node;\r\n            node = context.prev();\r\n            if (!node) {\r\n                break;\r\n            }\r\n\r\n            //\r\n            // Get node size\r\n            //\r\n            nodeSize = getItemSize ? getItemSize(node.renderNode, context.size) : itemSize;\r\n            nodeSize = (nodeSize === true) ? context.resolveSize(node, size)[direction] : nodeSize;\r\n\r\n            //\r\n            // Position node\r\n            //\r\n            set.scrollLength = nodeSize + spacing;\r\n            offset -= set.scrollLength;\r\n            set.size[direction] = nodeSize;\r\n            set.translate[direction] = offset + (alignment ? spacing : 0);\r\n            context.set(node, set);\r\n\r\n            //\r\n            // Keep track of the last section before the first visible cell\r\n            //\r\n            if (isSectionCallback && isSectionCallback(node.renderNode)) {\r\n                if ((set.translate[direction] <= margin[0]) && !lastSectionBeforeVisibleCellTopReached) {\r\n                    lastSectionBeforeVisibleCellTopReached = true;\r\n                    set.translate[direction] = margin[0];\r\n                    context.set(node, set);\r\n                }\r\n                if (!lastSectionBeforeVisibleCell) {\r\n                    lastSectionBeforeVisibleCell = node;\r\n                    lastSectionBeforeVisibleCellOffset = offset;\r\n                    lastSectionBeforeVisibleCellLength = nodeSize;\r\n                    lastSectionBeforeVisibleCellScrollLength = set.scrollLength;\r\n                }\r\n            }\r\n            else if ((offset + nodeSize) >= 0) {\r\n                firstVisibleCell = node;\r\n                if (lastSectionBeforeVisibleCell) {\r\n                    lastCellOffsetInFirstVisibleSection = offset + nodeSize;\r\n                }\r\n                lastSectionBeforeVisibleCell = undefined;\r\n            }\r\n        }\r\n        if (lastNode && !node && alignment) {\r\n            set.scrollLength = nodeSize + margin[0] + -margin[1];\r\n            context.set(lastNode, set);\r\n            if (lastSectionBeforeVisibleCell === lastNode) {\r\n                lastSectionBeforeVisibleCellScrollLength = set.scrollLength;\r\n            }\r\n        }\r\n\r\n        //\r\n        // When no first section is in the scrollable range, then\r\n        // look back further in search for that section\r\n        //\r\n        if (isSectionCallback && !lastSectionBeforeVisibleCell) {\r\n            node = context.prev();\r\n            while (node) {\r\n                if (isSectionCallback(node.renderNode)) {\r\n                    lastSectionBeforeVisibleCell = node;\r\n                    nodeSize = options.itemSize || context.resolveSize(node, size)[direction];\r\n                    lastSectionBeforeVisibleCellOffset = offset - nodeSize;\r\n                    lastSectionBeforeVisibleCellLength = nodeSize;\r\n                    lastSectionBeforeVisibleCellScrollLength = undefined;\r\n                    break;\r\n                }\r\n                else {\r\n                    node = context.prev();\r\n                }\r\n            }\r\n        }\r\n\r\n        //\r\n        // Reposition \"last section before first visible cell\" to the top of the layout\r\n        //\r\n        if (lastSectionBeforeVisibleCell) {\r\n            var correctedOffset = Math.max(margin[0], lastSectionBeforeVisibleCellOffset);\r\n            if ((lastCellOffsetInFirstVisibleSection !== undefined) &&\r\n                (lastSectionBeforeVisibleCellLength > (lastCellOffsetInFirstVisibleSection - margin[0]))) {\r\n                correctedOffset = ((lastCellOffsetInFirstVisibleSection - lastSectionBeforeVisibleCellLength));\r\n            }\r\n            set.size[direction] = lastSectionBeforeVisibleCellLength;\r\n            set.translate[direction] = correctedOffset;\r\n            set.scrollLength = lastSectionBeforeVisibleCellScrollLength;\r\n            context.set(lastSectionBeforeVisibleCell, set);\r\n        }\r\n    }\r\n\r\n    ListLayout.Capabilities = capabilities;\r\n    ListLayout.Name = 'ListLayout';\r\n    ListLayout.Description = 'List-layout with margins, spacing and sticky headers';\r\n    module.exports = ListLayout;\r\n});\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/famous-flex/src/layouts/ListLayout.js\n ** module id = 58\n ** module chunks = 0\n **/","/**\r\n * @license\r\n * lodash 3.10.1 (Custom Build) <https://lodash.com/>\r\n * Build: `lodash modern -o ./lodash.js`\r\n * Copyright 2012-2015 The Dojo Foundation <http://dojofoundation.org/>\r\n * Based on Underscore.js 1.8.3 <http://underscorejs.org/LICENSE>\r\n * Copyright 2009-2015 Jeremy Ashkenas, DocumentCloud and Investigative Reporters & Editors\r\n * Available under MIT license <https://lodash.com/license>\r\n */\r\n;(function() {\r\n\r\n  /** Used as a safe reference for `undefined` in pre-ES5 environments. */\r\n  var undefined;\r\n\r\n  /** Used as the semantic version number. */\r\n  var VERSION = '3.10.1';\r\n\r\n  /** Used to compose bitmasks for wrapper metadata. */\r\n  var BIND_FLAG = 1,\r\n      BIND_KEY_FLAG = 2,\r\n      CURRY_BOUND_FLAG = 4,\r\n      CURRY_FLAG = 8,\r\n      CURRY_RIGHT_FLAG = 16,\r\n      PARTIAL_FLAG = 32,\r\n      PARTIAL_RIGHT_FLAG = 64,\r\n      ARY_FLAG = 128,\r\n      REARG_FLAG = 256;\r\n\r\n  /** Used as default options for `_.trunc`. */\r\n  var DEFAULT_TRUNC_LENGTH = 30,\r\n      DEFAULT_TRUNC_OMISSION = '...';\r\n\r\n  /** Used to detect when a function becomes hot. */\r\n  var HOT_COUNT = 150,\r\n      HOT_SPAN = 16;\r\n\r\n  /** Used as the size to enable large array optimizations. */\r\n  var LARGE_ARRAY_SIZE = 200;\r\n\r\n  /** Used to indicate the type of lazy iteratees. */\r\n  var LAZY_FILTER_FLAG = 1,\r\n      LAZY_MAP_FLAG = 2;\r\n\r\n  /** Used as the `TypeError` message for \"Functions\" methods. */\r\n  var FUNC_ERROR_TEXT = 'Expected a function';\r\n\r\n  /** Used as the internal argument placeholder. */\r\n  var PLACEHOLDER = '__lodash_placeholder__';\r\n\r\n  /** `Object#toString` result references. */\r\n  var argsTag = '[object Arguments]',\r\n      arrayTag = '[object Array]',\r\n      boolTag = '[object Boolean]',\r\n      dateTag = '[object Date]',\r\n      errorTag = '[object Error]',\r\n      funcTag = '[object Function]',\r\n      mapTag = '[object Map]',\r\n      numberTag = '[object Number]',\r\n      objectTag = '[object Object]',\r\n      regexpTag = '[object RegExp]',\r\n      setTag = '[object Set]',\r\n      stringTag = '[object String]',\r\n      weakMapTag = '[object WeakMap]';\r\n\r\n  var arrayBufferTag = '[object ArrayBuffer]',\r\n      float32Tag = '[object Float32Array]',\r\n      float64Tag = '[object Float64Array]',\r\n      int8Tag = '[object Int8Array]',\r\n      int16Tag = '[object Int16Array]',\r\n      int32Tag = '[object Int32Array]',\r\n      uint8Tag = '[object Uint8Array]',\r\n      uint8ClampedTag = '[object Uint8ClampedArray]',\r\n      uint16Tag = '[object Uint16Array]',\r\n      uint32Tag = '[object Uint32Array]';\r\n\r\n  /** Used to match empty string literals in compiled template source. */\r\n  var reEmptyStringLeading = /\\b__p \\+= '';/g,\r\n      reEmptyStringMiddle = /\\b(__p \\+=) '' \\+/g,\r\n      reEmptyStringTrailing = /(__e\\(.*?\\)|\\b__t\\)) \\+\\n'';/g;\r\n\r\n  /** Used to match HTML entities and HTML characters. */\r\n  var reEscapedHtml = /&(?:amp|lt|gt|quot|#39|#96);/g,\r\n      reUnescapedHtml = /[&<>\"'`]/g,\r\n      reHasEscapedHtml = RegExp(reEscapedHtml.source),\r\n      reHasUnescapedHtml = RegExp(reUnescapedHtml.source);\r\n\r\n  /** Used to match template delimiters. */\r\n  var reEscape = /<%-([\\s\\S]+?)%>/g,\r\n      reEvaluate = /<%([\\s\\S]+?)%>/g,\r\n      reInterpolate = /<%=([\\s\\S]+?)%>/g;\r\n\r\n  /** Used to match property names within property paths. */\r\n  var reIsDeepProp = /\\.|\\[(?:[^[\\]]*|([\"'])(?:(?!\\1)[^\\n\\\\]|\\\\.)*?\\1)\\]/,\r\n      reIsPlainProp = /^\\w*$/,\r\n      rePropName = /[^.[\\]]+|\\[(?:(-?\\d+(?:\\.\\d+)?)|([\"'])((?:(?!\\2)[^\\n\\\\]|\\\\.)*?)\\2)\\]/g;\r\n\r\n  /**\r\n   * Used to match `RegExp` [syntax characters](http://ecma-international.org/ecma-262/6.0/#sec-patterns)\r\n   * and those outlined by [`EscapeRegExpPattern`](http://ecma-international.org/ecma-262/6.0/#sec-escaperegexppattern).\r\n   */\r\n  var reRegExpChars = /^[:!,]|[\\\\^$.*+?()[\\]{}|\\/]|(^[0-9a-fA-Fnrtuvx])|([\\n\\r\\u2028\\u2029])/g,\r\n      reHasRegExpChars = RegExp(reRegExpChars.source);\r\n\r\n  /** Used to match [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks). */\r\n  var reComboMark = /[\\u0300-\\u036f\\ufe20-\\ufe23]/g;\r\n\r\n  /** Used to match backslashes in property paths. */\r\n  var reEscapeChar = /\\\\(\\\\)?/g;\r\n\r\n  /** Used to match [ES template delimiters](http://ecma-international.org/ecma-262/6.0/#sec-template-literal-lexical-components). */\r\n  var reEsTemplate = /\\$\\{([^\\\\}]*(?:\\\\.[^\\\\}]*)*)\\}/g;\r\n\r\n  /** Used to match `RegExp` flags from their coerced string values. */\r\n  var reFlags = /\\w*$/;\r\n\r\n  /** Used to detect hexadecimal string values. */\r\n  var reHasHexPrefix = /^0[xX]/;\r\n\r\n  /** Used to detect host constructors (Safari > 5). */\r\n  var reIsHostCtor = /^\\[object .+?Constructor\\]$/;\r\n\r\n  /** Used to detect unsigned integer values. */\r\n  var reIsUint = /^\\d+$/;\r\n\r\n  /** Used to match latin-1 supplementary letters (excluding mathematical operators). */\r\n  var reLatin1 = /[\\xc0-\\xd6\\xd8-\\xde\\xdf-\\xf6\\xf8-\\xff]/g;\r\n\r\n  /** Used to ensure capturing order of template delimiters. */\r\n  var reNoMatch = /($^)/;\r\n\r\n  /** Used to match unescaped characters in compiled string literals. */\r\n  var reUnescapedString = /['\\n\\r\\u2028\\u2029\\\\]/g;\r\n\r\n  /** Used to match words to create compound words. */\r\n  var reWords = (function() {\r\n    var upper = '[A-Z\\\\xc0-\\\\xd6\\\\xd8-\\\\xde]',\r\n        lower = '[a-z\\\\xdf-\\\\xf6\\\\xf8-\\\\xff]+';\r\n\r\n    return RegExp(upper + '+(?=' + upper + lower + ')|' + upper + '?' + lower + '|' + upper + '+|[0-9]+', 'g');\r\n  }());\r\n\r\n  /** Used to assign default `context` object properties. */\r\n  var contextProps = [\r\n    'Array', 'ArrayBuffer', 'Date', 'Error', 'Float32Array', 'Float64Array',\r\n    'Function', 'Int8Array', 'Int16Array', 'Int32Array', 'Math', 'Number',\r\n    'Object', 'RegExp', 'Set', 'String', '_', 'clearTimeout', 'isFinite',\r\n    'parseFloat', 'parseInt', 'setTimeout', 'TypeError', 'Uint8Array',\r\n    'Uint8ClampedArray', 'Uint16Array', 'Uint32Array', 'WeakMap'\r\n  ];\r\n\r\n  /** Used to make template sourceURLs easier to identify. */\r\n  var templateCounter = -1;\r\n\r\n  /** Used to identify `toStringTag` values of typed arrays. */\r\n  var typedArrayTags = {};\r\n  typedArrayTags[float32Tag] = typedArrayTags[float64Tag] =\r\n  typedArrayTags[int8Tag] = typedArrayTags[int16Tag] =\r\n  typedArrayTags[int32Tag] = typedArrayTags[uint8Tag] =\r\n  typedArrayTags[uint8ClampedTag] = typedArrayTags[uint16Tag] =\r\n  typedArrayTags[uint32Tag] = true;\r\n  typedArrayTags[argsTag] = typedArrayTags[arrayTag] =\r\n  typedArrayTags[arrayBufferTag] = typedArrayTags[boolTag] =\r\n  typedArrayTags[dateTag] = typedArrayTags[errorTag] =\r\n  typedArrayTags[funcTag] = typedArrayTags[mapTag] =\r\n  typedArrayTags[numberTag] = typedArrayTags[objectTag] =\r\n  typedArrayTags[regexpTag] = typedArrayTags[setTag] =\r\n  typedArrayTags[stringTag] = typedArrayTags[weakMapTag] = false;\r\n\r\n  /** Used to identify `toStringTag` values supported by `_.clone`. */\r\n  var cloneableTags = {};\r\n  cloneableTags[argsTag] = cloneableTags[arrayTag] =\r\n  cloneableTags[arrayBufferTag] = cloneableTags[boolTag] =\r\n  cloneableTags[dateTag] = cloneableTags[float32Tag] =\r\n  cloneableTags[float64Tag] = cloneableTags[int8Tag] =\r\n  cloneableTags[int16Tag] = cloneableTags[int32Tag] =\r\n  cloneableTags[numberTag] = cloneableTags[objectTag] =\r\n  cloneableTags[regexpTag] = cloneableTags[stringTag] =\r\n  cloneableTags[uint8Tag] = cloneableTags[uint8ClampedTag] =\r\n  cloneableTags[uint16Tag] = cloneableTags[uint32Tag] = true;\r\n  cloneableTags[errorTag] = cloneableTags[funcTag] =\r\n  cloneableTags[mapTag] = cloneableTags[setTag] =\r\n  cloneableTags[weakMapTag] = false;\r\n\r\n  /** Used to map latin-1 supplementary letters to basic latin letters. */\r\n  var deburredLetters = {\r\n    '\\xc0': 'A',  '\\xc1': 'A', '\\xc2': 'A', '\\xc3': 'A', '\\xc4': 'A', '\\xc5': 'A',\r\n    '\\xe0': 'a',  '\\xe1': 'a', '\\xe2': 'a', '\\xe3': 'a', '\\xe4': 'a', '\\xe5': 'a',\r\n    '\\xc7': 'C',  '\\xe7': 'c',\r\n    '\\xd0': 'D',  '\\xf0': 'd',\r\n    '\\xc8': 'E',  '\\xc9': 'E', '\\xca': 'E', '\\xcb': 'E',\r\n    '\\xe8': 'e',  '\\xe9': 'e', '\\xea': 'e', '\\xeb': 'e',\r\n    '\\xcC': 'I',  '\\xcd': 'I', '\\xce': 'I', '\\xcf': 'I',\r\n    '\\xeC': 'i',  '\\xed': 'i', '\\xee': 'i', '\\xef': 'i',\r\n    '\\xd1': 'N',  '\\xf1': 'n',\r\n    '\\xd2': 'O',  '\\xd3': 'O', '\\xd4': 'O', '\\xd5': 'O', '\\xd6': 'O', '\\xd8': 'O',\r\n    '\\xf2': 'o',  '\\xf3': 'o', '\\xf4': 'o', '\\xf5': 'o', '\\xf6': 'o', '\\xf8': 'o',\r\n    '\\xd9': 'U',  '\\xda': 'U', '\\xdb': 'U', '\\xdc': 'U',\r\n    '\\xf9': 'u',  '\\xfa': 'u', '\\xfb': 'u', '\\xfc': 'u',\r\n    '\\xdd': 'Y',  '\\xfd': 'y', '\\xff': 'y',\r\n    '\\xc6': 'Ae', '\\xe6': 'ae',\r\n    '\\xde': 'Th', '\\xfe': 'th',\r\n    '\\xdf': 'ss'\r\n  };\r\n\r\n  /** Used to map characters to HTML entities. */\r\n  var htmlEscapes = {\r\n    '&': '&amp;',\r\n    '<': '&lt;',\r\n    '>': '&gt;',\r\n    '\"': '&quot;',\r\n    \"'\": '&#39;',\r\n    '`': '&#96;'\r\n  };\r\n\r\n  /** Used to map HTML entities to characters. */\r\n  var htmlUnescapes = {\r\n    '&amp;': '&',\r\n    '&lt;': '<',\r\n    '&gt;': '>',\r\n    '&quot;': '\"',\r\n    '&#39;': \"'\",\r\n    '&#96;': '`'\r\n  };\r\n\r\n  /** Used to determine if values are of the language type `Object`. */\r\n  var objectTypes = {\r\n    'function': true,\r\n    'object': true\r\n  };\r\n\r\n  /** Used to escape characters for inclusion in compiled regexes. */\r\n  var regexpEscapes = {\r\n    '0': 'x30', '1': 'x31', '2': 'x32', '3': 'x33', '4': 'x34',\r\n    '5': 'x35', '6': 'x36', '7': 'x37', '8': 'x38', '9': 'x39',\r\n    'A': 'x41', 'B': 'x42', 'C': 'x43', 'D': 'x44', 'E': 'x45', 'F': 'x46',\r\n    'a': 'x61', 'b': 'x62', 'c': 'x63', 'd': 'x64', 'e': 'x65', 'f': 'x66',\r\n    'n': 'x6e', 'r': 'x72', 't': 'x74', 'u': 'x75', 'v': 'x76', 'x': 'x78'\r\n  };\r\n\r\n  /** Used to escape characters for inclusion in compiled string literals. */\r\n  var stringEscapes = {\r\n    '\\\\': '\\\\',\r\n    \"'\": \"'\",\r\n    '\\n': 'n',\r\n    '\\r': 'r',\r\n    '\\u2028': 'u2028',\r\n    '\\u2029': 'u2029'\r\n  };\r\n\r\n  /** Detect free variable `exports`. */\r\n  var freeExports = objectTypes[typeof exports] && exports && !exports.nodeType && exports;\r\n\r\n  /** Detect free variable `module`. */\r\n  var freeModule = objectTypes[typeof module] && module && !module.nodeType && module;\r\n\r\n  /** Detect free variable `global` from Node.js. */\r\n  var freeGlobal = freeExports && freeModule && typeof global == 'object' && global && global.Object && global;\r\n\r\n  /** Detect free variable `self`. */\r\n  var freeSelf = objectTypes[typeof self] && self && self.Object && self;\r\n\r\n  /** Detect free variable `window`. */\r\n  var freeWindow = objectTypes[typeof window] && window && window.Object && window;\r\n\r\n  /** Detect the popular CommonJS extension `module.exports`. */\r\n  var moduleExports = freeModule && freeModule.exports === freeExports && freeExports;\r\n\r\n  /**\r\n   * Used as a reference to the global object.\r\n   *\r\n   * The `this` value is used if it's the global object to avoid Greasemonkey's\r\n   * restricted `window` object, otherwise the `window` object is used.\r\n   */\r\n  var root = freeGlobal || ((freeWindow !== (this && this.window)) && freeWindow) || freeSelf || this;\r\n\r\n  /*--------------------------------------------------------------------------*/\r\n\r\n  /**\r\n   * The base implementation of `compareAscending` which compares values and\r\n   * sorts them in ascending order without guaranteeing a stable sort.\r\n   *\r\n   * @private\r\n   * @param {*} value The value to compare.\r\n   * @param {*} other The other value to compare.\r\n   * @returns {number} Returns the sort order indicator for `value`.\r\n   */\r\n  function baseCompareAscending(value, other) {\r\n    if (value !== other) {\r\n      var valIsNull = value === null,\r\n          valIsUndef = value === undefined,\r\n          valIsReflexive = value === value;\r\n\r\n      var othIsNull = other === null,\r\n          othIsUndef = other === undefined,\r\n          othIsReflexive = other === other;\r\n\r\n      if ((value > other && !othIsNull) || !valIsReflexive ||\r\n          (valIsNull && !othIsUndef && othIsReflexive) ||\r\n          (valIsUndef && othIsReflexive)) {\r\n        return 1;\r\n      }\r\n      if ((value < other && !valIsNull) || !othIsReflexive ||\r\n          (othIsNull && !valIsUndef && valIsReflexive) ||\r\n          (othIsUndef && valIsReflexive)) {\r\n        return -1;\r\n      }\r\n    }\r\n    return 0;\r\n  }\r\n\r\n  /**\r\n   * The base implementation of `_.findIndex` and `_.findLastIndex` without\r\n   * support for callback shorthands and `this` binding.\r\n   *\r\n   * @private\r\n   * @param {Array} array The array to search.\r\n   * @param {Function} predicate The function invoked per iteration.\r\n   * @param {boolean} [fromRight] Specify iterating from right to left.\r\n   * @returns {number} Returns the index of the matched value, else `-1`.\r\n   */\r\n  function baseFindIndex(array, predicate, fromRight) {\r\n    var length = array.length,\r\n        index = fromRight ? length : -1;\r\n\r\n    while ((fromRight ? index-- : ++index < length)) {\r\n      if (predicate(array[index], index, array)) {\r\n        return index;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  /**\r\n   * The base implementation of `_.indexOf` without support for binary searches.\r\n   *\r\n   * @private\r\n   * @param {Array} array The array to search.\r\n   * @param {*} value The value to search for.\r\n   * @param {number} fromIndex The index to search from.\r\n   * @returns {number} Returns the index of the matched value, else `-1`.\r\n   */\r\n  function baseIndexOf(array, value, fromIndex) {\r\n    if (value !== value) {\r\n      return indexOfNaN(array, fromIndex);\r\n    }\r\n    var index = fromIndex - 1,\r\n        length = array.length;\r\n\r\n    while (++index < length) {\r\n      if (array[index] === value) {\r\n        return index;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  /**\r\n   * The base implementation of `_.isFunction` without support for environments\r\n   * with incorrect `typeof` results.\r\n   *\r\n   * @private\r\n   * @param {*} value The value to check.\r\n   * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n   */\r\n  function baseIsFunction(value) {\r\n    // Avoid a Chakra JIT bug in compatibility modes of IE 11.\r\n    // See https://github.com/jashkenas/underscore/issues/1621 for more details.\r\n    return typeof value == 'function' || false;\r\n  }\r\n\r\n  /**\r\n   * Converts `value` to a string if it's not one. An empty string is returned\r\n   * for `null` or `undefined` values.\r\n   *\r\n   * @private\r\n   * @param {*} value The value to process.\r\n   * @returns {string} Returns the string.\r\n   */\r\n  function baseToString(value) {\r\n    return value == null ? '' : (value + '');\r\n  }\r\n\r\n  /**\r\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first character\r\n   * of `string` that is not found in `chars`.\r\n   *\r\n   * @private\r\n   * @param {string} string The string to inspect.\r\n   * @param {string} chars The characters to find.\r\n   * @returns {number} Returns the index of the first character not found in `chars`.\r\n   */\r\n  function charsLeftIndex(string, chars) {\r\n    var index = -1,\r\n        length = string.length;\r\n\r\n    while (++index < length && chars.indexOf(string.charAt(index)) > -1) {}\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.trim` and `_.trimRight` to get the index of the last character\r\n   * of `string` that is not found in `chars`.\r\n   *\r\n   * @private\r\n   * @param {string} string The string to inspect.\r\n   * @param {string} chars The characters to find.\r\n   * @returns {number} Returns the index of the last character not found in `chars`.\r\n   */\r\n  function charsRightIndex(string, chars) {\r\n    var index = string.length;\r\n\r\n    while (index-- && chars.indexOf(string.charAt(index)) > -1) {}\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.sortBy` to compare transformed elements of a collection and stable\r\n   * sort them in ascending order.\r\n   *\r\n   * @private\r\n   * @param {Object} object The object to compare.\r\n   * @param {Object} other The other object to compare.\r\n   * @returns {number} Returns the sort order indicator for `object`.\r\n   */\r\n  function compareAscending(object, other) {\r\n    return baseCompareAscending(object.criteria, other.criteria) || (object.index - other.index);\r\n  }\r\n\r\n  /**\r\n   * Used by `_.sortByOrder` to compare multiple properties of a value to another\r\n   * and stable sort them.\r\n   *\r\n   * If `orders` is unspecified, all valuess are sorted in ascending order. Otherwise,\r\n   * a value is sorted in ascending order if its corresponding order is \"asc\", and\r\n   * descending if \"desc\".\r\n   *\r\n   * @private\r\n   * @param {Object} object The object to compare.\r\n   * @param {Object} other The other object to compare.\r\n   * @param {boolean[]} orders The order to sort by for each property.\r\n   * @returns {number} Returns the sort order indicator for `object`.\r\n   */\r\n  function compareMultiple(object, other, orders) {\r\n    var index = -1,\r\n        objCriteria = object.criteria,\r\n        othCriteria = other.criteria,\r\n        length = objCriteria.length,\r\n        ordersLength = orders.length;\r\n\r\n    while (++index < length) {\r\n      var result = baseCompareAscending(objCriteria[index], othCriteria[index]);\r\n      if (result) {\r\n        if (index >= ordersLength) {\r\n          return result;\r\n        }\r\n        var order = orders[index];\r\n        return result * ((order === 'asc' || order === true) ? 1 : -1);\r\n      }\r\n    }\r\n    // Fixes an `Array#sort` bug in the JS engine embedded in Adobe applications\r\n    // that causes it, under certain circumstances, to provide the same value for\r\n    // `object` and `other`. See https://github.com/jashkenas/underscore/pull/1247\r\n    // for more details.\r\n    //\r\n    // This also ensures a stable sort in V8 and other engines.\r\n    // See https://code.google.com/p/v8/issues/detail?id=90 for more details.\r\n    return object.index - other.index;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.deburr` to convert latin-1 supplementary letters to basic latin letters.\r\n   *\r\n   * @private\r\n   * @param {string} letter The matched letter to deburr.\r\n   * @returns {string} Returns the deburred letter.\r\n   */\r\n  function deburrLetter(letter) {\r\n    return deburredLetters[letter];\r\n  }\r\n\r\n  /**\r\n   * Used by `_.escape` to convert characters to HTML entities.\r\n   *\r\n   * @private\r\n   * @param {string} chr The matched character to escape.\r\n   * @returns {string} Returns the escaped character.\r\n   */\r\n  function escapeHtmlChar(chr) {\r\n    return htmlEscapes[chr];\r\n  }\r\n\r\n  /**\r\n   * Used by `_.escapeRegExp` to escape characters for inclusion in compiled regexes.\r\n   *\r\n   * @private\r\n   * @param {string} chr The matched character to escape.\r\n   * @param {string} leadingChar The capture group for a leading character.\r\n   * @param {string} whitespaceChar The capture group for a whitespace character.\r\n   * @returns {string} Returns the escaped character.\r\n   */\r\n  function escapeRegExpChar(chr, leadingChar, whitespaceChar) {\r\n    if (leadingChar) {\r\n      chr = regexpEscapes[chr];\r\n    } else if (whitespaceChar) {\r\n      chr = stringEscapes[chr];\r\n    }\r\n    return '\\\\' + chr;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.template` to escape characters for inclusion in compiled string literals.\r\n   *\r\n   * @private\r\n   * @param {string} chr The matched character to escape.\r\n   * @returns {string} Returns the escaped character.\r\n   */\r\n  function escapeStringChar(chr) {\r\n    return '\\\\' + stringEscapes[chr];\r\n  }\r\n\r\n  /**\r\n   * Gets the index at which the first occurrence of `NaN` is found in `array`.\r\n   *\r\n   * @private\r\n   * @param {Array} array The array to search.\r\n   * @param {number} fromIndex The index to search from.\r\n   * @param {boolean} [fromRight] Specify iterating from right to left.\r\n   * @returns {number} Returns the index of the matched `NaN`, else `-1`.\r\n   */\r\n  function indexOfNaN(array, fromIndex, fromRight) {\r\n    var length = array.length,\r\n        index = fromIndex + (fromRight ? 0 : -1);\r\n\r\n    while ((fromRight ? index-- : ++index < length)) {\r\n      var other = array[index];\r\n      if (other !== other) {\r\n        return index;\r\n      }\r\n    }\r\n    return -1;\r\n  }\r\n\r\n  /**\r\n   * Checks if `value` is object-like.\r\n   *\r\n   * @private\r\n   * @param {*} value The value to check.\r\n   * @returns {boolean} Returns `true` if `value` is object-like, else `false`.\r\n   */\r\n  function isObjectLike(value) {\r\n    return !!value && typeof value == 'object';\r\n  }\r\n\r\n  /**\r\n   * Used by `trimmedLeftIndex` and `trimmedRightIndex` to determine if a\r\n   * character code is whitespace.\r\n   *\r\n   * @private\r\n   * @param {number} charCode The character code to inspect.\r\n   * @returns {boolean} Returns `true` if `charCode` is whitespace, else `false`.\r\n   */\r\n  function isSpace(charCode) {\r\n    return ((charCode <= 160 && (charCode >= 9 && charCode <= 13) || charCode == 32 || charCode == 160) || charCode == 5760 || charCode == 6158 ||\r\n      (charCode >= 8192 && (charCode <= 8202 || charCode == 8232 || charCode == 8233 || charCode == 8239 || charCode == 8287 || charCode == 12288 || charCode == 65279)));\r\n  }\r\n\r\n  /**\r\n   * Replaces all `placeholder` elements in `array` with an internal placeholder\r\n   * and returns an array of their indexes.\r\n   *\r\n   * @private\r\n   * @param {Array} array The array to modify.\r\n   * @param {*} placeholder The placeholder to replace.\r\n   * @returns {Array} Returns the new array of placeholder indexes.\r\n   */\r\n  function replaceHolders(array, placeholder) {\r\n    var index = -1,\r\n        length = array.length,\r\n        resIndex = -1,\r\n        result = [];\r\n\r\n    while (++index < length) {\r\n      if (array[index] === placeholder) {\r\n        array[index] = PLACEHOLDER;\r\n        result[++resIndex] = index;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * An implementation of `_.uniq` optimized for sorted arrays without support\r\n   * for callback shorthands and `this` binding.\r\n   *\r\n   * @private\r\n   * @param {Array} array The array to inspect.\r\n   * @param {Function} [iteratee] The function invoked per iteration.\r\n   * @returns {Array} Returns the new duplicate free array.\r\n   */\r\n  function sortedUniq(array, iteratee) {\r\n    var seen,\r\n        index = -1,\r\n        length = array.length,\r\n        resIndex = -1,\r\n        result = [];\r\n\r\n    while (++index < length) {\r\n      var value = array[index],\r\n          computed = iteratee ? iteratee(value, index, array) : value;\r\n\r\n      if (!index || seen !== computed) {\r\n        seen = computed;\r\n        result[++resIndex] = value;\r\n      }\r\n    }\r\n    return result;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.trim` and `_.trimLeft` to get the index of the first non-whitespace\r\n   * character of `string`.\r\n   *\r\n   * @private\r\n   * @param {string} string The string to inspect.\r\n   * @returns {number} Returns the index of the first non-whitespace character.\r\n   */\r\n  function trimmedLeftIndex(string) {\r\n    var index = -1,\r\n        length = string.length;\r\n\r\n    while (++index < length && isSpace(string.charCodeAt(index))) {}\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.trim` and `_.trimRight` to get the index of the last non-whitespace\r\n   * character of `string`.\r\n   *\r\n   * @private\r\n   * @param {string} string The string to inspect.\r\n   * @returns {number} Returns the index of the last non-whitespace character.\r\n   */\r\n  function trimmedRightIndex(string) {\r\n    var index = string.length;\r\n\r\n    while (index-- && isSpace(string.charCodeAt(index))) {}\r\n    return index;\r\n  }\r\n\r\n  /**\r\n   * Used by `_.unescape` to convert HTML entities to characters.\r\n   *\r\n   * @private\r\n   * @param {string} chr The matched character to unescape.\r\n   * @returns {string} Returns the unescaped character.\r\n   */\r\n  function unescapeHtmlChar(chr) {\r\n    return htmlUnescapes[chr];\r\n  }\r\n\r\n  /*--------------------------------------------------------------------------*/\r\n\r\n  /**\r\n   * Create a new pristine `lodash` function using the given `context` object.\r\n   *\r\n   * @static\r\n   * @memberOf _\r\n   * @category Utility\r\n   * @param {Object} [context=root] The context object.\r\n   * @returns {Function} Returns a new `lodash` function.\r\n   * @example\r\n   *\r\n   * _.mixin({ 'foo': _.constant('foo') });\r\n   *\r\n   * var lodash = _.runInContext();\r\n   * lodash.mixin({ 'bar': lodash.constant('bar') });\r\n   *\r\n   * _.isFunction(_.foo);\r\n   * // => true\r\n   * _.isFunction(_.bar);\r\n   * // => false\r\n   *\r\n   * lodash.isFunction(lodash.foo);\r\n   * // => false\r\n   * lodash.isFunction(lodash.bar);\r\n   * // => true\r\n   *\r\n   * // using `context` to mock `Date#getTime` use in `_.now`\r\n   * var mock = _.runInContext({\r\n   *   'Date': function() {\r\n   *     return { 'getTime': getTimeMock };\r\n   *   }\r\n   * });\r\n   *\r\n   * // or creating a suped-up `defer` in Node.js\r\n   * var defer = _.runInContext({ 'setTimeout': setImmediate }).defer;\r\n   */\r\n  function runInContext(context) {\r\n    // Avoid issues with some ES3 environments that attempt to use values, named\r\n    // after built-in constructors like `Object`, for the creation of literals.\r\n    // ES5 clears this up by stating that literals must use built-in constructors.\r\n    // See https://es5.github.io/#x11.1.5 for more details.\r\n    context = context ? _.defaults(root.Object(), context, _.pick(root, contextProps)) : root;\r\n\r\n    /** Native constructor references. */\r\n    var Array = context.Array,\r\n        Date = context.Date,\r\n        Error = context.Error,\r\n        Function = context.Function,\r\n        Math = context.Math,\r\n        Number = context.Number,\r\n        Object = context.Object,\r\n        RegExp = context.RegExp,\r\n        String = context.String,\r\n        TypeError = context.TypeError;\r\n\r\n    /** Used for native method references. */\r\n    var arrayProto = Array.prototype,\r\n        objectProto = Object.prototype,\r\n        stringProto = String.prototype;\r\n\r\n    /** Used to resolve the decompiled source of functions. */\r\n    var fnToString = Function.prototype.toString;\r\n\r\n    /** Used to check objects for own properties. */\r\n    var hasOwnProperty = objectProto.hasOwnProperty;\r\n\r\n    /** Used to generate unique IDs. */\r\n    var idCounter = 0;\r\n\r\n    /**\r\n     * Used to resolve the [`toStringTag`](http://ecma-international.org/ecma-262/6.0/#sec-object.prototype.tostring)\r\n     * of values.\r\n     */\r\n    var objToString = objectProto.toString;\r\n\r\n    /** Used to restore the original `_` reference in `_.noConflict`. */\r\n    var oldDash = root._;\r\n\r\n    /** Used to detect if a method is native. */\r\n    var reIsNative = RegExp('^' +\r\n      fnToString.call(hasOwnProperty).replace(/[\\\\^$.*+?()[\\]{}|]/g, '\\\\$&')\r\n      .replace(/hasOwnProperty|(function).*?(?=\\\\\\()| for .+?(?=\\\\\\])/g, '$1.*?') + '$'\r\n    );\r\n\r\n    /** Native method references. */\r\n    var ArrayBuffer = context.ArrayBuffer,\r\n        clearTimeout = context.clearTimeout,\r\n        parseFloat = context.parseFloat,\r\n        pow = Math.pow,\r\n        propertyIsEnumerable = objectProto.propertyIsEnumerable,\r\n        Set = getNative(context, 'Set'),\r\n        setTimeout = context.setTimeout,\r\n        splice = arrayProto.splice,\r\n        Uint8Array = context.Uint8Array,\r\n        WeakMap = getNative(context, 'WeakMap');\r\n\r\n    /* Native method references for those with the same name as other `lodash` methods. */\r\n    var nativeCeil = Math.ceil,\r\n        nativeCreate = getNative(Object, 'create'),\r\n        nativeFloor = Math.floor,\r\n        nativeIsArray = getNative(Array, 'isArray'),\r\n        nativeIsFinite = context.isFinite,\r\n        nativeKeys = getNative(Object, 'keys'),\r\n        nativeMax = Math.max,\r\n        nativeMin = Math.min,\r\n        nativeNow = getNative(Date, 'now'),\r\n        nativeParseInt = context.parseInt,\r\n        nativeRandom = Math.random;\r\n\r\n    /** Used as references for `-Infinity` and `Infinity`. */\r\n    var NEGATIVE_INFINITY = Number.NEGATIVE_INFINITY,\r\n        POSITIVE_INFINITY = Number.POSITIVE_INFINITY;\r\n\r\n    /** Used as references for the maximum length and index of an array. */\r\n    var MAX_ARRAY_LENGTH = 4294967295,\r\n        MAX_ARRAY_INDEX = MAX_ARRAY_LENGTH - 1,\r\n        HALF_MAX_ARRAY_LENGTH = MAX_ARRAY_LENGTH >>> 1;\r\n\r\n    /**\r\n     * Used as the [maximum length](http://ecma-international.org/ecma-262/6.0/#sec-number.max_safe_integer)\r\n     * of an array-like value.\r\n     */\r\n    var MAX_SAFE_INTEGER = 9007199254740991;\r\n\r\n    /** Used to store function metadata. */\r\n    var metaMap = WeakMap && new WeakMap;\r\n\r\n    /** Used to lookup unminified function names. */\r\n    var realNames = {};\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates a `lodash` object which wraps `value` to enable implicit chaining.\r\n     * Methods that operate on and return arrays, collections, and functions can\r\n     * be chained together. Methods that retrieve a single value or may return a\r\n     * primitive value will automatically end the chain returning the unwrapped\r\n     * value. Explicit chaining may be enabled using `_.chain`. The execution of\r\n     * chained methods is lazy, that is, execution is deferred until `_#value`\r\n     * is implicitly or explicitly called.\r\n     *\r\n     * Lazy evaluation allows several methods to support shortcut fusion. Shortcut\r\n     * fusion is an optimization strategy which merge iteratee calls; this can help\r\n     * to avoid the creation of intermediate data structures and greatly reduce the\r\n     * number of iteratee executions.\r\n     *\r\n     * Chaining is supported in custom builds as long as the `_#value` method is\r\n     * directly or indirectly included in the build.\r\n     *\r\n     * In addition to lodash methods, wrappers have `Array` and `String` methods.\r\n     *\r\n     * The wrapper `Array` methods are:\r\n     * `concat`, `join`, `pop`, `push`, `reverse`, `shift`, `slice`, `sort`,\r\n     * `splice`, and `unshift`\r\n     *\r\n     * The wrapper `String` methods are:\r\n     * `replace` and `split`\r\n     *\r\n     * The wrapper methods that support shortcut fusion are:\r\n     * `compact`, `drop`, `dropRight`, `dropRightWhile`, `dropWhile`, `filter`,\r\n     * `first`, `initial`, `last`, `map`, `pluck`, `reject`, `rest`, `reverse`,\r\n     * `slice`, `take`, `takeRight`, `takeRightWhile`, `takeWhile`, `toArray`,\r\n     * and `where`\r\n     *\r\n     * The chainable wrapper methods are:\r\n     * `after`, `ary`, `assign`, `at`, `before`, `bind`, `bindAll`, `bindKey`,\r\n     * `callback`, `chain`, `chunk`, `commit`, `compact`, `concat`, `constant`,\r\n     * `countBy`, `create`, `curry`, `debounce`, `defaults`, `defaultsDeep`,\r\n     * `defer`, `delay`, `difference`, `drop`, `dropRight`, `dropRightWhile`,\r\n     * `dropWhile`, `fill`, `filter`, `flatten`, `flattenDeep`, `flow`, `flowRight`,\r\n     * `forEach`, `forEachRight`, `forIn`, `forInRight`, `forOwn`, `forOwnRight`,\r\n     * `functions`, `groupBy`, `indexBy`, `initial`, `intersection`, `invert`,\r\n     * `invoke`, `keys`, `keysIn`, `map`, `mapKeys`, `mapValues`, `matches`,\r\n     * `matchesProperty`, `memoize`, `merge`, `method`, `methodOf`, `mixin`,\r\n     * `modArgs`, `negate`, `omit`, `once`, `pairs`, `partial`, `partialRight`,\r\n     * `partition`, `pick`, `plant`, `pluck`, `property`, `propertyOf`, `pull`,\r\n     * `pullAt`, `push`, `range`, `rearg`, `reject`, `remove`, `rest`, `restParam`,\r\n     * `reverse`, `set`, `shuffle`, `slice`, `sort`, `sortBy`, `sortByAll`,\r\n     * `sortByOrder`, `splice`, `spread`, `take`, `takeRight`, `takeRightWhile`,\r\n     * `takeWhile`, `tap`, `throttle`, `thru`, `times`, `toArray`, `toPlainObject`,\r\n     * `transform`, `union`, `uniq`, `unshift`, `unzip`, `unzipWith`, `values`,\r\n     * `valuesIn`, `where`, `without`, `wrap`, `xor`, `zip`, `zipObject`, `zipWith`\r\n     *\r\n     * The wrapper methods that are **not** chainable by default are:\r\n     * `add`, `attempt`, `camelCase`, `capitalize`, `ceil`, `clone`, `cloneDeep`,\r\n     * `deburr`, `endsWith`, `escape`, `escapeRegExp`, `every`, `find`, `findIndex`,\r\n     * `findKey`, `findLast`, `findLastIndex`, `findLastKey`, `findWhere`, `first`,\r\n     * `floor`, `get`, `gt`, `gte`, `has`, `identity`, `includes`, `indexOf`,\r\n     * `inRange`, `isArguments`, `isArray`, `isBoolean`, `isDate`, `isElement`,\r\n     * `isEmpty`, `isEqual`, `isError`, `isFinite` `isFunction`, `isMatch`,\r\n     * `isNative`, `isNaN`, `isNull`, `isNumber`, `isObject`, `isPlainObject`,\r\n     * `isRegExp`, `isString`, `isUndefined`, `isTypedArray`, `join`, `kebabCase`,\r\n     * `last`, `lastIndexOf`, `lt`, `lte`, `max`, `min`, `noConflict`, `noop`,\r\n     * `now`, `pad`, `padLeft`, `padRight`, `parseInt`, `pop`, `random`, `reduce`,\r\n     * `reduceRight`, `repeat`, `result`, `round`, `runInContext`, `shift`, `size`,\r\n     * `snakeCase`, `some`, `sortedIndex`, `sortedLastIndex`, `startCase`,\r\n     * `startsWith`, `sum`, `template`, `trim`, `trimLeft`, `trimRight`, `trunc`,\r\n     * `unescape`, `uniqueId`, `value`, and `words`\r\n     *\r\n     * The wrapper method `sample` will return a wrapped value when `n` is provided,\r\n     * otherwise an unwrapped value is returned.\r\n     *\r\n     * @name _\r\n     * @constructor\r\n     * @category Chain\r\n     * @param {*} value The value to wrap in a `lodash` instance.\r\n     * @returns {Object} Returns the new `lodash` wrapper instance.\r\n     * @example\r\n     *\r\n     * var wrapped = _([1, 2, 3]);\r\n     *\r\n     * // returns an unwrapped value\r\n     * wrapped.reduce(function(total, n) {\r\n     *   return total + n;\r\n     * });\r\n     * // => 6\r\n     *\r\n     * // returns a wrapped value\r\n     * var squares = wrapped.map(function(n) {\r\n     *   return n * n;\r\n     * });\r\n     *\r\n     * _.isArray(squares);\r\n     * // => false\r\n     *\r\n     * _.isArray(squares.value());\r\n     * // => true\r\n     */\r\n    function lodash(value) {\r\n      if (isObjectLike(value) && !isArray(value) && !(value instanceof LazyWrapper)) {\r\n        if (value instanceof LodashWrapper) {\r\n          return value;\r\n        }\r\n        if (hasOwnProperty.call(value, '__chain__') && hasOwnProperty.call(value, '__wrapped__')) {\r\n          return wrapperClone(value);\r\n        }\r\n      }\r\n      return new LodashWrapper(value);\r\n    }\r\n\r\n    /**\r\n     * The function whose prototype all chaining wrappers inherit from.\r\n     *\r\n     * @private\r\n     */\r\n    function baseLodash() {\r\n      // No operation performed.\r\n    }\r\n\r\n    /**\r\n     * The base constructor for creating `lodash` wrapper objects.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to wrap.\r\n     * @param {boolean} [chainAll] Enable chaining for all wrapper methods.\r\n     * @param {Array} [actions=[]] Actions to peform to resolve the unwrapped value.\r\n     */\r\n    function LodashWrapper(value, chainAll, actions) {\r\n      this.__wrapped__ = value;\r\n      this.__actions__ = actions || [];\r\n      this.__chain__ = !!chainAll;\r\n    }\r\n\r\n    /**\r\n     * An object environment feature flags.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @type Object\r\n     */\r\n    var support = lodash.support = {};\r\n\r\n    /**\r\n     * By default, the template delimiters used by lodash are like those in\r\n     * embedded Ruby (ERB). Change the following template settings to use\r\n     * alternative delimiters.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @type Object\r\n     */\r\n    lodash.templateSettings = {\r\n\r\n      /**\r\n       * Used to detect `data` property values to be HTML-escaped.\r\n       *\r\n       * @memberOf _.templateSettings\r\n       * @type RegExp\r\n       */\r\n      'escape': reEscape,\r\n\r\n      /**\r\n       * Used to detect code to be evaluated.\r\n       *\r\n       * @memberOf _.templateSettings\r\n       * @type RegExp\r\n       */\r\n      'evaluate': reEvaluate,\r\n\r\n      /**\r\n       * Used to detect `data` property values to inject.\r\n       *\r\n       * @memberOf _.templateSettings\r\n       * @type RegExp\r\n       */\r\n      'interpolate': reInterpolate,\r\n\r\n      /**\r\n       * Used to reference the data object in the template text.\r\n       *\r\n       * @memberOf _.templateSettings\r\n       * @type string\r\n       */\r\n      'variable': '',\r\n\r\n      /**\r\n       * Used to import variables into the compiled template.\r\n       *\r\n       * @memberOf _.templateSettings\r\n       * @type Object\r\n       */\r\n      'imports': {\r\n\r\n        /**\r\n         * A reference to the `lodash` function.\r\n         *\r\n         * @memberOf _.templateSettings.imports\r\n         * @type Function\r\n         */\r\n        '_': lodash\r\n      }\r\n    };\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates a lazy wrapper object which wraps `value` to enable lazy evaluation.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to wrap.\r\n     */\r\n    function LazyWrapper(value) {\r\n      this.__wrapped__ = value;\r\n      this.__actions__ = [];\r\n      this.__dir__ = 1;\r\n      this.__filtered__ = false;\r\n      this.__iteratees__ = [];\r\n      this.__takeCount__ = POSITIVE_INFINITY;\r\n      this.__views__ = [];\r\n    }\r\n\r\n    /**\r\n     * Creates a clone of the lazy wrapper object.\r\n     *\r\n     * @private\r\n     * @name clone\r\n     * @memberOf LazyWrapper\r\n     * @returns {Object} Returns the cloned `LazyWrapper` object.\r\n     */\r\n    function lazyClone() {\r\n      var result = new LazyWrapper(this.__wrapped__);\r\n      result.__actions__ = arrayCopy(this.__actions__);\r\n      result.__dir__ = this.__dir__;\r\n      result.__filtered__ = this.__filtered__;\r\n      result.__iteratees__ = arrayCopy(this.__iteratees__);\r\n      result.__takeCount__ = this.__takeCount__;\r\n      result.__views__ = arrayCopy(this.__views__);\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Reverses the direction of lazy iteration.\r\n     *\r\n     * @private\r\n     * @name reverse\r\n     * @memberOf LazyWrapper\r\n     * @returns {Object} Returns the new reversed `LazyWrapper` object.\r\n     */\r\n    function lazyReverse() {\r\n      if (this.__filtered__) {\r\n        var result = new LazyWrapper(this);\r\n        result.__dir__ = -1;\r\n        result.__filtered__ = true;\r\n      } else {\r\n        result = this.clone();\r\n        result.__dir__ *= -1;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Extracts the unwrapped value from its lazy wrapper.\r\n     *\r\n     * @private\r\n     * @name value\r\n     * @memberOf LazyWrapper\r\n     * @returns {*} Returns the unwrapped value.\r\n     */\r\n    function lazyValue() {\r\n      var array = this.__wrapped__.value(),\r\n          dir = this.__dir__,\r\n          isArr = isArray(array),\r\n          isRight = dir < 0,\r\n          arrLength = isArr ? array.length : 0,\r\n          view = getView(0, arrLength, this.__views__),\r\n          start = view.start,\r\n          end = view.end,\r\n          length = end - start,\r\n          index = isRight ? end : (start - 1),\r\n          iteratees = this.__iteratees__,\r\n          iterLength = iteratees.length,\r\n          resIndex = 0,\r\n          takeCount = nativeMin(length, this.__takeCount__);\r\n\r\n      if (!isArr || arrLength < LARGE_ARRAY_SIZE || (arrLength == length && takeCount == length)) {\r\n        return baseWrapperValue(array, this.__actions__);\r\n      }\r\n      var result = [];\r\n\r\n      outer:\r\n      while (length-- && resIndex < takeCount) {\r\n        index += dir;\r\n\r\n        var iterIndex = -1,\r\n            value = array[index];\r\n\r\n        while (++iterIndex < iterLength) {\r\n          var data = iteratees[iterIndex],\r\n              iteratee = data.iteratee,\r\n              type = data.type,\r\n              computed = iteratee(value);\r\n\r\n          if (type == LAZY_MAP_FLAG) {\r\n            value = computed;\r\n          } else if (!computed) {\r\n            if (type == LAZY_FILTER_FLAG) {\r\n              continue outer;\r\n            } else {\r\n              break outer;\r\n            }\r\n          }\r\n        }\r\n        result[resIndex++] = value;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates a cache object to store key/value pairs.\r\n     *\r\n     * @private\r\n     * @static\r\n     * @name Cache\r\n     * @memberOf _.memoize\r\n     */\r\n    function MapCache() {\r\n      this.__data__ = {};\r\n    }\r\n\r\n    /**\r\n     * Removes `key` and its value from the cache.\r\n     *\r\n     * @private\r\n     * @name delete\r\n     * @memberOf _.memoize.Cache\r\n     * @param {string} key The key of the value to remove.\r\n     * @returns {boolean} Returns `true` if the entry was removed successfully, else `false`.\r\n     */\r\n    function mapDelete(key) {\r\n      return this.has(key) && delete this.__data__[key];\r\n    }\r\n\r\n    /**\r\n     * Gets the cached value for `key`.\r\n     *\r\n     * @private\r\n     * @name get\r\n     * @memberOf _.memoize.Cache\r\n     * @param {string} key The key of the value to get.\r\n     * @returns {*} Returns the cached value.\r\n     */\r\n    function mapGet(key) {\r\n      return key == '__proto__' ? undefined : this.__data__[key];\r\n    }\r\n\r\n    /**\r\n     * Checks if a cached value for `key` exists.\r\n     *\r\n     * @private\r\n     * @name has\r\n     * @memberOf _.memoize.Cache\r\n     * @param {string} key The key of the entry to check.\r\n     * @returns {boolean} Returns `true` if an entry for `key` exists, else `false`.\r\n     */\r\n    function mapHas(key) {\r\n      return key != '__proto__' && hasOwnProperty.call(this.__data__, key);\r\n    }\r\n\r\n    /**\r\n     * Sets `value` to `key` of the cache.\r\n     *\r\n     * @private\r\n     * @name set\r\n     * @memberOf _.memoize.Cache\r\n     * @param {string} key The key of the value to cache.\r\n     * @param {*} value The value to cache.\r\n     * @returns {Object} Returns the cache object.\r\n     */\r\n    function mapSet(key, value) {\r\n      if (key != '__proto__') {\r\n        this.__data__[key] = value;\r\n      }\r\n      return this;\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     *\r\n     * Creates a cache object to store unique values.\r\n     *\r\n     * @private\r\n     * @param {Array} [values] The values to cache.\r\n     */\r\n    function SetCache(values) {\r\n      var length = values ? values.length : 0;\r\n\r\n      this.data = { 'hash': nativeCreate(null), 'set': new Set };\r\n      while (length--) {\r\n        this.push(values[length]);\r\n      }\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is in `cache` mimicking the return signature of\r\n     * `_.indexOf` by returning `0` if the value is found, else `-1`.\r\n     *\r\n     * @private\r\n     * @param {Object} cache The cache to search.\r\n     * @param {*} value The value to search for.\r\n     * @returns {number} Returns `0` if `value` is found, else `-1`.\r\n     */\r\n    function cacheIndexOf(cache, value) {\r\n      var data = cache.data,\r\n          result = (typeof value == 'string' || isObject(value)) ? data.set.has(value) : data.hash[value];\r\n\r\n      return result ? 0 : -1;\r\n    }\r\n\r\n    /**\r\n     * Adds `value` to the cache.\r\n     *\r\n     * @private\r\n     * @name push\r\n     * @memberOf SetCache\r\n     * @param {*} value The value to cache.\r\n     */\r\n    function cachePush(value) {\r\n      var data = this.data;\r\n      if (typeof value == 'string' || isObject(value)) {\r\n        data.set.add(value);\r\n      } else {\r\n        data.hash[value] = true;\r\n      }\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates a new array joining `array` with `other`.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to join.\r\n     * @param {Array} other The other array to join.\r\n     * @returns {Array} Returns the new concatenated array.\r\n     */\r\n    function arrayConcat(array, other) {\r\n      var index = -1,\r\n          length = array.length,\r\n          othIndex = -1,\r\n          othLength = other.length,\r\n          result = Array(length + othLength);\r\n\r\n      while (++index < length) {\r\n        result[index] = array[index];\r\n      }\r\n      while (++othIndex < othLength) {\r\n        result[index++] = other[othIndex];\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Copies the values of `source` to `array`.\r\n     *\r\n     * @private\r\n     * @param {Array} source The array to copy values from.\r\n     * @param {Array} [array=[]] The array to copy values to.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function arrayCopy(source, array) {\r\n      var index = -1,\r\n          length = source.length;\r\n\r\n      array || (array = Array(length));\r\n      while (++index < length) {\r\n        array[index] = source[index];\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.forEach` for arrays without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function arrayEach(array, iteratee) {\r\n      var index = -1,\r\n          length = array.length;\r\n\r\n      while (++index < length) {\r\n        if (iteratee(array[index], index, array) === false) {\r\n          break;\r\n        }\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.forEachRight` for arrays without support for\r\n     * callback shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function arrayEachRight(array, iteratee) {\r\n      var length = array.length;\r\n\r\n      while (length--) {\r\n        if (iteratee(array[length], length, array) === false) {\r\n          break;\r\n        }\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.every` for arrays without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\r\n     *  else `false`.\r\n     */\r\n    function arrayEvery(array, predicate) {\r\n      var index = -1,\r\n          length = array.length;\r\n\r\n      while (++index < length) {\r\n        if (!predicate(array[index], index, array)) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseExtremum` for arrays which invokes `iteratee`\r\n     * with one argument: (value).\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {Function} comparator The function used to compare values.\r\n     * @param {*} exValue The initial extremum value.\r\n     * @returns {*} Returns the extremum value.\r\n     */\r\n    function arrayExtremum(array, iteratee, comparator, exValue) {\r\n      var index = -1,\r\n          length = array.length,\r\n          computed = exValue,\r\n          result = computed;\r\n\r\n      while (++index < length) {\r\n        var value = array[index],\r\n            current = +iteratee(value);\r\n\r\n        if (comparator(current, computed)) {\r\n          computed = current;\r\n          result = value;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.filter` for arrays without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {Array} Returns the new filtered array.\r\n     */\r\n    function arrayFilter(array, predicate) {\r\n      var index = -1,\r\n          length = array.length,\r\n          resIndex = -1,\r\n          result = [];\r\n\r\n      while (++index < length) {\r\n        var value = array[index];\r\n        if (predicate(value, index, array)) {\r\n          result[++resIndex] = value;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.map` for arrays without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Array} Returns the new mapped array.\r\n     */\r\n    function arrayMap(array, iteratee) {\r\n      var index = -1,\r\n          length = array.length,\r\n          result = Array(length);\r\n\r\n      while (++index < length) {\r\n        result[index] = iteratee(array[index], index, array);\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Appends the elements of `values` to `array`.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to modify.\r\n     * @param {Array} values The values to append.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function arrayPush(array, values) {\r\n      var index = -1,\r\n          length = values.length,\r\n          offset = array.length;\r\n\r\n      while (++index < length) {\r\n        array[offset + index] = values[index];\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.reduce` for arrays without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {*} [accumulator] The initial value.\r\n     * @param {boolean} [initFromArray] Specify using the first element of `array`\r\n     *  as the initial value.\r\n     * @returns {*} Returns the accumulated value.\r\n     */\r\n    function arrayReduce(array, iteratee, accumulator, initFromArray) {\r\n      var index = -1,\r\n          length = array.length;\r\n\r\n      if (initFromArray && length) {\r\n        accumulator = array[++index];\r\n      }\r\n      while (++index < length) {\r\n        accumulator = iteratee(accumulator, array[index], index, array);\r\n      }\r\n      return accumulator;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.reduceRight` for arrays without support for\r\n     * callback shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {*} [accumulator] The initial value.\r\n     * @param {boolean} [initFromArray] Specify using the last element of `array`\r\n     *  as the initial value.\r\n     * @returns {*} Returns the accumulated value.\r\n     */\r\n    function arrayReduceRight(array, iteratee, accumulator, initFromArray) {\r\n      var length = array.length;\r\n      if (initFromArray && length) {\r\n        accumulator = array[--length];\r\n      }\r\n      while (length--) {\r\n        accumulator = iteratee(accumulator, array[length], length, array);\r\n      }\r\n      return accumulator;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.some` for arrays without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\r\n     *  else `false`.\r\n     */\r\n    function arraySome(array, predicate) {\r\n      var index = -1,\r\n          length = array.length;\r\n\r\n      while (++index < length) {\r\n        if (predicate(array[index], index, array)) {\r\n          return true;\r\n        }\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.sum` for arrays without support for callback\r\n     * shorthands and `this` binding..\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {number} Returns the sum.\r\n     */\r\n    function arraySum(array, iteratee) {\r\n      var length = array.length,\r\n          result = 0;\r\n\r\n      while (length--) {\r\n        result += +iteratee(array[length]) || 0;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Used by `_.defaults` to customize its `_.assign` use.\r\n     *\r\n     * @private\r\n     * @param {*} objectValue The destination object property value.\r\n     * @param {*} sourceValue The source object property value.\r\n     * @returns {*} Returns the value to assign to the destination object.\r\n     */\r\n    function assignDefaults(objectValue, sourceValue) {\r\n      return objectValue === undefined ? sourceValue : objectValue;\r\n    }\r\n\r\n    /**\r\n     * Used by `_.template` to customize its `_.assign` use.\r\n     *\r\n     * **Note:** This function is like `assignDefaults` except that it ignores\r\n     * inherited property values when checking if a property is `undefined`.\r\n     *\r\n     * @private\r\n     * @param {*} objectValue The destination object property value.\r\n     * @param {*} sourceValue The source object property value.\r\n     * @param {string} key The key associated with the object and source values.\r\n     * @param {Object} object The destination object.\r\n     * @returns {*} Returns the value to assign to the destination object.\r\n     */\r\n    function assignOwnDefaults(objectValue, sourceValue, key, object) {\r\n      return (objectValue === undefined || !hasOwnProperty.call(object, key))\r\n        ? sourceValue\r\n        : objectValue;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.assign` for customizing assigned values without\r\n     * support for argument juggling, multiple sources, and `this` binding `customizer`\r\n     * functions.\r\n     *\r\n     * @private\r\n     * @param {Object} object The destination object.\r\n     * @param {Object} source The source object.\r\n     * @param {Function} customizer The function to customize assigned values.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function assignWith(object, source, customizer) {\r\n      var index = -1,\r\n          props = keys(source),\r\n          length = props.length;\r\n\r\n      while (++index < length) {\r\n        var key = props[index],\r\n            value = object[key],\r\n            result = customizer(value, source[key], key, object, source);\r\n\r\n        if ((result === result ? (result !== value) : (value === value)) ||\r\n            (value === undefined && !(key in object))) {\r\n          object[key] = result;\r\n        }\r\n      }\r\n      return object;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.assign` without support for argument juggling,\r\n     * multiple sources, and `customizer` functions.\r\n     *\r\n     * @private\r\n     * @param {Object} object The destination object.\r\n     * @param {Object} source The source object.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function baseAssign(object, source) {\r\n      return source == null\r\n        ? object\r\n        : baseCopy(source, keys(source), object);\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.at` without support for string collections\r\n     * and individual key arguments.\r\n     *\r\n     * @private\r\n     * @param {Array|Object} collection The collection to iterate over.\r\n     * @param {number[]|string[]} props The property names or indexes of elements to pick.\r\n     * @returns {Array} Returns the new array of picked elements.\r\n     */\r\n    function baseAt(collection, props) {\r\n      var index = -1,\r\n          isNil = collection == null,\r\n          isArr = !isNil && isArrayLike(collection),\r\n          length = isArr ? collection.length : 0,\r\n          propsLength = props.length,\r\n          result = Array(propsLength);\r\n\r\n      while(++index < propsLength) {\r\n        var key = props[index];\r\n        if (isArr) {\r\n          result[index] = isIndex(key, length) ? collection[key] : undefined;\r\n        } else {\r\n          result[index] = isNil ? undefined : collection[key];\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Copies properties of `source` to `object`.\r\n     *\r\n     * @private\r\n     * @param {Object} source The object to copy properties from.\r\n     * @param {Array} props The property names to copy.\r\n     * @param {Object} [object={}] The object to copy properties to.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function baseCopy(source, props, object) {\r\n      object || (object = {});\r\n\r\n      var index = -1,\r\n          length = props.length;\r\n\r\n      while (++index < length) {\r\n        var key = props[index];\r\n        object[key] = source[key];\r\n      }\r\n      return object;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.callback` which supports specifying the\r\n     * number of arguments to provide to `func`.\r\n     *\r\n     * @private\r\n     * @param {*} [func=_.identity] The value to convert to a callback.\r\n     * @param {*} [thisArg] The `this` binding of `func`.\r\n     * @param {number} [argCount] The number of arguments to provide to `func`.\r\n     * @returns {Function} Returns the callback.\r\n     */\r\n    function baseCallback(func, thisArg, argCount) {\r\n      var type = typeof func;\r\n      if (type == 'function') {\r\n        return thisArg === undefined\r\n          ? func\r\n          : bindCallback(func, thisArg, argCount);\r\n      }\r\n      if (func == null) {\r\n        return identity;\r\n      }\r\n      if (type == 'object') {\r\n        return baseMatches(func);\r\n      }\r\n      return thisArg === undefined\r\n        ? property(func)\r\n        : baseMatchesProperty(func, thisArg);\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.clone` without support for argument juggling\r\n     * and `this` binding `customizer` functions.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to clone.\r\n     * @param {boolean} [isDeep] Specify a deep clone.\r\n     * @param {Function} [customizer] The function to customize cloning values.\r\n     * @param {string} [key] The key of `value`.\r\n     * @param {Object} [object] The object `value` belongs to.\r\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\r\n     * @param {Array} [stackB=[]] Associates clones with source counterparts.\r\n     * @returns {*} Returns the cloned value.\r\n     */\r\n    function baseClone(value, isDeep, customizer, key, object, stackA, stackB) {\r\n      var result;\r\n      if (customizer) {\r\n        result = object ? customizer(value, key, object) : customizer(value);\r\n      }\r\n      if (result !== undefined) {\r\n        return result;\r\n      }\r\n      if (!isObject(value)) {\r\n        return value;\r\n      }\r\n      var isArr = isArray(value);\r\n      if (isArr) {\r\n        result = initCloneArray(value);\r\n        if (!isDeep) {\r\n          return arrayCopy(value, result);\r\n        }\r\n      } else {\r\n        var tag = objToString.call(value),\r\n            isFunc = tag == funcTag;\r\n\r\n        if (tag == objectTag || tag == argsTag || (isFunc && !object)) {\r\n          result = initCloneObject(isFunc ? {} : value);\r\n          if (!isDeep) {\r\n            return baseAssign(result, value);\r\n          }\r\n        } else {\r\n          return cloneableTags[tag]\r\n            ? initCloneByTag(value, tag, isDeep)\r\n            : (object ? value : {});\r\n        }\r\n      }\r\n      // Check for circular references and return its corresponding clone.\r\n      stackA || (stackA = []);\r\n      stackB || (stackB = []);\r\n\r\n      var length = stackA.length;\r\n      while (length--) {\r\n        if (stackA[length] == value) {\r\n          return stackB[length];\r\n        }\r\n      }\r\n      // Add the source value to the stack of traversed objects and associate it with its clone.\r\n      stackA.push(value);\r\n      stackB.push(result);\r\n\r\n      // Recursively populate clone (susceptible to call stack limits).\r\n      (isArr ? arrayEach : baseForOwn)(value, function(subValue, key) {\r\n        result[key] = baseClone(subValue, isDeep, customizer, key, value, stackA, stackB);\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.create` without support for assigning\r\n     * properties to the created object.\r\n     *\r\n     * @private\r\n     * @param {Object} prototype The object to inherit from.\r\n     * @returns {Object} Returns the new object.\r\n     */\r\n    var baseCreate = (function() {\r\n      function object() {}\r\n      return function(prototype) {\r\n        if (isObject(prototype)) {\r\n          object.prototype = prototype;\r\n          var result = new object;\r\n          object.prototype = undefined;\r\n        }\r\n        return result || {};\r\n      };\r\n    }());\r\n\r\n    /**\r\n     * The base implementation of `_.delay` and `_.defer` which accepts an index\r\n     * of where to slice the arguments to provide to `func`.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to delay.\r\n     * @param {number} wait The number of milliseconds to delay invocation.\r\n     * @param {Object} args The arguments provide to `func`.\r\n     * @returns {number} Returns the timer id.\r\n     */\r\n    function baseDelay(func, wait, args) {\r\n      if (typeof func != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      return setTimeout(function() { func.apply(undefined, args); }, wait);\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.difference` which accepts a single array\r\n     * of values to exclude.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to inspect.\r\n     * @param {Array} values The values to exclude.\r\n     * @returns {Array} Returns the new array of filtered values.\r\n     */\r\n    function baseDifference(array, values) {\r\n      var length = array ? array.length : 0,\r\n          result = [];\r\n\r\n      if (!length) {\r\n        return result;\r\n      }\r\n      var index = -1,\r\n          indexOf = getIndexOf(),\r\n          isCommon = indexOf === baseIndexOf,\r\n          cache = (isCommon && values.length >= LARGE_ARRAY_SIZE) ? createCache(values) : null,\r\n          valuesLength = values.length;\r\n\r\n      if (cache) {\r\n        indexOf = cacheIndexOf;\r\n        isCommon = false;\r\n        values = cache;\r\n      }\r\n      outer:\r\n      while (++index < length) {\r\n        var value = array[index];\r\n\r\n        if (isCommon && value === value) {\r\n          var valuesIndex = valuesLength;\r\n          while (valuesIndex--) {\r\n            if (values[valuesIndex] === value) {\r\n              continue outer;\r\n            }\r\n          }\r\n          result.push(value);\r\n        }\r\n        else if (indexOf(values, value, 0) < 0) {\r\n          result.push(value);\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.forEach` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Array|Object|string} Returns `collection`.\r\n     */\r\n    var baseEach = createBaseEach(baseForOwn);\r\n\r\n    /**\r\n     * The base implementation of `_.forEachRight` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Array|Object|string} Returns `collection`.\r\n     */\r\n    var baseEachRight = createBaseEach(baseForOwnRight, true);\r\n\r\n    /**\r\n     * The base implementation of `_.every` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\r\n     *  else `false`\r\n     */\r\n    function baseEvery(collection, predicate) {\r\n      var result = true;\r\n      baseEach(collection, function(value, index, collection) {\r\n        result = !!predicate(value, index, collection);\r\n        return result;\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Gets the extremum value of `collection` invoking `iteratee` for each value\r\n     * in `collection` to generate the criterion by which the value is ranked.\r\n     * The `iteratee` is invoked with three arguments: (value, index|key, collection).\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {Function} comparator The function used to compare values.\r\n     * @param {*} exValue The initial extremum value.\r\n     * @returns {*} Returns the extremum value.\r\n     */\r\n    function baseExtremum(collection, iteratee, comparator, exValue) {\r\n      var computed = exValue,\r\n          result = computed;\r\n\r\n      baseEach(collection, function(value, index, collection) {\r\n        var current = +iteratee(value, index, collection);\r\n        if (comparator(current, computed) || (current === exValue && current === result)) {\r\n          computed = current;\r\n          result = value;\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.fill` without an iteratee call guard.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to fill.\r\n     * @param {*} value The value to fill `array` with.\r\n     * @param {number} [start=0] The start position.\r\n     * @param {number} [end=array.length] The end position.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function baseFill(array, value, start, end) {\r\n      var length = array.length;\r\n\r\n      start = start == null ? 0 : (+start || 0);\r\n      if (start < 0) {\r\n        start = -start > length ? 0 : (length + start);\r\n      }\r\n      end = (end === undefined || end > length) ? length : (+end || 0);\r\n      if (end < 0) {\r\n        end += length;\r\n      }\r\n      length = start > end ? 0 : (end >>> 0);\r\n      start >>>= 0;\r\n\r\n      while (start < length) {\r\n        array[start++] = value;\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.filter` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {Array} Returns the new filtered array.\r\n     */\r\n    function baseFilter(collection, predicate) {\r\n      var result = [];\r\n      baseEach(collection, function(value, index, collection) {\r\n        if (predicate(value, index, collection)) {\r\n          result.push(value);\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.find`, `_.findLast`, `_.findKey`, and `_.findLastKey`,\r\n     * without support for callback shorthands and `this` binding, which iterates\r\n     * over `collection` using the provided `eachFunc`.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to search.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @param {Function} eachFunc The function to iterate over `collection`.\r\n     * @param {boolean} [retKey] Specify returning the key of the found element\r\n     *  instead of the element itself.\r\n     * @returns {*} Returns the found element or its key, else `undefined`.\r\n     */\r\n    function baseFind(collection, predicate, eachFunc, retKey) {\r\n      var result;\r\n      eachFunc(collection, function(value, key, collection) {\r\n        if (predicate(value, key, collection)) {\r\n          result = retKey ? key : value;\r\n          return false;\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.flatten` with added support for restricting\r\n     * flattening and specifying the start index.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to flatten.\r\n     * @param {boolean} [isDeep] Specify a deep flatten.\r\n     * @param {boolean} [isStrict] Restrict flattening to arrays-like objects.\r\n     * @param {Array} [result=[]] The initial result value.\r\n     * @returns {Array} Returns the new flattened array.\r\n     */\r\n    function baseFlatten(array, isDeep, isStrict, result) {\r\n      result || (result = []);\r\n\r\n      var index = -1,\r\n          length = array.length;\r\n\r\n      while (++index < length) {\r\n        var value = array[index];\r\n        if (isObjectLike(value) && isArrayLike(value) &&\r\n            (isStrict || isArray(value) || isArguments(value))) {\r\n          if (isDeep) {\r\n            // Recursively flatten arrays (susceptible to call stack limits).\r\n            baseFlatten(value, isDeep, isStrict, result);\r\n          } else {\r\n            arrayPush(result, value);\r\n          }\r\n        } else if (!isStrict) {\r\n          result[result.length] = value;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `baseForIn` and `baseForOwn` which iterates\r\n     * over `object` properties returned by `keysFunc` invoking `iteratee` for\r\n     * each property. Iteratee functions may exit iteration early by explicitly\r\n     * returning `false`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {Function} keysFunc The function to get the keys of `object`.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    var baseFor = createBaseFor();\r\n\r\n    /**\r\n     * This function is like `baseFor` except that it iterates over properties\r\n     * in the opposite order.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {Function} keysFunc The function to get the keys of `object`.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    var baseForRight = createBaseFor(true);\r\n\r\n    /**\r\n     * The base implementation of `_.forIn` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function baseForIn(object, iteratee) {\r\n      return baseFor(object, iteratee, keysIn);\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.forOwn` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function baseForOwn(object, iteratee) {\r\n      return baseFor(object, iteratee, keys);\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.forOwnRight` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function baseForOwnRight(object, iteratee) {\r\n      return baseForRight(object, iteratee, keys);\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.functions` which creates an array of\r\n     * `object` function property names filtered from those provided.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to inspect.\r\n     * @param {Array} props The property names to filter.\r\n     * @returns {Array} Returns the new array of filtered property names.\r\n     */\r\n    function baseFunctions(object, props) {\r\n      var index = -1,\r\n          length = props.length,\r\n          resIndex = -1,\r\n          result = [];\r\n\r\n      while (++index < length) {\r\n        var key = props[index];\r\n        if (isFunction(object[key])) {\r\n          result[++resIndex] = key;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `get` without support for string paths\r\n     * and default values.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @param {Array} path The path of the property to get.\r\n     * @param {string} [pathKey] The key representation of path.\r\n     * @returns {*} Returns the resolved value.\r\n     */\r\n    function baseGet(object, path, pathKey) {\r\n      if (object == null) {\r\n        return;\r\n      }\r\n      if (pathKey !== undefined && pathKey in toObject(object)) {\r\n        path = [pathKey];\r\n      }\r\n      var index = 0,\r\n          length = path.length;\r\n\r\n      while (object != null && index < length) {\r\n        object = object[path[index++]];\r\n      }\r\n      return (index && index == length) ? object : undefined;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.isEqual` without support for `this` binding\r\n     * `customizer` functions.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to compare.\r\n     * @param {*} other The other value to compare.\r\n     * @param {Function} [customizer] The function to customize comparing values.\r\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\r\n     * @param {Array} [stackA] Tracks traversed `value` objects.\r\n     * @param {Array} [stackB] Tracks traversed `other` objects.\r\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n     */\r\n    function baseIsEqual(value, other, customizer, isLoose, stackA, stackB) {\r\n      if (value === other) {\r\n        return true;\r\n      }\r\n      if (value == null || other == null || (!isObject(value) && !isObjectLike(other))) {\r\n        return value !== value && other !== other;\r\n      }\r\n      return baseIsEqualDeep(value, other, baseIsEqual, customizer, isLoose, stackA, stackB);\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseIsEqual` for arrays and objects which performs\r\n     * deep comparisons and tracks traversed objects enabling objects with circular\r\n     * references to be compared.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to compare.\r\n     * @param {Object} other The other object to compare.\r\n     * @param {Function} equalFunc The function to determine equivalents of values.\r\n     * @param {Function} [customizer] The function to customize comparing objects.\r\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\r\n     * @param {Array} [stackA=[]] Tracks traversed `value` objects.\r\n     * @param {Array} [stackB=[]] Tracks traversed `other` objects.\r\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n     */\r\n    function baseIsEqualDeep(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\r\n      var objIsArr = isArray(object),\r\n          othIsArr = isArray(other),\r\n          objTag = arrayTag,\r\n          othTag = arrayTag;\r\n\r\n      if (!objIsArr) {\r\n        objTag = objToString.call(object);\r\n        if (objTag == argsTag) {\r\n          objTag = objectTag;\r\n        } else if (objTag != objectTag) {\r\n          objIsArr = isTypedArray(object);\r\n        }\r\n      }\r\n      if (!othIsArr) {\r\n        othTag = objToString.call(other);\r\n        if (othTag == argsTag) {\r\n          othTag = objectTag;\r\n        } else if (othTag != objectTag) {\r\n          othIsArr = isTypedArray(other);\r\n        }\r\n      }\r\n      var objIsObj = objTag == objectTag,\r\n          othIsObj = othTag == objectTag,\r\n          isSameTag = objTag == othTag;\r\n\r\n      if (isSameTag && !(objIsArr || objIsObj)) {\r\n        return equalByTag(object, other, objTag);\r\n      }\r\n      if (!isLoose) {\r\n        var objIsWrapped = objIsObj && hasOwnProperty.call(object, '__wrapped__'),\r\n            othIsWrapped = othIsObj && hasOwnProperty.call(other, '__wrapped__');\r\n\r\n        if (objIsWrapped || othIsWrapped) {\r\n          return equalFunc(objIsWrapped ? object.value() : object, othIsWrapped ? other.value() : other, customizer, isLoose, stackA, stackB);\r\n        }\r\n      }\r\n      if (!isSameTag) {\r\n        return false;\r\n      }\r\n      // Assume cyclic values are equal.\r\n      // For more information on detecting circular references see https://es5.github.io/#JO.\r\n      stackA || (stackA = []);\r\n      stackB || (stackB = []);\r\n\r\n      var length = stackA.length;\r\n      while (length--) {\r\n        if (stackA[length] == object) {\r\n          return stackB[length] == other;\r\n        }\r\n      }\r\n      // Add `object` and `other` to the stack of traversed objects.\r\n      stackA.push(object);\r\n      stackB.push(other);\r\n\r\n      var result = (objIsArr ? equalArrays : equalObjects)(object, other, equalFunc, customizer, isLoose, stackA, stackB);\r\n\r\n      stackA.pop();\r\n      stackB.pop();\r\n\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.isMatch` without support for callback\r\n     * shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to inspect.\r\n     * @param {Array} matchData The propery names, values, and compare flags to match.\r\n     * @param {Function} [customizer] The function to customize comparing objects.\r\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\r\n     */\r\n    function baseIsMatch(object, matchData, customizer) {\r\n      var index = matchData.length,\r\n          length = index,\r\n          noCustomizer = !customizer;\r\n\r\n      if (object == null) {\r\n        return !length;\r\n      }\r\n      object = toObject(object);\r\n      while (index--) {\r\n        var data = matchData[index];\r\n        if ((noCustomizer && data[2])\r\n              ? data[1] !== object[data[0]]\r\n              : !(data[0] in object)\r\n            ) {\r\n          return false;\r\n        }\r\n      }\r\n      while (++index < length) {\r\n        data = matchData[index];\r\n        var key = data[0],\r\n            objValue = object[key],\r\n            srcValue = data[1];\r\n\r\n        if (noCustomizer && data[2]) {\r\n          if (objValue === undefined && !(key in object)) {\r\n            return false;\r\n          }\r\n        } else {\r\n          var result = customizer ? customizer(objValue, srcValue, key) : undefined;\r\n          if (!(result === undefined ? baseIsEqual(srcValue, objValue, customizer, true) : result)) {\r\n            return false;\r\n          }\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.map` without support for callback shorthands\r\n     * and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {Array} Returns the new mapped array.\r\n     */\r\n    function baseMap(collection, iteratee) {\r\n      var index = -1,\r\n          result = isArrayLike(collection) ? Array(collection.length) : [];\r\n\r\n      baseEach(collection, function(value, key, collection) {\r\n        result[++index] = iteratee(value, key, collection);\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.matches` which does not clone `source`.\r\n     *\r\n     * @private\r\n     * @param {Object} source The object of property values to match.\r\n     * @returns {Function} Returns the new function.\r\n     */\r\n    function baseMatches(source) {\r\n      var matchData = getMatchData(source);\r\n      if (matchData.length == 1 && matchData[0][2]) {\r\n        var key = matchData[0][0],\r\n            value = matchData[0][1];\r\n\r\n        return function(object) {\r\n          if (object == null) {\r\n            return false;\r\n          }\r\n          return object[key] === value && (value !== undefined || (key in toObject(object)));\r\n        };\r\n      }\r\n      return function(object) {\r\n        return baseIsMatch(object, matchData);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.matchesProperty` which does not clone `srcValue`.\r\n     *\r\n     * @private\r\n     * @param {string} path The path of the property to get.\r\n     * @param {*} srcValue The value to compare.\r\n     * @returns {Function} Returns the new function.\r\n     */\r\n    function baseMatchesProperty(path, srcValue) {\r\n      var isArr = isArray(path),\r\n          isCommon = isKey(path) && isStrictComparable(srcValue),\r\n          pathKey = (path + '');\r\n\r\n      path = toPath(path);\r\n      return function(object) {\r\n        if (object == null) {\r\n          return false;\r\n        }\r\n        var key = pathKey;\r\n        object = toObject(object);\r\n        if ((isArr || !isCommon) && !(key in object)) {\r\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n          if (object == null) {\r\n            return false;\r\n          }\r\n          key = last(path);\r\n          object = toObject(object);\r\n        }\r\n        return object[key] === srcValue\r\n          ? (srcValue !== undefined || (key in object))\r\n          : baseIsEqual(srcValue, object[key], undefined, true);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.merge` without support for argument juggling,\r\n     * multiple sources, and `this` binding `customizer` functions.\r\n     *\r\n     * @private\r\n     * @param {Object} object The destination object.\r\n     * @param {Object} source The source object.\r\n     * @param {Function} [customizer] The function to customize merged values.\r\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\r\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\r\n     * @returns {Object} Returns `object`.\r\n     */\r\n    function baseMerge(object, source, customizer, stackA, stackB) {\r\n      if (!isObject(object)) {\r\n        return object;\r\n      }\r\n      var isSrcArr = isArrayLike(source) && (isArray(source) || isTypedArray(source)),\r\n          props = isSrcArr ? undefined : keys(source);\r\n\r\n      arrayEach(props || source, function(srcValue, key) {\r\n        if (props) {\r\n          key = srcValue;\r\n          srcValue = source[key];\r\n        }\r\n        if (isObjectLike(srcValue)) {\r\n          stackA || (stackA = []);\r\n          stackB || (stackB = []);\r\n          baseMergeDeep(object, source, key, baseMerge, customizer, stackA, stackB);\r\n        }\r\n        else {\r\n          var value = object[key],\r\n              result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\r\n              isCommon = result === undefined;\r\n\r\n          if (isCommon) {\r\n            result = srcValue;\r\n          }\r\n          if ((result !== undefined || (isSrcArr && !(key in object))) &&\r\n              (isCommon || (result === result ? (result !== value) : (value === value)))) {\r\n            object[key] = result;\r\n          }\r\n        }\r\n      });\r\n      return object;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseMerge` for arrays and objects which performs\r\n     * deep merges and tracks traversed objects enabling objects with circular\r\n     * references to be merged.\r\n     *\r\n     * @private\r\n     * @param {Object} object The destination object.\r\n     * @param {Object} source The source object.\r\n     * @param {string} key The key of the value to merge.\r\n     * @param {Function} mergeFunc The function to merge values.\r\n     * @param {Function} [customizer] The function to customize merged values.\r\n     * @param {Array} [stackA=[]] Tracks traversed source objects.\r\n     * @param {Array} [stackB=[]] Associates values with source counterparts.\r\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n     */\r\n    function baseMergeDeep(object, source, key, mergeFunc, customizer, stackA, stackB) {\r\n      var length = stackA.length,\r\n          srcValue = source[key];\r\n\r\n      while (length--) {\r\n        if (stackA[length] == srcValue) {\r\n          object[key] = stackB[length];\r\n          return;\r\n        }\r\n      }\r\n      var value = object[key],\r\n          result = customizer ? customizer(value, srcValue, key, object, source) : undefined,\r\n          isCommon = result === undefined;\r\n\r\n      if (isCommon) {\r\n        result = srcValue;\r\n        if (isArrayLike(srcValue) && (isArray(srcValue) || isTypedArray(srcValue))) {\r\n          result = isArray(value)\r\n            ? value\r\n            : (isArrayLike(value) ? arrayCopy(value) : []);\r\n        }\r\n        else if (isPlainObject(srcValue) || isArguments(srcValue)) {\r\n          result = isArguments(value)\r\n            ? toPlainObject(value)\r\n            : (isPlainObject(value) ? value : {});\r\n        }\r\n        else {\r\n          isCommon = false;\r\n        }\r\n      }\r\n      // Add the source value to the stack of traversed objects and associate\r\n      // it with its merged value.\r\n      stackA.push(srcValue);\r\n      stackB.push(result);\r\n\r\n      if (isCommon) {\r\n        // Recursively merge objects and arrays (susceptible to call stack limits).\r\n        object[key] = mergeFunc(result, srcValue, customizer, stackA, stackB);\r\n      } else if (result === result ? (result !== value) : (value === value)) {\r\n        object[key] = result;\r\n      }\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.property` without support for deep paths.\r\n     *\r\n     * @private\r\n     * @param {string} key The key of the property to get.\r\n     * @returns {Function} Returns the new function.\r\n     */\r\n    function baseProperty(key) {\r\n      return function(object) {\r\n        return object == null ? undefined : object[key];\r\n      };\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseProperty` which supports deep paths.\r\n     *\r\n     * @private\r\n     * @param {Array|string} path The path of the property to get.\r\n     * @returns {Function} Returns the new function.\r\n     */\r\n    function basePropertyDeep(path) {\r\n      var pathKey = (path + '');\r\n      path = toPath(path);\r\n      return function(object) {\r\n        return baseGet(object, path, pathKey);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.pullAt` without support for individual\r\n     * index arguments and capturing the removed elements.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to modify.\r\n     * @param {number[]} indexes The indexes of elements to remove.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function basePullAt(array, indexes) {\r\n      var length = array ? indexes.length : 0;\r\n      while (length--) {\r\n        var index = indexes[length];\r\n        if (index != previous && isIndex(index)) {\r\n          var previous = index;\r\n          splice.call(array, index, 1);\r\n        }\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.random` without support for argument juggling\r\n     * and returning floating-point numbers.\r\n     *\r\n     * @private\r\n     * @param {number} min The minimum possible value.\r\n     * @param {number} max The maximum possible value.\r\n     * @returns {number} Returns the random number.\r\n     */\r\n    function baseRandom(min, max) {\r\n      return min + nativeFloor(nativeRandom() * (max - min + 1));\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.reduce` and `_.reduceRight` without support\r\n     * for callback shorthands and `this` binding, which iterates over `collection`\r\n     * using the provided `eachFunc`.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {*} accumulator The initial value.\r\n     * @param {boolean} initFromCollection Specify using the first or last element\r\n     *  of `collection` as the initial value.\r\n     * @param {Function} eachFunc The function to iterate over `collection`.\r\n     * @returns {*} Returns the accumulated value.\r\n     */\r\n    function baseReduce(collection, iteratee, accumulator, initFromCollection, eachFunc) {\r\n      eachFunc(collection, function(value, index, collection) {\r\n        accumulator = initFromCollection\r\n          ? (initFromCollection = false, value)\r\n          : iteratee(accumulator, value, index, collection);\r\n      });\r\n      return accumulator;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `setData` without support for hot loop detection.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to associate metadata with.\r\n     * @param {*} data The metadata.\r\n     * @returns {Function} Returns `func`.\r\n     */\r\n    var baseSetData = !metaMap ? identity : function(func, data) {\r\n      metaMap.set(func, data);\r\n      return func;\r\n    };\r\n\r\n    /**\r\n     * The base implementation of `_.slice` without an iteratee call guard.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to slice.\r\n     * @param {number} [start=0] The start position.\r\n     * @param {number} [end=array.length] The end position.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     */\r\n    function baseSlice(array, start, end) {\r\n      var index = -1,\r\n          length = array.length;\r\n\r\n      start = start == null ? 0 : (+start || 0);\r\n      if (start < 0) {\r\n        start = -start > length ? 0 : (length + start);\r\n      }\r\n      end = (end === undefined || end > length) ? length : (+end || 0);\r\n      if (end < 0) {\r\n        end += length;\r\n      }\r\n      length = start > end ? 0 : ((end - start) >>> 0);\r\n      start >>>= 0;\r\n\r\n      var result = Array(length);\r\n      while (++index < length) {\r\n        result[index] = array[index + start];\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.some` without support for callback shorthands\r\n     * and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\r\n     *  else `false`.\r\n     */\r\n    function baseSome(collection, predicate) {\r\n      var result;\r\n\r\n      baseEach(collection, function(value, index, collection) {\r\n        result = predicate(value, index, collection);\r\n        return !result;\r\n      });\r\n      return !!result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.sortBy` which uses `comparer` to define\r\n     * the sort order of `array` and replaces criteria objects with their\r\n     * corresponding values.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to sort.\r\n     * @param {Function} comparer The function to define sort order.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function baseSortBy(array, comparer) {\r\n      var length = array.length;\r\n\r\n      array.sort(comparer);\r\n      while (length--) {\r\n        array[length] = array[length].value;\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.sortByOrder` without param guards.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\r\n     * @param {boolean[]} orders The sort orders of `iteratees`.\r\n     * @returns {Array} Returns the new sorted array.\r\n     */\r\n    function baseSortByOrder(collection, iteratees, orders) {\r\n      var callback = getCallback(),\r\n          index = -1;\r\n\r\n      iteratees = arrayMap(iteratees, function(iteratee) { return callback(iteratee); });\r\n\r\n      var result = baseMap(collection, function(value) {\r\n        var criteria = arrayMap(iteratees, function(iteratee) { return iteratee(value); });\r\n        return { 'criteria': criteria, 'index': ++index, 'value': value };\r\n      });\r\n\r\n      return baseSortBy(result, function(object, other) {\r\n        return compareMultiple(object, other, orders);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.sum` without support for callback shorthands\r\n     * and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @returns {number} Returns the sum.\r\n     */\r\n    function baseSum(collection, iteratee) {\r\n      var result = 0;\r\n      baseEach(collection, function(value, index, collection) {\r\n        result += +iteratee(value, index, collection) || 0;\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.uniq` without support for callback shorthands\r\n     * and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to inspect.\r\n     * @param {Function} [iteratee] The function invoked per iteration.\r\n     * @returns {Array} Returns the new duplicate free array.\r\n     */\r\n    function baseUniq(array, iteratee) {\r\n      var index = -1,\r\n          indexOf = getIndexOf(),\r\n          length = array.length,\r\n          isCommon = indexOf === baseIndexOf,\r\n          isLarge = isCommon && length >= LARGE_ARRAY_SIZE,\r\n          seen = isLarge ? createCache() : null,\r\n          result = [];\r\n\r\n      if (seen) {\r\n        indexOf = cacheIndexOf;\r\n        isCommon = false;\r\n      } else {\r\n        isLarge = false;\r\n        seen = iteratee ? [] : result;\r\n      }\r\n      outer:\r\n      while (++index < length) {\r\n        var value = array[index],\r\n            computed = iteratee ? iteratee(value, index, array) : value;\r\n\r\n        if (isCommon && value === value) {\r\n          var seenIndex = seen.length;\r\n          while (seenIndex--) {\r\n            if (seen[seenIndex] === computed) {\r\n              continue outer;\r\n            }\r\n          }\r\n          if (iteratee) {\r\n            seen.push(computed);\r\n          }\r\n          result.push(value);\r\n        }\r\n        else if (indexOf(seen, computed, 0) < 0) {\r\n          if (iteratee || isLarge) {\r\n            seen.push(computed);\r\n          }\r\n          result.push(value);\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.values` and `_.valuesIn` which creates an\r\n     * array of `object` property values corresponding to the property names\r\n     * of `props`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @param {Array} props The property names to get values for.\r\n     * @returns {Object} Returns the array of property values.\r\n     */\r\n    function baseValues(object, props) {\r\n      var index = -1,\r\n          length = props.length,\r\n          result = Array(length);\r\n\r\n      while (++index < length) {\r\n        result[index] = object[props[index]];\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `_.dropRightWhile`, `_.dropWhile`, `_.takeRightWhile`,\r\n     * and `_.takeWhile` without support for callback shorthands and `this` binding.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to query.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @param {boolean} [isDrop] Specify dropping elements instead of taking them.\r\n     * @param {boolean} [fromRight] Specify iterating from right to left.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     */\r\n    function baseWhile(array, predicate, isDrop, fromRight) {\r\n      var length = array.length,\r\n          index = fromRight ? length : -1;\r\n\r\n      while ((fromRight ? index-- : ++index < length) && predicate(array[index], index, array)) {}\r\n      return isDrop\r\n        ? baseSlice(array, (fromRight ? 0 : index), (fromRight ? index + 1 : length))\r\n        : baseSlice(array, (fromRight ? index + 1 : 0), (fromRight ? length : index));\r\n    }\r\n\r\n    /**\r\n     * The base implementation of `wrapperValue` which returns the result of\r\n     * performing a sequence of actions on the unwrapped `value`, where each\r\n     * successive action is supplied the return value of the previous.\r\n     *\r\n     * @private\r\n     * @param {*} value The unwrapped value.\r\n     * @param {Array} actions Actions to peform to resolve the unwrapped value.\r\n     * @returns {*} Returns the resolved value.\r\n     */\r\n    function baseWrapperValue(value, actions) {\r\n      var result = value;\r\n      if (result instanceof LazyWrapper) {\r\n        result = result.value();\r\n      }\r\n      var index = -1,\r\n          length = actions.length;\r\n\r\n      while (++index < length) {\r\n        var action = actions[index];\r\n        result = action.func.apply(action.thisArg, arrayPush([result], action.args));\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Performs a binary search of `array` to determine the index at which `value`\r\n     * should be inserted into `array` in order to maintain its sort order.\r\n     *\r\n     * @private\r\n     * @param {Array} array The sorted array to inspect.\r\n     * @param {*} value The value to evaluate.\r\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\r\n     * @returns {number} Returns the index at which `value` should be inserted\r\n     *  into `array`.\r\n     */\r\n    function binaryIndex(array, value, retHighest) {\r\n      var low = 0,\r\n          high = array ? array.length : low;\r\n\r\n      if (typeof value == 'number' && value === value && high <= HALF_MAX_ARRAY_LENGTH) {\r\n        while (low < high) {\r\n          var mid = (low + high) >>> 1,\r\n              computed = array[mid];\r\n\r\n          if ((retHighest ? (computed <= value) : (computed < value)) && computed !== null) {\r\n            low = mid + 1;\r\n          } else {\r\n            high = mid;\r\n          }\r\n        }\r\n        return high;\r\n      }\r\n      return binaryIndexBy(array, value, identity, retHighest);\r\n    }\r\n\r\n    /**\r\n     * This function is like `binaryIndex` except that it invokes `iteratee` for\r\n     * `value` and each element of `array` to compute their sort ranking. The\r\n     * iteratee is invoked with one argument; (value).\r\n     *\r\n     * @private\r\n     * @param {Array} array The sorted array to inspect.\r\n     * @param {*} value The value to evaluate.\r\n     * @param {Function} iteratee The function invoked per iteration.\r\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\r\n     * @returns {number} Returns the index at which `value` should be inserted\r\n     *  into `array`.\r\n     */\r\n    function binaryIndexBy(array, value, iteratee, retHighest) {\r\n      value = iteratee(value);\r\n\r\n      var low = 0,\r\n          high = array ? array.length : 0,\r\n          valIsNaN = value !== value,\r\n          valIsNull = value === null,\r\n          valIsUndef = value === undefined;\r\n\r\n      while (low < high) {\r\n        var mid = nativeFloor((low + high) / 2),\r\n            computed = iteratee(array[mid]),\r\n            isDef = computed !== undefined,\r\n            isReflexive = computed === computed;\r\n\r\n        if (valIsNaN) {\r\n          var setLow = isReflexive || retHighest;\r\n        } else if (valIsNull) {\r\n          setLow = isReflexive && isDef && (retHighest || computed != null);\r\n        } else if (valIsUndef) {\r\n          setLow = isReflexive && (retHighest || isDef);\r\n        } else if (computed == null) {\r\n          setLow = false;\r\n        } else {\r\n          setLow = retHighest ? (computed <= value) : (computed < value);\r\n        }\r\n        if (setLow) {\r\n          low = mid + 1;\r\n        } else {\r\n          high = mid;\r\n        }\r\n      }\r\n      return nativeMin(high, MAX_ARRAY_INDEX);\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseCallback` which only supports `this` binding\r\n     * and specifying the number of arguments to provide to `func`.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to bind.\r\n     * @param {*} thisArg The `this` binding of `func`.\r\n     * @param {number} [argCount] The number of arguments to provide to `func`.\r\n     * @returns {Function} Returns the callback.\r\n     */\r\n    function bindCallback(func, thisArg, argCount) {\r\n      if (typeof func != 'function') {\r\n        return identity;\r\n      }\r\n      if (thisArg === undefined) {\r\n        return func;\r\n      }\r\n      switch (argCount) {\r\n        case 1: return function(value) {\r\n          return func.call(thisArg, value);\r\n        };\r\n        case 3: return function(value, index, collection) {\r\n          return func.call(thisArg, value, index, collection);\r\n        };\r\n        case 4: return function(accumulator, value, index, collection) {\r\n          return func.call(thisArg, accumulator, value, index, collection);\r\n        };\r\n        case 5: return function(value, other, key, object, source) {\r\n          return func.call(thisArg, value, other, key, object, source);\r\n        };\r\n      }\r\n      return function() {\r\n        return func.apply(thisArg, arguments);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a clone of the given array buffer.\r\n     *\r\n     * @private\r\n     * @param {ArrayBuffer} buffer The array buffer to clone.\r\n     * @returns {ArrayBuffer} Returns the cloned array buffer.\r\n     */\r\n    function bufferClone(buffer) {\r\n      var result = new ArrayBuffer(buffer.byteLength),\r\n          view = new Uint8Array(result);\r\n\r\n      view.set(new Uint8Array(buffer));\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates an array that is the composition of partially applied arguments,\r\n     * placeholders, and provided arguments into a single array of arguments.\r\n     *\r\n     * @private\r\n     * @param {Array|Object} args The provided arguments.\r\n     * @param {Array} partials The arguments to prepend to those provided.\r\n     * @param {Array} holders The `partials` placeholder indexes.\r\n     * @returns {Array} Returns the new array of composed arguments.\r\n     */\r\n    function composeArgs(args, partials, holders) {\r\n      var holdersLength = holders.length,\r\n          argsIndex = -1,\r\n          argsLength = nativeMax(args.length - holdersLength, 0),\r\n          leftIndex = -1,\r\n          leftLength = partials.length,\r\n          result = Array(leftLength + argsLength);\r\n\r\n      while (++leftIndex < leftLength) {\r\n        result[leftIndex] = partials[leftIndex];\r\n      }\r\n      while (++argsIndex < holdersLength) {\r\n        result[holders[argsIndex]] = args[argsIndex];\r\n      }\r\n      while (argsLength--) {\r\n        result[leftIndex++] = args[argsIndex++];\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * This function is like `composeArgs` except that the arguments composition\r\n     * is tailored for `_.partialRight`.\r\n     *\r\n     * @private\r\n     * @param {Array|Object} args The provided arguments.\r\n     * @param {Array} partials The arguments to append to those provided.\r\n     * @param {Array} holders The `partials` placeholder indexes.\r\n     * @returns {Array} Returns the new array of composed arguments.\r\n     */\r\n    function composeArgsRight(args, partials, holders) {\r\n      var holdersIndex = -1,\r\n          holdersLength = holders.length,\r\n          argsIndex = -1,\r\n          argsLength = nativeMax(args.length - holdersLength, 0),\r\n          rightIndex = -1,\r\n          rightLength = partials.length,\r\n          result = Array(argsLength + rightLength);\r\n\r\n      while (++argsIndex < argsLength) {\r\n        result[argsIndex] = args[argsIndex];\r\n      }\r\n      var offset = argsIndex;\r\n      while (++rightIndex < rightLength) {\r\n        result[offset + rightIndex] = partials[rightIndex];\r\n      }\r\n      while (++holdersIndex < holdersLength) {\r\n        result[offset + holders[holdersIndex]] = args[argsIndex++];\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.countBy`, `_.groupBy`, `_.indexBy`, or `_.partition` function.\r\n     *\r\n     * @private\r\n     * @param {Function} setter The function to set keys and values of the accumulator object.\r\n     * @param {Function} [initializer] The function to initialize the accumulator object.\r\n     * @returns {Function} Returns the new aggregator function.\r\n     */\r\n    function createAggregator(setter, initializer) {\r\n      return function(collection, iteratee, thisArg) {\r\n        var result = initializer ? initializer() : {};\r\n        iteratee = getCallback(iteratee, thisArg, 3);\r\n\r\n        if (isArray(collection)) {\r\n          var index = -1,\r\n              length = collection.length;\r\n\r\n          while (++index < length) {\r\n            var value = collection[index];\r\n            setter(result, value, iteratee(value, index, collection), collection);\r\n          }\r\n        } else {\r\n          baseEach(collection, function(value, key, collection) {\r\n            setter(result, value, iteratee(value, key, collection), collection);\r\n          });\r\n        }\r\n        return result;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.assign`, `_.defaults`, or `_.merge` function.\r\n     *\r\n     * @private\r\n     * @param {Function} assigner The function to assign values.\r\n     * @returns {Function} Returns the new assigner function.\r\n     */\r\n    function createAssigner(assigner) {\r\n      return restParam(function(object, sources) {\r\n        var index = -1,\r\n            length = object == null ? 0 : sources.length,\r\n            customizer = length > 2 ? sources[length - 2] : undefined,\r\n            guard = length > 2 ? sources[2] : undefined,\r\n            thisArg = length > 1 ? sources[length - 1] : undefined;\r\n\r\n        if (typeof customizer == 'function') {\r\n          customizer = bindCallback(customizer, thisArg, 5);\r\n          length -= 2;\r\n        } else {\r\n          customizer = typeof thisArg == 'function' ? thisArg : undefined;\r\n          length -= (customizer ? 1 : 0);\r\n        }\r\n        if (guard && isIterateeCall(sources[0], sources[1], guard)) {\r\n          customizer = length < 3 ? undefined : customizer;\r\n          length = 1;\r\n        }\r\n        while (++index < length) {\r\n          var source = sources[index];\r\n          if (source) {\r\n            assigner(object, source, customizer);\r\n          }\r\n        }\r\n        return object;\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Creates a `baseEach` or `baseEachRight` function.\r\n     *\r\n     * @private\r\n     * @param {Function} eachFunc The function to iterate over a collection.\r\n     * @param {boolean} [fromRight] Specify iterating from right to left.\r\n     * @returns {Function} Returns the new base function.\r\n     */\r\n    function createBaseEach(eachFunc, fromRight) {\r\n      return function(collection, iteratee) {\r\n        var length = collection ? getLength(collection) : 0;\r\n        if (!isLength(length)) {\r\n          return eachFunc(collection, iteratee);\r\n        }\r\n        var index = fromRight ? length : -1,\r\n            iterable = toObject(collection);\r\n\r\n        while ((fromRight ? index-- : ++index < length)) {\r\n          if (iteratee(iterable[index], index, iterable) === false) {\r\n            break;\r\n          }\r\n        }\r\n        return collection;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a base function for `_.forIn` or `_.forInRight`.\r\n     *\r\n     * @private\r\n     * @param {boolean} [fromRight] Specify iterating from right to left.\r\n     * @returns {Function} Returns the new base function.\r\n     */\r\n    function createBaseFor(fromRight) {\r\n      return function(object, iteratee, keysFunc) {\r\n        var iterable = toObject(object),\r\n            props = keysFunc(object),\r\n            length = props.length,\r\n            index = fromRight ? length : -1;\r\n\r\n        while ((fromRight ? index-- : ++index < length)) {\r\n          var key = props[index];\r\n          if (iteratee(iterable[key], key, iterable) === false) {\r\n            break;\r\n          }\r\n        }\r\n        return object;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that wraps `func` and invokes it with the `this`\r\n     * binding of `thisArg`.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to bind.\r\n     * @param {*} [thisArg] The `this` binding of `func`.\r\n     * @returns {Function} Returns the new bound function.\r\n     */\r\n    function createBindWrapper(func, thisArg) {\r\n      var Ctor = createCtorWrapper(func);\r\n\r\n      function wrapper() {\r\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\r\n        return fn.apply(thisArg, arguments);\r\n      }\r\n      return wrapper;\r\n    }\r\n\r\n    /**\r\n     * Creates a `Set` cache object to optimize linear searches of large arrays.\r\n     *\r\n     * @private\r\n     * @param {Array} [values] The values to cache.\r\n     * @returns {null|Object} Returns the new cache object if `Set` is supported, else `null`.\r\n     */\r\n    function createCache(values) {\r\n      return (nativeCreate && Set) ? new SetCache(values) : null;\r\n    }\r\n\r\n    /**\r\n     * Creates a function that produces compound words out of the words in a\r\n     * given string.\r\n     *\r\n     * @private\r\n     * @param {Function} callback The function to combine each word.\r\n     * @returns {Function} Returns the new compounder function.\r\n     */\r\n    function createCompounder(callback) {\r\n      return function(string) {\r\n        var index = -1,\r\n            array = words(deburr(string)),\r\n            length = array.length,\r\n            result = '';\r\n\r\n        while (++index < length) {\r\n          result = callback(result, array[index], index);\r\n        }\r\n        return result;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that produces an instance of `Ctor` regardless of\r\n     * whether it was invoked as part of a `new` expression or by `call` or `apply`.\r\n     *\r\n     * @private\r\n     * @param {Function} Ctor The constructor to wrap.\r\n     * @returns {Function} Returns the new wrapped function.\r\n     */\r\n    function createCtorWrapper(Ctor) {\r\n      return function() {\r\n        // Use a `switch` statement to work with class constructors.\r\n        // See http://ecma-international.org/ecma-262/6.0/#sec-ecmascript-function-objects-call-thisargument-argumentslist\r\n        // for more details.\r\n        var args = arguments;\r\n        switch (args.length) {\r\n          case 0: return new Ctor;\r\n          case 1: return new Ctor(args[0]);\r\n          case 2: return new Ctor(args[0], args[1]);\r\n          case 3: return new Ctor(args[0], args[1], args[2]);\r\n          case 4: return new Ctor(args[0], args[1], args[2], args[3]);\r\n          case 5: return new Ctor(args[0], args[1], args[2], args[3], args[4]);\r\n          case 6: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5]);\r\n          case 7: return new Ctor(args[0], args[1], args[2], args[3], args[4], args[5], args[6]);\r\n        }\r\n        var thisBinding = baseCreate(Ctor.prototype),\r\n            result = Ctor.apply(thisBinding, args);\r\n\r\n        // Mimic the constructor's `return` behavior.\r\n        // See https://es5.github.io/#x13.2.2 for more details.\r\n        return isObject(result) ? result : thisBinding;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.curry` or `_.curryRight` function.\r\n     *\r\n     * @private\r\n     * @param {boolean} flag The curry bit flag.\r\n     * @returns {Function} Returns the new curry function.\r\n     */\r\n    function createCurry(flag) {\r\n      function curryFunc(func, arity, guard) {\r\n        if (guard && isIterateeCall(func, arity, guard)) {\r\n          arity = undefined;\r\n        }\r\n        var result = createWrapper(func, flag, undefined, undefined, undefined, undefined, undefined, arity);\r\n        result.placeholder = curryFunc.placeholder;\r\n        return result;\r\n      }\r\n      return curryFunc;\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.defaults` or `_.defaultsDeep` function.\r\n     *\r\n     * @private\r\n     * @param {Function} assigner The function to assign values.\r\n     * @param {Function} customizer The function to customize assigned values.\r\n     * @returns {Function} Returns the new defaults function.\r\n     */\r\n    function createDefaults(assigner, customizer) {\r\n      return restParam(function(args) {\r\n        var object = args[0];\r\n        if (object == null) {\r\n          return object;\r\n        }\r\n        args.push(customizer);\r\n        return assigner.apply(undefined, args);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.max` or `_.min` function.\r\n     *\r\n     * @private\r\n     * @param {Function} comparator The function used to compare values.\r\n     * @param {*} exValue The initial extremum value.\r\n     * @returns {Function} Returns the new extremum function.\r\n     */\r\n    function createExtremum(comparator, exValue) {\r\n      return function(collection, iteratee, thisArg) {\r\n        if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\r\n          iteratee = undefined;\r\n        }\r\n        iteratee = getCallback(iteratee, thisArg, 3);\r\n        if (iteratee.length == 1) {\r\n          collection = isArray(collection) ? collection : toIterable(collection);\r\n          var result = arrayExtremum(collection, iteratee, comparator, exValue);\r\n          if (!(collection.length && result === exValue)) {\r\n            return result;\r\n          }\r\n        }\r\n        return baseExtremum(collection, iteratee, comparator, exValue);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.find` or `_.findLast` function.\r\n     *\r\n     * @private\r\n     * @param {Function} eachFunc The function to iterate over a collection.\r\n     * @param {boolean} [fromRight] Specify iterating from right to left.\r\n     * @returns {Function} Returns the new find function.\r\n     */\r\n    function createFind(eachFunc, fromRight) {\r\n      return function(collection, predicate, thisArg) {\r\n        predicate = getCallback(predicate, thisArg, 3);\r\n        if (isArray(collection)) {\r\n          var index = baseFindIndex(collection, predicate, fromRight);\r\n          return index > -1 ? collection[index] : undefined;\r\n        }\r\n        return baseFind(collection, predicate, eachFunc);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.findIndex` or `_.findLastIndex` function.\r\n     *\r\n     * @private\r\n     * @param {boolean} [fromRight] Specify iterating from right to left.\r\n     * @returns {Function} Returns the new find function.\r\n     */\r\n    function createFindIndex(fromRight) {\r\n      return function(array, predicate, thisArg) {\r\n        if (!(array && array.length)) {\r\n          return -1;\r\n        }\r\n        predicate = getCallback(predicate, thisArg, 3);\r\n        return baseFindIndex(array, predicate, fromRight);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.findKey` or `_.findLastKey` function.\r\n     *\r\n     * @private\r\n     * @param {Function} objectFunc The function to iterate over an object.\r\n     * @returns {Function} Returns the new find function.\r\n     */\r\n    function createFindKey(objectFunc) {\r\n      return function(object, predicate, thisArg) {\r\n        predicate = getCallback(predicate, thisArg, 3);\r\n        return baseFind(object, predicate, objectFunc, true);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.flow` or `_.flowRight` function.\r\n     *\r\n     * @private\r\n     * @param {boolean} [fromRight] Specify iterating from right to left.\r\n     * @returns {Function} Returns the new flow function.\r\n     */\r\n    function createFlow(fromRight) {\r\n      return function() {\r\n        var wrapper,\r\n            length = arguments.length,\r\n            index = fromRight ? length : -1,\r\n            leftIndex = 0,\r\n            funcs = Array(length);\r\n\r\n        while ((fromRight ? index-- : ++index < length)) {\r\n          var func = funcs[leftIndex++] = arguments[index];\r\n          if (typeof func != 'function') {\r\n            throw new TypeError(FUNC_ERROR_TEXT);\r\n          }\r\n          if (!wrapper && LodashWrapper.prototype.thru && getFuncName(func) == 'wrapper') {\r\n            wrapper = new LodashWrapper([], true);\r\n          }\r\n        }\r\n        index = wrapper ? -1 : length;\r\n        while (++index < length) {\r\n          func = funcs[index];\r\n\r\n          var funcName = getFuncName(func),\r\n              data = funcName == 'wrapper' ? getData(func) : undefined;\r\n\r\n          if (data && isLaziable(data[0]) && data[1] == (ARY_FLAG | CURRY_FLAG | PARTIAL_FLAG | REARG_FLAG) && !data[4].length && data[9] == 1) {\r\n            wrapper = wrapper[getFuncName(data[0])].apply(wrapper, data[3]);\r\n          } else {\r\n            wrapper = (func.length == 1 && isLaziable(func)) ? wrapper[funcName]() : wrapper.thru(func);\r\n          }\r\n        }\r\n        return function() {\r\n          var args = arguments,\r\n              value = args[0];\r\n\r\n          if (wrapper && args.length == 1 && isArray(value) && value.length >= LARGE_ARRAY_SIZE) {\r\n            return wrapper.plant(value).value();\r\n          }\r\n          var index = 0,\r\n              result = length ? funcs[index].apply(this, args) : value;\r\n\r\n          while (++index < length) {\r\n            result = funcs[index].call(this, result);\r\n          }\r\n          return result;\r\n        };\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function for `_.forEach` or `_.forEachRight`.\r\n     *\r\n     * @private\r\n     * @param {Function} arrayFunc The function to iterate over an array.\r\n     * @param {Function} eachFunc The function to iterate over a collection.\r\n     * @returns {Function} Returns the new each function.\r\n     */\r\n    function createForEach(arrayFunc, eachFunc) {\r\n      return function(collection, iteratee, thisArg) {\r\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\r\n          ? arrayFunc(collection, iteratee)\r\n          : eachFunc(collection, bindCallback(iteratee, thisArg, 3));\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function for `_.forIn` or `_.forInRight`.\r\n     *\r\n     * @private\r\n     * @param {Function} objectFunc The function to iterate over an object.\r\n     * @returns {Function} Returns the new each function.\r\n     */\r\n    function createForIn(objectFunc) {\r\n      return function(object, iteratee, thisArg) {\r\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\r\n          iteratee = bindCallback(iteratee, thisArg, 3);\r\n        }\r\n        return objectFunc(object, iteratee, keysIn);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function for `_.forOwn` or `_.forOwnRight`.\r\n     *\r\n     * @private\r\n     * @param {Function} objectFunc The function to iterate over an object.\r\n     * @returns {Function} Returns the new each function.\r\n     */\r\n    function createForOwn(objectFunc) {\r\n      return function(object, iteratee, thisArg) {\r\n        if (typeof iteratee != 'function' || thisArg !== undefined) {\r\n          iteratee = bindCallback(iteratee, thisArg, 3);\r\n        }\r\n        return objectFunc(object, iteratee);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function for `_.mapKeys` or `_.mapValues`.\r\n     *\r\n     * @private\r\n     * @param {boolean} [isMapKeys] Specify mapping keys instead of values.\r\n     * @returns {Function} Returns the new map function.\r\n     */\r\n    function createObjectMapper(isMapKeys) {\r\n      return function(object, iteratee, thisArg) {\r\n        var result = {};\r\n        iteratee = getCallback(iteratee, thisArg, 3);\r\n\r\n        baseForOwn(object, function(value, key, object) {\r\n          var mapped = iteratee(value, key, object);\r\n          key = isMapKeys ? mapped : key;\r\n          value = isMapKeys ? value : mapped;\r\n          result[key] = value;\r\n        });\r\n        return result;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function for `_.padLeft` or `_.padRight`.\r\n     *\r\n     * @private\r\n     * @param {boolean} [fromRight] Specify padding from the right.\r\n     * @returns {Function} Returns the new pad function.\r\n     */\r\n    function createPadDir(fromRight) {\r\n      return function(string, length, chars) {\r\n        string = baseToString(string);\r\n        return (fromRight ? string : '') + createPadding(string, length, chars) + (fromRight ? '' : string);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.partial` or `_.partialRight` function.\r\n     *\r\n     * @private\r\n     * @param {boolean} flag The partial bit flag.\r\n     * @returns {Function} Returns the new partial function.\r\n     */\r\n    function createPartial(flag) {\r\n      var partialFunc = restParam(function(func, partials) {\r\n        var holders = replaceHolders(partials, partialFunc.placeholder);\r\n        return createWrapper(func, flag, undefined, partials, holders);\r\n      });\r\n      return partialFunc;\r\n    }\r\n\r\n    /**\r\n     * Creates a function for `_.reduce` or `_.reduceRight`.\r\n     *\r\n     * @private\r\n     * @param {Function} arrayFunc The function to iterate over an array.\r\n     * @param {Function} eachFunc The function to iterate over a collection.\r\n     * @returns {Function} Returns the new each function.\r\n     */\r\n    function createReduce(arrayFunc, eachFunc) {\r\n      return function(collection, iteratee, accumulator, thisArg) {\r\n        var initFromArray = arguments.length < 3;\r\n        return (typeof iteratee == 'function' && thisArg === undefined && isArray(collection))\r\n          ? arrayFunc(collection, iteratee, accumulator, initFromArray)\r\n          : baseReduce(collection, getCallback(iteratee, thisArg, 4), accumulator, initFromArray, eachFunc);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that wraps `func` and invokes it with optional `this`\r\n     * binding of, partial application, and currying.\r\n     *\r\n     * @private\r\n     * @param {Function|string} func The function or method name to reference.\r\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\r\n     * @param {*} [thisArg] The `this` binding of `func`.\r\n     * @param {Array} [partials] The arguments to prepend to those provided to the new function.\r\n     * @param {Array} [holders] The `partials` placeholder indexes.\r\n     * @param {Array} [partialsRight] The arguments to append to those provided to the new function.\r\n     * @param {Array} [holdersRight] The `partialsRight` placeholder indexes.\r\n     * @param {Array} [argPos] The argument positions of the new function.\r\n     * @param {number} [ary] The arity cap of `func`.\r\n     * @param {number} [arity] The arity of `func`.\r\n     * @returns {Function} Returns the new wrapped function.\r\n     */\r\n    function createHybridWrapper(func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity) {\r\n      var isAry = bitmask & ARY_FLAG,\r\n          isBind = bitmask & BIND_FLAG,\r\n          isBindKey = bitmask & BIND_KEY_FLAG,\r\n          isCurry = bitmask & CURRY_FLAG,\r\n          isCurryBound = bitmask & CURRY_BOUND_FLAG,\r\n          isCurryRight = bitmask & CURRY_RIGHT_FLAG,\r\n          Ctor = isBindKey ? undefined : createCtorWrapper(func);\r\n\r\n      function wrapper() {\r\n        // Avoid `arguments` object use disqualifying optimizations by\r\n        // converting it to an array before providing it to other functions.\r\n        var length = arguments.length,\r\n            index = length,\r\n            args = Array(length);\r\n\r\n        while (index--) {\r\n          args[index] = arguments[index];\r\n        }\r\n        if (partials) {\r\n          args = composeArgs(args, partials, holders);\r\n        }\r\n        if (partialsRight) {\r\n          args = composeArgsRight(args, partialsRight, holdersRight);\r\n        }\r\n        if (isCurry || isCurryRight) {\r\n          var placeholder = wrapper.placeholder,\r\n              argsHolders = replaceHolders(args, placeholder);\r\n\r\n          length -= argsHolders.length;\r\n          if (length < arity) {\r\n            var newArgPos = argPos ? arrayCopy(argPos) : undefined,\r\n                newArity = nativeMax(arity - length, 0),\r\n                newsHolders = isCurry ? argsHolders : undefined,\r\n                newHoldersRight = isCurry ? undefined : argsHolders,\r\n                newPartials = isCurry ? args : undefined,\r\n                newPartialsRight = isCurry ? undefined : args;\r\n\r\n            bitmask |= (isCurry ? PARTIAL_FLAG : PARTIAL_RIGHT_FLAG);\r\n            bitmask &= ~(isCurry ? PARTIAL_RIGHT_FLAG : PARTIAL_FLAG);\r\n\r\n            if (!isCurryBound) {\r\n              bitmask &= ~(BIND_FLAG | BIND_KEY_FLAG);\r\n            }\r\n            var newData = [func, bitmask, thisArg, newPartials, newsHolders, newPartialsRight, newHoldersRight, newArgPos, ary, newArity],\r\n                result = createHybridWrapper.apply(undefined, newData);\r\n\r\n            if (isLaziable(func)) {\r\n              setData(result, newData);\r\n            }\r\n            result.placeholder = placeholder;\r\n            return result;\r\n          }\r\n        }\r\n        var thisBinding = isBind ? thisArg : this,\r\n            fn = isBindKey ? thisBinding[func] : func;\r\n\r\n        if (argPos) {\r\n          args = reorder(args, argPos);\r\n        }\r\n        if (isAry && ary < args.length) {\r\n          args.length = ary;\r\n        }\r\n        if (this && this !== root && this instanceof wrapper) {\r\n          fn = Ctor || createCtorWrapper(func);\r\n        }\r\n        return fn.apply(thisBinding, args);\r\n      }\r\n      return wrapper;\r\n    }\r\n\r\n    /**\r\n     * Creates the padding required for `string` based on the given `length`.\r\n     * The `chars` string is truncated if the number of characters exceeds `length`.\r\n     *\r\n     * @private\r\n     * @param {string} string The string to create padding for.\r\n     * @param {number} [length=0] The padding length.\r\n     * @param {string} [chars=' '] The string used as padding.\r\n     * @returns {string} Returns the pad for `string`.\r\n     */\r\n    function createPadding(string, length, chars) {\r\n      var strLength = string.length;\r\n      length = +length;\r\n\r\n      if (strLength >= length || !nativeIsFinite(length)) {\r\n        return '';\r\n      }\r\n      var padLength = length - strLength;\r\n      chars = chars == null ? ' ' : (chars + '');\r\n      return repeat(chars, nativeCeil(padLength / chars.length)).slice(0, padLength);\r\n    }\r\n\r\n    /**\r\n     * Creates a function that wraps `func` and invokes it with the optional `this`\r\n     * binding of `thisArg` and the `partials` prepended to those provided to\r\n     * the wrapper.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to partially apply arguments to.\r\n     * @param {number} bitmask The bitmask of flags. See `createWrapper` for more details.\r\n     * @param {*} thisArg The `this` binding of `func`.\r\n     * @param {Array} partials The arguments to prepend to those provided to the new function.\r\n     * @returns {Function} Returns the new bound function.\r\n     */\r\n    function createPartialWrapper(func, bitmask, thisArg, partials) {\r\n      var isBind = bitmask & BIND_FLAG,\r\n          Ctor = createCtorWrapper(func);\r\n\r\n      function wrapper() {\r\n        // Avoid `arguments` object use disqualifying optimizations by\r\n        // converting it to an array before providing it `func`.\r\n        var argsIndex = -1,\r\n            argsLength = arguments.length,\r\n            leftIndex = -1,\r\n            leftLength = partials.length,\r\n            args = Array(leftLength + argsLength);\r\n\r\n        while (++leftIndex < leftLength) {\r\n          args[leftIndex] = partials[leftIndex];\r\n        }\r\n        while (argsLength--) {\r\n          args[leftIndex++] = arguments[++argsIndex];\r\n        }\r\n        var fn = (this && this !== root && this instanceof wrapper) ? Ctor : func;\r\n        return fn.apply(isBind ? thisArg : this, args);\r\n      }\r\n      return wrapper;\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.ceil`, `_.floor`, or `_.round` function.\r\n     *\r\n     * @private\r\n     * @param {string} methodName The name of the `Math` method to use when rounding.\r\n     * @returns {Function} Returns the new round function.\r\n     */\r\n    function createRound(methodName) {\r\n      var func = Math[methodName];\r\n      return function(number, precision) {\r\n        precision = precision === undefined ? 0 : (+precision || 0);\r\n        if (precision) {\r\n          precision = pow(10, precision);\r\n          return func(number * precision) / precision;\r\n        }\r\n        return func(number);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a `_.sortedIndex` or `_.sortedLastIndex` function.\r\n     *\r\n     * @private\r\n     * @param {boolean} [retHighest] Specify returning the highest qualified index.\r\n     * @returns {Function} Returns the new index function.\r\n     */\r\n    function createSortedIndex(retHighest) {\r\n      return function(array, value, iteratee, thisArg) {\r\n        var callback = getCallback(iteratee);\r\n        return (iteratee == null && callback === baseCallback)\r\n          ? binaryIndex(array, value, retHighest)\r\n          : binaryIndexBy(array, value, callback(iteratee, thisArg, 1), retHighest);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that either curries or invokes `func` with optional\r\n     * `this` binding and partially applied arguments.\r\n     *\r\n     * @private\r\n     * @param {Function|string} func The function or method name to reference.\r\n     * @param {number} bitmask The bitmask of flags.\r\n     *  The bitmask may be composed of the following flags:\r\n     *     1 - `_.bind`\r\n     *     2 - `_.bindKey`\r\n     *     4 - `_.curry` or `_.curryRight` of a bound function\r\n     *     8 - `_.curry`\r\n     *    16 - `_.curryRight`\r\n     *    32 - `_.partial`\r\n     *    64 - `_.partialRight`\r\n     *   128 - `_.rearg`\r\n     *   256 - `_.ary`\r\n     * @param {*} [thisArg] The `this` binding of `func`.\r\n     * @param {Array} [partials] The arguments to be partially applied.\r\n     * @param {Array} [holders] The `partials` placeholder indexes.\r\n     * @param {Array} [argPos] The argument positions of the new function.\r\n     * @param {number} [ary] The arity cap of `func`.\r\n     * @param {number} [arity] The arity of `func`.\r\n     * @returns {Function} Returns the new wrapped function.\r\n     */\r\n    function createWrapper(func, bitmask, thisArg, partials, holders, argPos, ary, arity) {\r\n      var isBindKey = bitmask & BIND_KEY_FLAG;\r\n      if (!isBindKey && typeof func != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      var length = partials ? partials.length : 0;\r\n      if (!length) {\r\n        bitmask &= ~(PARTIAL_FLAG | PARTIAL_RIGHT_FLAG);\r\n        partials = holders = undefined;\r\n      }\r\n      length -= (holders ? holders.length : 0);\r\n      if (bitmask & PARTIAL_RIGHT_FLAG) {\r\n        var partialsRight = partials,\r\n            holdersRight = holders;\r\n\r\n        partials = holders = undefined;\r\n      }\r\n      var data = isBindKey ? undefined : getData(func),\r\n          newData = [func, bitmask, thisArg, partials, holders, partialsRight, holdersRight, argPos, ary, arity];\r\n\r\n      if (data) {\r\n        mergeData(newData, data);\r\n        bitmask = newData[1];\r\n        arity = newData[9];\r\n      }\r\n      newData[9] = arity == null\r\n        ? (isBindKey ? 0 : func.length)\r\n        : (nativeMax(arity - length, 0) || 0);\r\n\r\n      if (bitmask == BIND_FLAG) {\r\n        var result = createBindWrapper(newData[0], newData[2]);\r\n      } else if ((bitmask == PARTIAL_FLAG || bitmask == (BIND_FLAG | PARTIAL_FLAG)) && !newData[4].length) {\r\n        result = createPartialWrapper.apply(undefined, newData);\r\n      } else {\r\n        result = createHybridWrapper.apply(undefined, newData);\r\n      }\r\n      var setter = data ? baseSetData : setData;\r\n      return setter(result, newData);\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseIsEqualDeep` for arrays with support for\r\n     * partial deep comparisons.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to compare.\r\n     * @param {Array} other The other array to compare.\r\n     * @param {Function} equalFunc The function to determine equivalents of values.\r\n     * @param {Function} [customizer] The function to customize comparing arrays.\r\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\r\n     * @param {Array} [stackA] Tracks traversed `value` objects.\r\n     * @param {Array} [stackB] Tracks traversed `other` objects.\r\n     * @returns {boolean} Returns `true` if the arrays are equivalent, else `false`.\r\n     */\r\n    function equalArrays(array, other, equalFunc, customizer, isLoose, stackA, stackB) {\r\n      var index = -1,\r\n          arrLength = array.length,\r\n          othLength = other.length;\r\n\r\n      if (arrLength != othLength && !(isLoose && othLength > arrLength)) {\r\n        return false;\r\n      }\r\n      // Ignore non-index properties.\r\n      while (++index < arrLength) {\r\n        var arrValue = array[index],\r\n            othValue = other[index],\r\n            result = customizer ? customizer(isLoose ? othValue : arrValue, isLoose ? arrValue : othValue, index) : undefined;\r\n\r\n        if (result !== undefined) {\r\n          if (result) {\r\n            continue;\r\n          }\r\n          return false;\r\n        }\r\n        // Recursively compare arrays (susceptible to call stack limits).\r\n        if (isLoose) {\r\n          if (!arraySome(other, function(othValue) {\r\n                return arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB);\r\n              })) {\r\n            return false;\r\n          }\r\n        } else if (!(arrValue === othValue || equalFunc(arrValue, othValue, customizer, isLoose, stackA, stackB))) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseIsEqualDeep` for comparing objects of\r\n     * the same `toStringTag`.\r\n     *\r\n     * **Note:** This function only supports comparing values with tags of\r\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to compare.\r\n     * @param {Object} other The other object to compare.\r\n     * @param {string} tag The `toStringTag` of the objects to compare.\r\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n     */\r\n    function equalByTag(object, other, tag) {\r\n      switch (tag) {\r\n        case boolTag:\r\n        case dateTag:\r\n          // Coerce dates and booleans to numbers, dates to milliseconds and booleans\r\n          // to `1` or `0` treating invalid dates coerced to `NaN` as not equal.\r\n          return +object == +other;\r\n\r\n        case errorTag:\r\n          return object.name == other.name && object.message == other.message;\r\n\r\n        case numberTag:\r\n          // Treat `NaN` vs. `NaN` as equal.\r\n          return (object != +object)\r\n            ? other != +other\r\n            : object == +other;\r\n\r\n        case regexpTag:\r\n        case stringTag:\r\n          // Coerce regexes to strings and treat strings primitives and string\r\n          // objects as equal. See https://es5.github.io/#x15.10.6.4 for more details.\r\n          return object == (other + '');\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `baseIsEqualDeep` for objects with support for\r\n     * partial deep comparisons.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to compare.\r\n     * @param {Object} other The other object to compare.\r\n     * @param {Function} equalFunc The function to determine equivalents of values.\r\n     * @param {Function} [customizer] The function to customize comparing values.\r\n     * @param {boolean} [isLoose] Specify performing partial comparisons.\r\n     * @param {Array} [stackA] Tracks traversed `value` objects.\r\n     * @param {Array} [stackB] Tracks traversed `other` objects.\r\n     * @returns {boolean} Returns `true` if the objects are equivalent, else `false`.\r\n     */\r\n    function equalObjects(object, other, equalFunc, customizer, isLoose, stackA, stackB) {\r\n      var objProps = keys(object),\r\n          objLength = objProps.length,\r\n          othProps = keys(other),\r\n          othLength = othProps.length;\r\n\r\n      if (objLength != othLength && !isLoose) {\r\n        return false;\r\n      }\r\n      var index = objLength;\r\n      while (index--) {\r\n        var key = objProps[index];\r\n        if (!(isLoose ? key in other : hasOwnProperty.call(other, key))) {\r\n          return false;\r\n        }\r\n      }\r\n      var skipCtor = isLoose;\r\n      while (++index < objLength) {\r\n        key = objProps[index];\r\n        var objValue = object[key],\r\n            othValue = other[key],\r\n            result = customizer ? customizer(isLoose ? othValue : objValue, isLoose? objValue : othValue, key) : undefined;\r\n\r\n        // Recursively compare objects (susceptible to call stack limits).\r\n        if (!(result === undefined ? equalFunc(objValue, othValue, customizer, isLoose, stackA, stackB) : result)) {\r\n          return false;\r\n        }\r\n        skipCtor || (skipCtor = key == 'constructor');\r\n      }\r\n      if (!skipCtor) {\r\n        var objCtor = object.constructor,\r\n            othCtor = other.constructor;\r\n\r\n        // Non `Object` object instances with different constructors are not equal.\r\n        if (objCtor != othCtor &&\r\n            ('constructor' in object && 'constructor' in other) &&\r\n            !(typeof objCtor == 'function' && objCtor instanceof objCtor &&\r\n              typeof othCtor == 'function' && othCtor instanceof othCtor)) {\r\n          return false;\r\n        }\r\n      }\r\n      return true;\r\n    }\r\n\r\n    /**\r\n     * Gets the appropriate \"callback\" function. If the `_.callback` method is\r\n     * customized this function returns the custom method, otherwise it returns\r\n     * the `baseCallback` function. If arguments are provided the chosen function\r\n     * is invoked with them and its result is returned.\r\n     *\r\n     * @private\r\n     * @returns {Function} Returns the chosen function or its result.\r\n     */\r\n    function getCallback(func, thisArg, argCount) {\r\n      var result = lodash.callback || callback;\r\n      result = result === callback ? baseCallback : result;\r\n      return argCount ? result(func, thisArg, argCount) : result;\r\n    }\r\n\r\n    /**\r\n     * Gets metadata for `func`.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to query.\r\n     * @returns {*} Returns the metadata for `func`.\r\n     */\r\n    var getData = !metaMap ? noop : function(func) {\r\n      return metaMap.get(func);\r\n    };\r\n\r\n    /**\r\n     * Gets the name of `func`.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to query.\r\n     * @returns {string} Returns the function name.\r\n     */\r\n    function getFuncName(func) {\r\n      var result = (func.name + ''),\r\n          array = realNames[result],\r\n          length = array ? array.length : 0;\r\n\r\n      while (length--) {\r\n        var data = array[length],\r\n            otherFunc = data.func;\r\n        if (otherFunc == null || otherFunc == func) {\r\n          return data.name;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Gets the appropriate \"indexOf\" function. If the `_.indexOf` method is\r\n     * customized this function returns the custom method, otherwise it returns\r\n     * the `baseIndexOf` function. If arguments are provided the chosen function\r\n     * is invoked with them and its result is returned.\r\n     *\r\n     * @private\r\n     * @returns {Function|number} Returns the chosen function or its result.\r\n     */\r\n    function getIndexOf(collection, target, fromIndex) {\r\n      var result = lodash.indexOf || indexOf;\r\n      result = result === indexOf ? baseIndexOf : result;\r\n      return collection ? result(collection, target, fromIndex) : result;\r\n    }\r\n\r\n    /**\r\n     * Gets the \"length\" property value of `object`.\r\n     *\r\n     * **Note:** This function is used to avoid a [JIT bug](https://bugs.webkit.org/show_bug.cgi?id=142792)\r\n     * that affects Safari on at least iOS 8.1-8.3 ARM64.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @returns {*} Returns the \"length\" value.\r\n     */\r\n    var getLength = baseProperty('length');\r\n\r\n    /**\r\n     * Gets the propery names, values, and compare flags of `object`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the match data of `object`.\r\n     */\r\n    function getMatchData(object) {\r\n      var result = pairs(object),\r\n          length = result.length;\r\n\r\n      while (length--) {\r\n        result[length][2] = isStrictComparable(result[length][1]);\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Gets the native function at `key` of `object`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @param {string} key The key of the method to get.\r\n     * @returns {*} Returns the function if it's native, else `undefined`.\r\n     */\r\n    function getNative(object, key) {\r\n      var value = object == null ? undefined : object[key];\r\n      return isNative(value) ? value : undefined;\r\n    }\r\n\r\n    /**\r\n     * Gets the view, applying any `transforms` to the `start` and `end` positions.\r\n     *\r\n     * @private\r\n     * @param {number} start The start of the view.\r\n     * @param {number} end The end of the view.\r\n     * @param {Array} transforms The transformations to apply to the view.\r\n     * @returns {Object} Returns an object containing the `start` and `end`\r\n     *  positions of the view.\r\n     */\r\n    function getView(start, end, transforms) {\r\n      var index = -1,\r\n          length = transforms.length;\r\n\r\n      while (++index < length) {\r\n        var data = transforms[index],\r\n            size = data.size;\r\n\r\n        switch (data.type) {\r\n          case 'drop':      start += size; break;\r\n          case 'dropRight': end -= size; break;\r\n          case 'take':      end = nativeMin(end, start + size); break;\r\n          case 'takeRight': start = nativeMax(start, end - size); break;\r\n        }\r\n      }\r\n      return { 'start': start, 'end': end };\r\n    }\r\n\r\n    /**\r\n     * Initializes an array clone.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to clone.\r\n     * @returns {Array} Returns the initialized clone.\r\n     */\r\n    function initCloneArray(array) {\r\n      var length = array.length,\r\n          result = new array.constructor(length);\r\n\r\n      // Add array properties assigned by `RegExp#exec`.\r\n      if (length && typeof array[0] == 'string' && hasOwnProperty.call(array, 'index')) {\r\n        result.index = array.index;\r\n        result.input = array.input;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Initializes an object clone.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to clone.\r\n     * @returns {Object} Returns the initialized clone.\r\n     */\r\n    function initCloneObject(object) {\r\n      var Ctor = object.constructor;\r\n      if (!(typeof Ctor == 'function' && Ctor instanceof Ctor)) {\r\n        Ctor = Object;\r\n      }\r\n      return new Ctor;\r\n    }\r\n\r\n    /**\r\n     * Initializes an object clone based on its `toStringTag`.\r\n     *\r\n     * **Note:** This function only supports cloning values with tags of\r\n     * `Boolean`, `Date`, `Error`, `Number`, `RegExp`, or `String`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to clone.\r\n     * @param {string} tag The `toStringTag` of the object to clone.\r\n     * @param {boolean} [isDeep] Specify a deep clone.\r\n     * @returns {Object} Returns the initialized clone.\r\n     */\r\n    function initCloneByTag(object, tag, isDeep) {\r\n      var Ctor = object.constructor;\r\n      switch (tag) {\r\n        case arrayBufferTag:\r\n          return bufferClone(object);\r\n\r\n        case boolTag:\r\n        case dateTag:\r\n          return new Ctor(+object);\r\n\r\n        case float32Tag: case float64Tag:\r\n        case int8Tag: case int16Tag: case int32Tag:\r\n        case uint8Tag: case uint8ClampedTag: case uint16Tag: case uint32Tag:\r\n          var buffer = object.buffer;\r\n          return new Ctor(isDeep ? bufferClone(buffer) : buffer, object.byteOffset, object.length);\r\n\r\n        case numberTag:\r\n        case stringTag:\r\n          return new Ctor(object);\r\n\r\n        case regexpTag:\r\n          var result = new Ctor(object.source, reFlags.exec(object));\r\n          result.lastIndex = object.lastIndex;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Invokes the method at `path` on `object`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @param {Array|string} path The path of the method to invoke.\r\n     * @param {Array} args The arguments to invoke the method with.\r\n     * @returns {*} Returns the result of the invoked method.\r\n     */\r\n    function invokePath(object, path, args) {\r\n      if (object != null && !isKey(path, object)) {\r\n        path = toPath(path);\r\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n        path = last(path);\r\n      }\r\n      var func = object == null ? object : object[path];\r\n      return func == null ? undefined : func.apply(object, args);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is array-like.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is array-like, else `false`.\r\n     */\r\n    function isArrayLike(value) {\r\n      return value != null && isLength(getLength(value));\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a valid array-like index.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to check.\r\n     * @param {number} [length=MAX_SAFE_INTEGER] The upper bounds of a valid index.\r\n     * @returns {boolean} Returns `true` if `value` is a valid index, else `false`.\r\n     */\r\n    function isIndex(value, length) {\r\n      value = (typeof value == 'number' || reIsUint.test(value)) ? +value : -1;\r\n      length = length == null ? MAX_SAFE_INTEGER : length;\r\n      return value > -1 && value % 1 == 0 && value < length;\r\n    }\r\n\r\n    /**\r\n     * Checks if the provided arguments are from an iteratee call.\r\n     *\r\n     * @private\r\n     * @param {*} value The potential iteratee value argument.\r\n     * @param {*} index The potential iteratee index or key argument.\r\n     * @param {*} object The potential iteratee object argument.\r\n     * @returns {boolean} Returns `true` if the arguments are from an iteratee call, else `false`.\r\n     */\r\n    function isIterateeCall(value, index, object) {\r\n      if (!isObject(object)) {\r\n        return false;\r\n      }\r\n      var type = typeof index;\r\n      if (type == 'number'\r\n          ? (isArrayLike(object) && isIndex(index, object.length))\r\n          : (type == 'string' && index in object)) {\r\n        var other = object[index];\r\n        return value === value ? (value === other) : (other !== other);\r\n      }\r\n      return false;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a property name and not a property path.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to check.\r\n     * @param {Object} [object] The object to query keys on.\r\n     * @returns {boolean} Returns `true` if `value` is a property name, else `false`.\r\n     */\r\n    function isKey(value, object) {\r\n      var type = typeof value;\r\n      if ((type == 'string' && reIsPlainProp.test(value)) || type == 'number') {\r\n        return true;\r\n      }\r\n      if (isArray(value)) {\r\n        return false;\r\n      }\r\n      var result = !reIsDeepProp.test(value);\r\n      return result || (object != null && value in toObject(object));\r\n    }\r\n\r\n    /**\r\n     * Checks if `func` has a lazy counterpart.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to check.\r\n     * @returns {boolean} Returns `true` if `func` has a lazy counterpart, else `false`.\r\n     */\r\n    function isLaziable(func) {\r\n      var funcName = getFuncName(func),\r\n          other = lodash[funcName];\r\n\r\n      if (typeof other != 'function' || !(funcName in LazyWrapper.prototype)) {\r\n        return false;\r\n      }\r\n      if (func === other) {\r\n        return true;\r\n      }\r\n      var data = getData(other);\r\n      return !!data && func === data[0];\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a valid array-like length.\r\n     *\r\n     * **Note:** This function is based on [`ToLength`](http://ecma-international.org/ecma-262/6.0/#sec-tolength).\r\n     *\r\n     * @private\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is a valid length, else `false`.\r\n     */\r\n    function isLength(value) {\r\n      return typeof value == 'number' && value > -1 && value % 1 == 0 && value <= MAX_SAFE_INTEGER;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is suitable for strict equality comparisons, i.e. `===`.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` if suitable for strict\r\n     *  equality comparisons, else `false`.\r\n     */\r\n    function isStrictComparable(value) {\r\n      return value === value && !isObject(value);\r\n    }\r\n\r\n    /**\r\n     * Merges the function metadata of `source` into `data`.\r\n     *\r\n     * Merging metadata reduces the number of wrappers required to invoke a function.\r\n     * This is possible because methods like `_.bind`, `_.curry`, and `_.partial`\r\n     * may be applied regardless of execution order. Methods like `_.ary` and `_.rearg`\r\n     * augment function arguments, making the order in which they are executed important,\r\n     * preventing the merging of metadata. However, we make an exception for a safe\r\n     * common case where curried functions have `_.ary` and or `_.rearg` applied.\r\n     *\r\n     * @private\r\n     * @param {Array} data The destination metadata.\r\n     * @param {Array} source The source metadata.\r\n     * @returns {Array} Returns `data`.\r\n     */\r\n    function mergeData(data, source) {\r\n      var bitmask = data[1],\r\n          srcBitmask = source[1],\r\n          newBitmask = bitmask | srcBitmask,\r\n          isCommon = newBitmask < ARY_FLAG;\r\n\r\n      var isCombo =\r\n        (srcBitmask == ARY_FLAG && bitmask == CURRY_FLAG) ||\r\n        (srcBitmask == ARY_FLAG && bitmask == REARG_FLAG && data[7].length <= source[8]) ||\r\n        (srcBitmask == (ARY_FLAG | REARG_FLAG) && bitmask == CURRY_FLAG);\r\n\r\n      // Exit early if metadata can't be merged.\r\n      if (!(isCommon || isCombo)) {\r\n        return data;\r\n      }\r\n      // Use source `thisArg` if available.\r\n      if (srcBitmask & BIND_FLAG) {\r\n        data[2] = source[2];\r\n        // Set when currying a bound function.\r\n        newBitmask |= (bitmask & BIND_FLAG) ? 0 : CURRY_BOUND_FLAG;\r\n      }\r\n      // Compose partial arguments.\r\n      var value = source[3];\r\n      if (value) {\r\n        var partials = data[3];\r\n        data[3] = partials ? composeArgs(partials, value, source[4]) : arrayCopy(value);\r\n        data[4] = partials ? replaceHolders(data[3], PLACEHOLDER) : arrayCopy(source[4]);\r\n      }\r\n      // Compose partial right arguments.\r\n      value = source[5];\r\n      if (value) {\r\n        partials = data[5];\r\n        data[5] = partials ? composeArgsRight(partials, value, source[6]) : arrayCopy(value);\r\n        data[6] = partials ? replaceHolders(data[5], PLACEHOLDER) : arrayCopy(source[6]);\r\n      }\r\n      // Use source `argPos` if available.\r\n      value = source[7];\r\n      if (value) {\r\n        data[7] = arrayCopy(value);\r\n      }\r\n      // Use source `ary` if it's smaller.\r\n      if (srcBitmask & ARY_FLAG) {\r\n        data[8] = data[8] == null ? source[8] : nativeMin(data[8], source[8]);\r\n      }\r\n      // Use source `arity` if one is not provided.\r\n      if (data[9] == null) {\r\n        data[9] = source[9];\r\n      }\r\n      // Use source `func` and merge bitmasks.\r\n      data[0] = source[0];\r\n      data[1] = newBitmask;\r\n\r\n      return data;\r\n    }\r\n\r\n    /**\r\n     * Used by `_.defaultsDeep` to customize its `_.merge` use.\r\n     *\r\n     * @private\r\n     * @param {*} objectValue The destination object property value.\r\n     * @param {*} sourceValue The source object property value.\r\n     * @returns {*} Returns the value to assign to the destination object.\r\n     */\r\n    function mergeDefaults(objectValue, sourceValue) {\r\n      return objectValue === undefined ? sourceValue : merge(objectValue, sourceValue, mergeDefaults);\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.pick` which picks `object` properties specified\r\n     * by `props`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The source object.\r\n     * @param {string[]} props The property names to pick.\r\n     * @returns {Object} Returns the new object.\r\n     */\r\n    function pickByArray(object, props) {\r\n      object = toObject(object);\r\n\r\n      var index = -1,\r\n          length = props.length,\r\n          result = {};\r\n\r\n      while (++index < length) {\r\n        var key = props[index];\r\n        if (key in object) {\r\n          result[key] = object[key];\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * A specialized version of `_.pick` which picks `object` properties `predicate`\r\n     * returns truthy for.\r\n     *\r\n     * @private\r\n     * @param {Object} object The source object.\r\n     * @param {Function} predicate The function invoked per iteration.\r\n     * @returns {Object} Returns the new object.\r\n     */\r\n    function pickByCallback(object, predicate) {\r\n      var result = {};\r\n      baseForIn(object, function(value, key, object) {\r\n        if (predicate(value, key, object)) {\r\n          result[key] = value;\r\n        }\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Reorder `array` according to the specified indexes where the element at\r\n     * the first index is assigned as the first element, the element at\r\n     * the second index is assigned as the second element, and so on.\r\n     *\r\n     * @private\r\n     * @param {Array} array The array to reorder.\r\n     * @param {Array} indexes The arranged array indexes.\r\n     * @returns {Array} Returns `array`.\r\n     */\r\n    function reorder(array, indexes) {\r\n      var arrLength = array.length,\r\n          length = nativeMin(indexes.length, arrLength),\r\n          oldArray = arrayCopy(array);\r\n\r\n      while (length--) {\r\n        var index = indexes[length];\r\n        array[length] = isIndex(index, arrLength) ? oldArray[index] : undefined;\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * Sets metadata for `func`.\r\n     *\r\n     * **Note:** If this function becomes hot, i.e. is invoked a lot in a short\r\n     * period of time, it will trip its breaker and transition to an identity function\r\n     * to avoid garbage collection pauses in V8. See [V8 issue 2070](https://code.google.com/p/v8/issues/detail?id=2070)\r\n     * for more details.\r\n     *\r\n     * @private\r\n     * @param {Function} func The function to associate metadata with.\r\n     * @param {*} data The metadata.\r\n     * @returns {Function} Returns `func`.\r\n     */\r\n    var setData = (function() {\r\n      var count = 0,\r\n          lastCalled = 0;\r\n\r\n      return function(key, value) {\r\n        var stamp = now(),\r\n            remaining = HOT_SPAN - (stamp - lastCalled);\r\n\r\n        lastCalled = stamp;\r\n        if (remaining > 0) {\r\n          if (++count >= HOT_COUNT) {\r\n            return key;\r\n          }\r\n        } else {\r\n          count = 0;\r\n        }\r\n        return baseSetData(key, value);\r\n      };\r\n    }());\r\n\r\n    /**\r\n     * A fallback implementation of `Object.keys` which creates an array of the\r\n     * own enumerable property names of `object`.\r\n     *\r\n     * @private\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the array of property names.\r\n     */\r\n    function shimKeys(object) {\r\n      var props = keysIn(object),\r\n          propsLength = props.length,\r\n          length = propsLength && object.length;\r\n\r\n      var allowIndexes = !!length && isLength(length) &&\r\n        (isArray(object) || isArguments(object));\r\n\r\n      var index = -1,\r\n          result = [];\r\n\r\n      while (++index < propsLength) {\r\n        var key = props[index];\r\n        if ((allowIndexes && isIndex(key, length)) || hasOwnProperty.call(object, key)) {\r\n          result.push(key);\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Converts `value` to an array-like object if it's not one.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to process.\r\n     * @returns {Array|Object} Returns the array-like object.\r\n     */\r\n    function toIterable(value) {\r\n      if (value == null) {\r\n        return [];\r\n      }\r\n      if (!isArrayLike(value)) {\r\n        return values(value);\r\n      }\r\n      return isObject(value) ? value : Object(value);\r\n    }\r\n\r\n    /**\r\n     * Converts `value` to an object if it's not one.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to process.\r\n     * @returns {Object} Returns the object.\r\n     */\r\n    function toObject(value) {\r\n      return isObject(value) ? value : Object(value);\r\n    }\r\n\r\n    /**\r\n     * Converts `value` to property path array if it's not one.\r\n     *\r\n     * @private\r\n     * @param {*} value The value to process.\r\n     * @returns {Array} Returns the property path array.\r\n     */\r\n    function toPath(value) {\r\n      if (isArray(value)) {\r\n        return value;\r\n      }\r\n      var result = [];\r\n      baseToString(value).replace(rePropName, function(match, number, quote, string) {\r\n        result.push(quote ? string.replace(reEscapeChar, '$1') : (number || match));\r\n      });\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates a clone of `wrapper`.\r\n     *\r\n     * @private\r\n     * @param {Object} wrapper The wrapper to clone.\r\n     * @returns {Object} Returns the cloned wrapper.\r\n     */\r\n    function wrapperClone(wrapper) {\r\n      return wrapper instanceof LazyWrapper\r\n        ? wrapper.clone()\r\n        : new LodashWrapper(wrapper.__wrapped__, wrapper.__chain__, arrayCopy(wrapper.__actions__));\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates an array of elements split into groups the length of `size`.\r\n     * If `collection` can't be split evenly, the final chunk will be the remaining\r\n     * elements.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to process.\r\n     * @param {number} [size=1] The length of each chunk.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the new array containing chunks.\r\n     * @example\r\n     *\r\n     * _.chunk(['a', 'b', 'c', 'd'], 2);\r\n     * // => [['a', 'b'], ['c', 'd']]\r\n     *\r\n     * _.chunk(['a', 'b', 'c', 'd'], 3);\r\n     * // => [['a', 'b', 'c'], ['d']]\r\n     */\r\n    function chunk(array, size, guard) {\r\n      if (guard ? isIterateeCall(array, size, guard) : size == null) {\r\n        size = 1;\r\n      } else {\r\n        size = nativeMax(nativeFloor(size) || 1, 1);\r\n      }\r\n      var index = 0,\r\n          length = array ? array.length : 0,\r\n          resIndex = -1,\r\n          result = Array(nativeCeil(length / size));\r\n\r\n      while (index < length) {\r\n        result[++resIndex] = baseSlice(array, index, (index += size));\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates an array with all falsey values removed. The values `false`, `null`,\r\n     * `0`, `\"\"`, `undefined`, and `NaN` are falsey.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to compact.\r\n     * @returns {Array} Returns the new array of filtered values.\r\n     * @example\r\n     *\r\n     * _.compact([0, 1, false, 2, '', 3]);\r\n     * // => [1, 2, 3]\r\n     */\r\n    function compact(array) {\r\n      var index = -1,\r\n          length = array ? array.length : 0,\r\n          resIndex = -1,\r\n          result = [];\r\n\r\n      while (++index < length) {\r\n        var value = array[index];\r\n        if (value) {\r\n          result[++resIndex] = value;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates an array of unique `array` values not included in the other\r\n     * provided arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to inspect.\r\n     * @param {...Array} [values] The arrays of values to exclude.\r\n     * @returns {Array} Returns the new array of filtered values.\r\n     * @example\r\n     *\r\n     * _.difference([1, 2, 3], [4, 2]);\r\n     * // => [1, 3]\r\n     */\r\n    var difference = restParam(function(array, values) {\r\n      return (isObjectLike(array) && isArrayLike(array))\r\n        ? baseDifference(array, baseFlatten(values, false, true))\r\n        : [];\r\n    });\r\n\r\n    /**\r\n     * Creates a slice of `array` with `n` elements dropped from the beginning.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {number} [n=1] The number of elements to drop.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.drop([1, 2, 3]);\r\n     * // => [2, 3]\r\n     *\r\n     * _.drop([1, 2, 3], 2);\r\n     * // => [3]\r\n     *\r\n     * _.drop([1, 2, 3], 5);\r\n     * // => []\r\n     *\r\n     * _.drop([1, 2, 3], 0);\r\n     * // => [1, 2, 3]\r\n     */\r\n    function drop(array, n, guard) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\r\n        n = 1;\r\n      }\r\n      return baseSlice(array, n < 0 ? 0 : n);\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` with `n` elements dropped from the end.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {number} [n=1] The number of elements to drop.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.dropRight([1, 2, 3]);\r\n     * // => [1, 2]\r\n     *\r\n     * _.dropRight([1, 2, 3], 2);\r\n     * // => [1]\r\n     *\r\n     * _.dropRight([1, 2, 3], 5);\r\n     * // => []\r\n     *\r\n     * _.dropRight([1, 2, 3], 0);\r\n     * // => [1, 2, 3]\r\n     */\r\n    function dropRight(array, n, guard) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\r\n        n = 1;\r\n      }\r\n      n = length - (+n || 0);\r\n      return baseSlice(array, 0, n < 0 ? 0 : n);\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` excluding elements dropped from the end.\r\n     * Elements are dropped until `predicate` returns falsey. The predicate is\r\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that match the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.dropRightWhile([1, 2, 3], function(n) {\r\n     *   return n > 1;\r\n     * });\r\n     * // => [1]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'active': true },\r\n     *   { 'user': 'fred',    'active': false },\r\n     *   { 'user': 'pebbles', 'active': false }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.pluck(_.dropRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\r\n     * // => ['barney', 'fred']\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.pluck(_.dropRightWhile(users, 'active', false), 'user');\r\n     * // => ['barney']\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.dropRightWhile(users, 'active'), 'user');\r\n     * // => ['barney', 'fred', 'pebbles']\r\n     */\r\n    function dropRightWhile(array, predicate, thisArg) {\r\n      return (array && array.length)\r\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true, true)\r\n        : [];\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` excluding elements dropped from the beginning.\r\n     * Elements are dropped until `predicate` returns falsey. The predicate is\r\n     * bound to `thisArg` and invoked with three arguments: (value, index, array).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.dropWhile([1, 2, 3], function(n) {\r\n     *   return n < 3;\r\n     * });\r\n     * // => [3]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'active': false },\r\n     *   { 'user': 'fred',    'active': false },\r\n     *   { 'user': 'pebbles', 'active': true }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.pluck(_.dropWhile(users, { 'user': 'barney', 'active': false }), 'user');\r\n     * // => ['fred', 'pebbles']\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.pluck(_.dropWhile(users, 'active', false), 'user');\r\n     * // => ['pebbles']\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.dropWhile(users, 'active'), 'user');\r\n     * // => ['barney', 'fred', 'pebbles']\r\n     */\r\n    function dropWhile(array, predicate, thisArg) {\r\n      return (array && array.length)\r\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), true)\r\n        : [];\r\n    }\r\n\r\n    /**\r\n     * Fills elements of `array` with `value` from `start` up to, but not\r\n     * including, `end`.\r\n     *\r\n     * **Note:** This method mutates `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to fill.\r\n     * @param {*} value The value to fill `array` with.\r\n     * @param {number} [start=0] The start position.\r\n     * @param {number} [end=array.length] The end position.\r\n     * @returns {Array} Returns `array`.\r\n     * @example\r\n     *\r\n     * var array = [1, 2, 3];\r\n     *\r\n     * _.fill(array, 'a');\r\n     * console.log(array);\r\n     * // => ['a', 'a', 'a']\r\n     *\r\n     * _.fill(Array(3), 2);\r\n     * // => [2, 2, 2]\r\n     *\r\n     * _.fill([4, 6, 8], '*', 1, 2);\r\n     * // => [4, '*', 8]\r\n     */\r\n    function fill(array, value, start, end) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (start && typeof start != 'number' && isIterateeCall(array, value, start)) {\r\n        start = 0;\r\n        end = length;\r\n      }\r\n      return baseFill(array, value, start, end);\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.find` except that it returns the index of the first\r\n     * element `predicate` returns truthy for instead of the element itself.\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to search.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {number} Returns the index of the found element, else `-1`.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'active': false },\r\n     *   { 'user': 'fred',    'active': false },\r\n     *   { 'user': 'pebbles', 'active': true }\r\n     * ];\r\n     *\r\n     * _.findIndex(users, function(chr) {\r\n     *   return chr.user == 'barney';\r\n     * });\r\n     * // => 0\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.findIndex(users, { 'user': 'fred', 'active': false });\r\n     * // => 1\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.findIndex(users, 'active', false);\r\n     * // => 0\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.findIndex(users, 'active');\r\n     * // => 2\r\n     */\r\n    var findIndex = createFindIndex();\r\n\r\n    /**\r\n     * This method is like `_.findIndex` except that it iterates over elements\r\n     * of `collection` from right to left.\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to search.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {number} Returns the index of the found element, else `-1`.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'active': true },\r\n     *   { 'user': 'fred',    'active': false },\r\n     *   { 'user': 'pebbles', 'active': false }\r\n     * ];\r\n     *\r\n     * _.findLastIndex(users, function(chr) {\r\n     *   return chr.user == 'pebbles';\r\n     * });\r\n     * // => 2\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.findLastIndex(users, { 'user': 'barney', 'active': true });\r\n     * // => 0\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.findLastIndex(users, 'active', false);\r\n     * // => 2\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.findLastIndex(users, 'active');\r\n     * // => 0\r\n     */\r\n    var findLastIndex = createFindIndex(true);\r\n\r\n    /**\r\n     * Gets the first element of `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias head\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @returns {*} Returns the first element of `array`.\r\n     * @example\r\n     *\r\n     * _.first([1, 2, 3]);\r\n     * // => 1\r\n     *\r\n     * _.first([]);\r\n     * // => undefined\r\n     */\r\n    function first(array) {\r\n      return array ? array[0] : undefined;\r\n    }\r\n\r\n    /**\r\n     * Flattens a nested array. If `isDeep` is `true` the array is recursively\r\n     * flattened, otherwise it's only flattened a single level.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to flatten.\r\n     * @param {boolean} [isDeep] Specify a deep flatten.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the new flattened array.\r\n     * @example\r\n     *\r\n     * _.flatten([1, [2, 3, [4]]]);\r\n     * // => [1, 2, 3, [4]]\r\n     *\r\n     * // using `isDeep`\r\n     * _.flatten([1, [2, 3, [4]]], true);\r\n     * // => [1, 2, 3, 4]\r\n     */\r\n    function flatten(array, isDeep, guard) {\r\n      var length = array ? array.length : 0;\r\n      if (guard && isIterateeCall(array, isDeep, guard)) {\r\n        isDeep = false;\r\n      }\r\n      return length ? baseFlatten(array, isDeep) : [];\r\n    }\r\n\r\n    /**\r\n     * Recursively flattens a nested array.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to recursively flatten.\r\n     * @returns {Array} Returns the new flattened array.\r\n     * @example\r\n     *\r\n     * _.flattenDeep([1, [2, 3, [4]]]);\r\n     * // => [1, 2, 3, 4]\r\n     */\r\n    function flattenDeep(array) {\r\n      var length = array ? array.length : 0;\r\n      return length ? baseFlatten(array, true) : [];\r\n    }\r\n\r\n    /**\r\n     * Gets the index at which the first occurrence of `value` is found in `array`\r\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons. If `fromIndex` is negative, it's used as the offset\r\n     * from the end of `array`. If `array` is sorted providing `true` for `fromIndex`\r\n     * performs a faster binary search.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to search.\r\n     * @param {*} value The value to search for.\r\n     * @param {boolean|number} [fromIndex=0] The index to search from or `true`\r\n     *  to perform a binary search on a sorted array.\r\n     * @returns {number} Returns the index of the matched value, else `-1`.\r\n     * @example\r\n     *\r\n     * _.indexOf([1, 2, 1, 2], 2);\r\n     * // => 1\r\n     *\r\n     * // using `fromIndex`\r\n     * _.indexOf([1, 2, 1, 2], 2, 2);\r\n     * // => 3\r\n     *\r\n     * // performing a binary search\r\n     * _.indexOf([1, 1, 2, 2], 2, true);\r\n     * // => 2\r\n     */\r\n    function indexOf(array, value, fromIndex) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return -1;\r\n      }\r\n      if (typeof fromIndex == 'number') {\r\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : fromIndex;\r\n      } else if (fromIndex) {\r\n        var index = binaryIndex(array, value);\r\n        if (index < length &&\r\n            (value === value ? (value === array[index]) : (array[index] !== array[index]))) {\r\n          return index;\r\n        }\r\n        return -1;\r\n      }\r\n      return baseIndexOf(array, value, fromIndex || 0);\r\n    }\r\n\r\n    /**\r\n     * Gets all but the last element of `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.initial([1, 2, 3]);\r\n     * // => [1, 2]\r\n     */\r\n    function initial(array) {\r\n      return dropRight(array, 1);\r\n    }\r\n\r\n    /**\r\n     * Creates an array of unique values that are included in all of the provided\r\n     * arrays using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {...Array} [arrays] The arrays to inspect.\r\n     * @returns {Array} Returns the new array of shared values.\r\n     * @example\r\n     * _.intersection([1, 2], [4, 2], [2, 1]);\r\n     * // => [2]\r\n     */\r\n    var intersection = restParam(function(arrays) {\r\n      var othLength = arrays.length,\r\n          othIndex = othLength,\r\n          caches = Array(length),\r\n          indexOf = getIndexOf(),\r\n          isCommon = indexOf === baseIndexOf,\r\n          result = [];\r\n\r\n      while (othIndex--) {\r\n        var value = arrays[othIndex] = isArrayLike(value = arrays[othIndex]) ? value : [];\r\n        caches[othIndex] = (isCommon && value.length >= 120) ? createCache(othIndex && value) : null;\r\n      }\r\n      var array = arrays[0],\r\n          index = -1,\r\n          length = array ? array.length : 0,\r\n          seen = caches[0];\r\n\r\n      outer:\r\n      while (++index < length) {\r\n        value = array[index];\r\n        if ((seen ? cacheIndexOf(seen, value) : indexOf(result, value, 0)) < 0) {\r\n          var othIndex = othLength;\r\n          while (--othIndex) {\r\n            var cache = caches[othIndex];\r\n            if ((cache ? cacheIndexOf(cache, value) : indexOf(arrays[othIndex], value, 0)) < 0) {\r\n              continue outer;\r\n            }\r\n          }\r\n          if (seen) {\r\n            seen.push(value);\r\n          }\r\n          result.push(value);\r\n        }\r\n      }\r\n      return result;\r\n    });\r\n\r\n    /**\r\n     * Gets the last element of `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @returns {*} Returns the last element of `array`.\r\n     * @example\r\n     *\r\n     * _.last([1, 2, 3]);\r\n     * // => 3\r\n     */\r\n    function last(array) {\r\n      var length = array ? array.length : 0;\r\n      return length ? array[length - 1] : undefined;\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.indexOf` except that it iterates over elements of\r\n     * `array` from right to left.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to search.\r\n     * @param {*} value The value to search for.\r\n     * @param {boolean|number} [fromIndex=array.length-1] The index to search from\r\n     *  or `true` to perform a binary search on a sorted array.\r\n     * @returns {number} Returns the index of the matched value, else `-1`.\r\n     * @example\r\n     *\r\n     * _.lastIndexOf([1, 2, 1, 2], 2);\r\n     * // => 3\r\n     *\r\n     * // using `fromIndex`\r\n     * _.lastIndexOf([1, 2, 1, 2], 2, 2);\r\n     * // => 1\r\n     *\r\n     * // performing a binary search\r\n     * _.lastIndexOf([1, 1, 2, 2], 2, true);\r\n     * // => 3\r\n     */\r\n    function lastIndexOf(array, value, fromIndex) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return -1;\r\n      }\r\n      var index = length;\r\n      if (typeof fromIndex == 'number') {\r\n        index = (fromIndex < 0 ? nativeMax(length + fromIndex, 0) : nativeMin(fromIndex || 0, length - 1)) + 1;\r\n      } else if (fromIndex) {\r\n        index = binaryIndex(array, value, true) - 1;\r\n        var other = array[index];\r\n        if (value === value ? (value === other) : (other !== other)) {\r\n          return index;\r\n        }\r\n        return -1;\r\n      }\r\n      if (value !== value) {\r\n        return indexOfNaN(array, index, true);\r\n      }\r\n      while (index--) {\r\n        if (array[index] === value) {\r\n          return index;\r\n        }\r\n      }\r\n      return -1;\r\n    }\r\n\r\n    /**\r\n     * Removes all provided values from `array` using\r\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons.\r\n     *\r\n     * **Note:** Unlike `_.without`, this method mutates `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to modify.\r\n     * @param {...*} [values] The values to remove.\r\n     * @returns {Array} Returns `array`.\r\n     * @example\r\n     *\r\n     * var array = [1, 2, 3, 1, 2, 3];\r\n     *\r\n     * _.pull(array, 2, 3);\r\n     * console.log(array);\r\n     * // => [1, 1]\r\n     */\r\n    function pull() {\r\n      var args = arguments,\r\n          array = args[0];\r\n\r\n      if (!(array && array.length)) {\r\n        return array;\r\n      }\r\n      var index = 0,\r\n          indexOf = getIndexOf(),\r\n          length = args.length;\r\n\r\n      while (++index < length) {\r\n        var fromIndex = 0,\r\n            value = args[index];\r\n\r\n        while ((fromIndex = indexOf(array, value, fromIndex)) > -1) {\r\n          splice.call(array, fromIndex, 1);\r\n        }\r\n      }\r\n      return array;\r\n    }\r\n\r\n    /**\r\n     * Removes elements from `array` corresponding to the given indexes and returns\r\n     * an array of the removed elements. Indexes may be specified as an array of\r\n     * indexes or as individual arguments.\r\n     *\r\n     * **Note:** Unlike `_.at`, this method mutates `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to modify.\r\n     * @param {...(number|number[])} [indexes] The indexes of elements to remove,\r\n     *  specified as individual indexes or arrays of indexes.\r\n     * @returns {Array} Returns the new array of removed elements.\r\n     * @example\r\n     *\r\n     * var array = [5, 10, 15, 20];\r\n     * var evens = _.pullAt(array, 1, 3);\r\n     *\r\n     * console.log(array);\r\n     * // => [5, 15]\r\n     *\r\n     * console.log(evens);\r\n     * // => [10, 20]\r\n     */\r\n    var pullAt = restParam(function(array, indexes) {\r\n      indexes = baseFlatten(indexes);\r\n\r\n      var result = baseAt(array, indexes);\r\n      basePullAt(array, indexes.sort(baseCompareAscending));\r\n      return result;\r\n    });\r\n\r\n    /**\r\n     * Removes all elements from `array` that `predicate` returns truthy for\r\n     * and returns an array of the removed elements. The predicate is bound to\r\n     * `thisArg` and invoked with three arguments: (value, index, array).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * **Note:** Unlike `_.filter`, this method mutates `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to modify.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the new array of removed elements.\r\n     * @example\r\n     *\r\n     * var array = [1, 2, 3, 4];\r\n     * var evens = _.remove(array, function(n) {\r\n     *   return n % 2 == 0;\r\n     * });\r\n     *\r\n     * console.log(array);\r\n     * // => [1, 3]\r\n     *\r\n     * console.log(evens);\r\n     * // => [2, 4]\r\n     */\r\n    function remove(array, predicate, thisArg) {\r\n      var result = [];\r\n      if (!(array && array.length)) {\r\n        return result;\r\n      }\r\n      var index = -1,\r\n          indexes = [],\r\n          length = array.length;\r\n\r\n      predicate = getCallback(predicate, thisArg, 3);\r\n      while (++index < length) {\r\n        var value = array[index];\r\n        if (predicate(value, index, array)) {\r\n          result.push(value);\r\n          indexes.push(index);\r\n        }\r\n      }\r\n      basePullAt(array, indexes);\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Gets all but the first element of `array`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias tail\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.rest([1, 2, 3]);\r\n     * // => [2, 3]\r\n     */\r\n    function rest(array) {\r\n      return drop(array, 1);\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` from `start` up to, but not including, `end`.\r\n     *\r\n     * **Note:** This method is used instead of `Array#slice` to support node\r\n     * lists in IE < 9 and to ensure dense arrays are returned.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to slice.\r\n     * @param {number} [start=0] The start position.\r\n     * @param {number} [end=array.length] The end position.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     */\r\n    function slice(array, start, end) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (end && typeof end != 'number' && isIterateeCall(array, start, end)) {\r\n        start = 0;\r\n        end = length;\r\n      }\r\n      return baseSlice(array, start, end);\r\n    }\r\n\r\n    /**\r\n     * Uses a binary search to determine the lowest index at which `value` should\r\n     * be inserted into `array` in order to maintain its sort order. If an iteratee\r\n     * function is provided it's invoked for `value` and each element of `array`\r\n     * to compute their sort ranking. The iteratee is bound to `thisArg` and\r\n     * invoked with one argument; (value).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The sorted array to inspect.\r\n     * @param {*} value The value to evaluate.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {number} Returns the index at which `value` should be inserted\r\n     *  into `array`.\r\n     * @example\r\n     *\r\n     * _.sortedIndex([30, 50], 40);\r\n     * // => 1\r\n     *\r\n     * _.sortedIndex([4, 4, 5, 5], 5);\r\n     * // => 2\r\n     *\r\n     * var dict = { 'data': { 'thirty': 30, 'forty': 40, 'fifty': 50 } };\r\n     *\r\n     * // using an iteratee function\r\n     * _.sortedIndex(['thirty', 'fifty'], 'forty', function(word) {\r\n     *   return this.data[word];\r\n     * }, dict);\r\n     * // => 1\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.sortedIndex([{ 'x': 30 }, { 'x': 50 }], { 'x': 40 }, 'x');\r\n     * // => 1\r\n     */\r\n    var sortedIndex = createSortedIndex();\r\n\r\n    /**\r\n     * This method is like `_.sortedIndex` except that it returns the highest\r\n     * index at which `value` should be inserted into `array` in order to\r\n     * maintain its sort order.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The sorted array to inspect.\r\n     * @param {*} value The value to evaluate.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {number} Returns the index at which `value` should be inserted\r\n     *  into `array`.\r\n     * @example\r\n     *\r\n     * _.sortedLastIndex([4, 4, 5, 5], 5);\r\n     * // => 4\r\n     */\r\n    var sortedLastIndex = createSortedIndex(true);\r\n\r\n    /**\r\n     * Creates a slice of `array` with `n` elements taken from the beginning.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {number} [n=1] The number of elements to take.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.take([1, 2, 3]);\r\n     * // => [1]\r\n     *\r\n     * _.take([1, 2, 3], 2);\r\n     * // => [1, 2]\r\n     *\r\n     * _.take([1, 2, 3], 5);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * _.take([1, 2, 3], 0);\r\n     * // => []\r\n     */\r\n    function take(array, n, guard) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\r\n        n = 1;\r\n      }\r\n      return baseSlice(array, 0, n < 0 ? 0 : n);\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` with `n` elements taken from the end.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {number} [n=1] The number of elements to take.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.takeRight([1, 2, 3]);\r\n     * // => [3]\r\n     *\r\n     * _.takeRight([1, 2, 3], 2);\r\n     * // => [2, 3]\r\n     *\r\n     * _.takeRight([1, 2, 3], 5);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * _.takeRight([1, 2, 3], 0);\r\n     * // => []\r\n     */\r\n    function takeRight(array, n, guard) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (guard ? isIterateeCall(array, n, guard) : n == null) {\r\n        n = 1;\r\n      }\r\n      n = length - (+n || 0);\r\n      return baseSlice(array, n < 0 ? 0 : n);\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` with elements taken from the end. Elements are\r\n     * taken until `predicate` returns falsey. The predicate is bound to `thisArg`\r\n     * and invoked with three arguments: (value, index, array).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.takeRightWhile([1, 2, 3], function(n) {\r\n     *   return n > 1;\r\n     * });\r\n     * // => [2, 3]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'active': true },\r\n     *   { 'user': 'fred',    'active': false },\r\n     *   { 'user': 'pebbles', 'active': false }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.pluck(_.takeRightWhile(users, { 'user': 'pebbles', 'active': false }), 'user');\r\n     * // => ['pebbles']\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.pluck(_.takeRightWhile(users, 'active', false), 'user');\r\n     * // => ['fred', 'pebbles']\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.takeRightWhile(users, 'active'), 'user');\r\n     * // => []\r\n     */\r\n    function takeRightWhile(array, predicate, thisArg) {\r\n      return (array && array.length)\r\n        ? baseWhile(array, getCallback(predicate, thisArg, 3), false, true)\r\n        : [];\r\n    }\r\n\r\n    /**\r\n     * Creates a slice of `array` with elements taken from the beginning. Elements\r\n     * are taken until `predicate` returns falsey. The predicate is bound to\r\n     * `thisArg` and invoked with three arguments: (value, index, array).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to query.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the slice of `array`.\r\n     * @example\r\n     *\r\n     * _.takeWhile([1, 2, 3], function(n) {\r\n     *   return n < 3;\r\n     * });\r\n     * // => [1, 2]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'active': false },\r\n     *   { 'user': 'fred',    'active': false},\r\n     *   { 'user': 'pebbles', 'active': true }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.pluck(_.takeWhile(users, { 'user': 'barney', 'active': false }), 'user');\r\n     * // => ['barney']\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.pluck(_.takeWhile(users, 'active', false), 'user');\r\n     * // => ['barney', 'fred']\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.takeWhile(users, 'active'), 'user');\r\n     * // => []\r\n     */\r\n    function takeWhile(array, predicate, thisArg) {\r\n      return (array && array.length)\r\n        ? baseWhile(array, getCallback(predicate, thisArg, 3))\r\n        : [];\r\n    }\r\n\r\n    /**\r\n     * Creates an array of unique values, in order, from all of the provided arrays\r\n     * using [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {...Array} [arrays] The arrays to inspect.\r\n     * @returns {Array} Returns the new array of combined values.\r\n     * @example\r\n     *\r\n     * _.union([1, 2], [4, 2], [2, 1]);\r\n     * // => [1, 2, 4]\r\n     */\r\n    var union = restParam(function(arrays) {\r\n      return baseUniq(baseFlatten(arrays, false, true));\r\n    });\r\n\r\n    /**\r\n     * Creates a duplicate-free version of an array, using\r\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons, in which only the first occurence of each element\r\n     * is kept. Providing `true` for `isSorted` performs a faster search algorithm\r\n     * for sorted arrays. If an iteratee function is provided it's invoked for\r\n     * each element in the array to generate the criterion by which uniqueness\r\n     * is computed. The `iteratee` is bound to `thisArg` and invoked with three\r\n     * arguments: (value, index, array).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias unique\r\n     * @category Array\r\n     * @param {Array} array The array to inspect.\r\n     * @param {boolean} [isSorted] Specify the array is sorted.\r\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array} Returns the new duplicate-value-free array.\r\n     * @example\r\n     *\r\n     * _.uniq([2, 1, 2]);\r\n     * // => [2, 1]\r\n     *\r\n     * // using `isSorted`\r\n     * _.uniq([1, 1, 2], true);\r\n     * // => [1, 2]\r\n     *\r\n     * // using an iteratee function\r\n     * _.uniq([1, 2.5, 1.5, 2], function(n) {\r\n     *   return this.floor(n);\r\n     * }, Math);\r\n     * // => [1, 2.5]\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.uniq([{ 'x': 1 }, { 'x': 2 }, { 'x': 1 }], 'x');\r\n     * // => [{ 'x': 1 }, { 'x': 2 }]\r\n     */\r\n    function uniq(array, isSorted, iteratee, thisArg) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      if (isSorted != null && typeof isSorted != 'boolean') {\r\n        thisArg = iteratee;\r\n        iteratee = isIterateeCall(array, isSorted, thisArg) ? undefined : isSorted;\r\n        isSorted = false;\r\n      }\r\n      var callback = getCallback();\r\n      if (!(iteratee == null && callback === baseCallback)) {\r\n        iteratee = callback(iteratee, thisArg, 3);\r\n      }\r\n      return (isSorted && getIndexOf() === baseIndexOf)\r\n        ? sortedUniq(array, iteratee)\r\n        : baseUniq(array, iteratee);\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.zip` except that it accepts an array of grouped\r\n     * elements and creates an array regrouping the elements to their pre-zip\r\n     * configuration.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array of grouped elements to process.\r\n     * @returns {Array} Returns the new array of regrouped elements.\r\n     * @example\r\n     *\r\n     * var zipped = _.zip(['fred', 'barney'], [30, 40], [true, false]);\r\n     * // => [['fred', 30, true], ['barney', 40, false]]\r\n     *\r\n     * _.unzip(zipped);\r\n     * // => [['fred', 'barney'], [30, 40], [true, false]]\r\n     */\r\n    function unzip(array) {\r\n      if (!(array && array.length)) {\r\n        return [];\r\n      }\r\n      var index = -1,\r\n          length = 0;\r\n\r\n      array = arrayFilter(array, function(group) {\r\n        if (isArrayLike(group)) {\r\n          length = nativeMax(group.length, length);\r\n          return true;\r\n        }\r\n      });\r\n      var result = Array(length);\r\n      while (++index < length) {\r\n        result[index] = arrayMap(array, baseProperty(index));\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.unzip` except that it accepts an iteratee to specify\r\n     * how regrouped values should be combined. The `iteratee` is bound to `thisArg`\r\n     * and invoked with four arguments: (accumulator, value, index, group).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array of grouped elements to process.\r\n     * @param {Function} [iteratee] The function to combine regrouped values.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array} Returns the new array of regrouped elements.\r\n     * @example\r\n     *\r\n     * var zipped = _.zip([1, 2], [10, 20], [100, 200]);\r\n     * // => [[1, 10, 100], [2, 20, 200]]\r\n     *\r\n     * _.unzipWith(zipped, _.add);\r\n     * // => [3, 30, 300]\r\n     */\r\n    function unzipWith(array, iteratee, thisArg) {\r\n      var length = array ? array.length : 0;\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      var result = unzip(array);\r\n      if (iteratee == null) {\r\n        return result;\r\n      }\r\n      iteratee = bindCallback(iteratee, thisArg, 4);\r\n      return arrayMap(result, function(group) {\r\n        return arrayReduce(group, iteratee, undefined, true);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Creates an array excluding all provided values using\r\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {Array} array The array to filter.\r\n     * @param {...*} [values] The values to exclude.\r\n     * @returns {Array} Returns the new array of filtered values.\r\n     * @example\r\n     *\r\n     * _.without([1, 2, 1, 3], 1, 2);\r\n     * // => [3]\r\n     */\r\n    var without = restParam(function(array, values) {\r\n      return isArrayLike(array)\r\n        ? baseDifference(array, values)\r\n        : [];\r\n    });\r\n\r\n    /**\r\n     * Creates an array of unique values that is the [symmetric difference](https://en.wikipedia.org/wiki/Symmetric_difference)\r\n     * of the provided arrays.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {...Array} [arrays] The arrays to inspect.\r\n     * @returns {Array} Returns the new array of values.\r\n     * @example\r\n     *\r\n     * _.xor([1, 2], [4, 2]);\r\n     * // => [1, 4]\r\n     */\r\n    function xor() {\r\n      var index = -1,\r\n          length = arguments.length;\r\n\r\n      while (++index < length) {\r\n        var array = arguments[index];\r\n        if (isArrayLike(array)) {\r\n          var result = result\r\n            ? arrayPush(baseDifference(result, array), baseDifference(array, result))\r\n            : array;\r\n        }\r\n      }\r\n      return result ? baseUniq(result) : [];\r\n    }\r\n\r\n    /**\r\n     * Creates an array of grouped elements, the first of which contains the first\r\n     * elements of the given arrays, the second of which contains the second elements\r\n     * of the given arrays, and so on.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {...Array} [arrays] The arrays to process.\r\n     * @returns {Array} Returns the new array of grouped elements.\r\n     * @example\r\n     *\r\n     * _.zip(['fred', 'barney'], [30, 40], [true, false]);\r\n     * // => [['fred', 30, true], ['barney', 40, false]]\r\n     */\r\n    var zip = restParam(unzip);\r\n\r\n    /**\r\n     * The inverse of `_.pairs`; this method returns an object composed from arrays\r\n     * of property names and values. Provide either a single two dimensional array,\r\n     * e.g. `[[key1, value1], [key2, value2]]` or two arrays, one of property names\r\n     * and one of corresponding values.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias object\r\n     * @category Array\r\n     * @param {Array} props The property names.\r\n     * @param {Array} [values=[]] The property values.\r\n     * @returns {Object} Returns the new object.\r\n     * @example\r\n     *\r\n     * _.zipObject([['fred', 30], ['barney', 40]]);\r\n     * // => { 'fred': 30, 'barney': 40 }\r\n     *\r\n     * _.zipObject(['fred', 'barney'], [30, 40]);\r\n     * // => { 'fred': 30, 'barney': 40 }\r\n     */\r\n    function zipObject(props, values) {\r\n      var index = -1,\r\n          length = props ? props.length : 0,\r\n          result = {};\r\n\r\n      if (length && !values && !isArray(props[0])) {\r\n        values = [];\r\n      }\r\n      while (++index < length) {\r\n        var key = props[index];\r\n        if (values) {\r\n          result[key] = values[index];\r\n        } else if (key) {\r\n          result[key[0]] = key[1];\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.zip` except that it accepts an iteratee to specify\r\n     * how grouped values should be combined. The `iteratee` is bound to `thisArg`\r\n     * and invoked with four arguments: (accumulator, value, index, group).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Array\r\n     * @param {...Array} [arrays] The arrays to process.\r\n     * @param {Function} [iteratee] The function to combine grouped values.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array} Returns the new array of grouped elements.\r\n     * @example\r\n     *\r\n     * _.zipWith([1, 2], [10, 20], [100, 200], _.add);\r\n     * // => [111, 222]\r\n     */\r\n    var zipWith = restParam(function(arrays) {\r\n      var length = arrays.length,\r\n          iteratee = length > 2 ? arrays[length - 2] : undefined,\r\n          thisArg = length > 1 ? arrays[length - 1] : undefined;\r\n\r\n      if (length > 2 && typeof iteratee == 'function') {\r\n        length -= 2;\r\n      } else {\r\n        iteratee = (length > 1 && typeof thisArg == 'function') ? (--length, thisArg) : undefined;\r\n        thisArg = undefined;\r\n      }\r\n      arrays.length = length;\r\n      return unzipWith(arrays, iteratee, thisArg);\r\n    });\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates a `lodash` object that wraps `value` with explicit method\r\n     * chaining enabled.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @param {*} value The value to wrap.\r\n     * @returns {Object} Returns the new `lodash` wrapper instance.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'age': 36 },\r\n     *   { 'user': 'fred',    'age': 40 },\r\n     *   { 'user': 'pebbles', 'age': 1 }\r\n     * ];\r\n     *\r\n     * var youngest = _.chain(users)\r\n     *   .sortBy('age')\r\n     *   .map(function(chr) {\r\n     *     return chr.user + ' is ' + chr.age;\r\n     *   })\r\n     *   .first()\r\n     *   .value();\r\n     * // => 'pebbles is 1'\r\n     */\r\n    function chain(value) {\r\n      var result = lodash(value);\r\n      result.__chain__ = true;\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * This method invokes `interceptor` and returns `value`. The interceptor is\r\n     * bound to `thisArg` and invoked with one argument; (value). The purpose of\r\n     * this method is to \"tap into\" a method chain in order to perform operations\r\n     * on intermediate results within the chain.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @param {*} value The value to provide to `interceptor`.\r\n     * @param {Function} interceptor The function to invoke.\r\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\r\n     * @returns {*} Returns `value`.\r\n     * @example\r\n     *\r\n     * _([1, 2, 3])\r\n     *  .tap(function(array) {\r\n     *    array.pop();\r\n     *  })\r\n     *  .reverse()\r\n     *  .value();\r\n     * // => [2, 1]\r\n     */\r\n    function tap(value, interceptor, thisArg) {\r\n      interceptor.call(thisArg, value);\r\n      return value;\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.tap` except that it returns the result of `interceptor`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @param {*} value The value to provide to `interceptor`.\r\n     * @param {Function} interceptor The function to invoke.\r\n     * @param {*} [thisArg] The `this` binding of `interceptor`.\r\n     * @returns {*} Returns the result of `interceptor`.\r\n     * @example\r\n     *\r\n     * _('  abc  ')\r\n     *  .chain()\r\n     *  .trim()\r\n     *  .thru(function(value) {\r\n     *    return [value];\r\n     *  })\r\n     *  .value();\r\n     * // => ['abc']\r\n     */\r\n    function thru(value, interceptor, thisArg) {\r\n      return interceptor.call(thisArg, value);\r\n    }\r\n\r\n    /**\r\n     * Enables explicit method chaining on the wrapper object.\r\n     *\r\n     * @name chain\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @returns {Object} Returns the new `lodash` wrapper instance.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36 },\r\n     *   { 'user': 'fred',   'age': 40 }\r\n     * ];\r\n     *\r\n     * // without explicit chaining\r\n     * _(users).first();\r\n     * // => { 'user': 'barney', 'age': 36 }\r\n     *\r\n     * // with explicit chaining\r\n     * _(users).chain()\r\n     *   .first()\r\n     *   .pick('user')\r\n     *   .value();\r\n     * // => { 'user': 'barney' }\r\n     */\r\n    function wrapperChain() {\r\n      return chain(this);\r\n    }\r\n\r\n    /**\r\n     * Executes the chained sequence and returns the wrapped result.\r\n     *\r\n     * @name commit\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @returns {Object} Returns the new `lodash` wrapper instance.\r\n     * @example\r\n     *\r\n     * var array = [1, 2];\r\n     * var wrapped = _(array).push(3);\r\n     *\r\n     * console.log(array);\r\n     * // => [1, 2]\r\n     *\r\n     * wrapped = wrapped.commit();\r\n     * console.log(array);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * wrapped.last();\r\n     * // => 3\r\n     *\r\n     * console.log(array);\r\n     * // => [1, 2, 3]\r\n     */\r\n    function wrapperCommit() {\r\n      return new LodashWrapper(this.value(), this.__chain__);\r\n    }\r\n\r\n    /**\r\n     * Creates a new array joining a wrapped array with any additional arrays\r\n     * and/or values.\r\n     *\r\n     * @name concat\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @param {...*} [values] The values to concatenate.\r\n     * @returns {Array} Returns the new concatenated array.\r\n     * @example\r\n     *\r\n     * var array = [1];\r\n     * var wrapped = _(array).concat(2, [3], [[4]]);\r\n     *\r\n     * console.log(wrapped.value());\r\n     * // => [1, 2, 3, [4]]\r\n     *\r\n     * console.log(array);\r\n     * // => [1]\r\n     */\r\n    var wrapperConcat = restParam(function(values) {\r\n      values = baseFlatten(values);\r\n      return this.thru(function(array) {\r\n        return arrayConcat(isArray(array) ? array : [toObject(array)], values);\r\n      });\r\n    });\r\n\r\n    /**\r\n     * Creates a clone of the chained sequence planting `value` as the wrapped value.\r\n     *\r\n     * @name plant\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @returns {Object} Returns the new `lodash` wrapper instance.\r\n     * @example\r\n     *\r\n     * var array = [1, 2];\r\n     * var wrapped = _(array).map(function(value) {\r\n     *   return Math.pow(value, 2);\r\n     * });\r\n     *\r\n     * var other = [3, 4];\r\n     * var otherWrapped = wrapped.plant(other);\r\n     *\r\n     * otherWrapped.value();\r\n     * // => [9, 16]\r\n     *\r\n     * wrapped.value();\r\n     * // => [1, 4]\r\n     */\r\n    function wrapperPlant(value) {\r\n      var result,\r\n          parent = this;\r\n\r\n      while (parent instanceof baseLodash) {\r\n        var clone = wrapperClone(parent);\r\n        if (result) {\r\n          previous.__wrapped__ = clone;\r\n        } else {\r\n          result = clone;\r\n        }\r\n        var previous = clone;\r\n        parent = parent.__wrapped__;\r\n      }\r\n      previous.__wrapped__ = value;\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Reverses the wrapped array so the first element becomes the last, the\r\n     * second element becomes the second to last, and so on.\r\n     *\r\n     * **Note:** This method mutates the wrapped array.\r\n     *\r\n     * @name reverse\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @returns {Object} Returns the new reversed `lodash` wrapper instance.\r\n     * @example\r\n     *\r\n     * var array = [1, 2, 3];\r\n     *\r\n     * _(array).reverse().value()\r\n     * // => [3, 2, 1]\r\n     *\r\n     * console.log(array);\r\n     * // => [3, 2, 1]\r\n     */\r\n    function wrapperReverse() {\r\n      var value = this.__wrapped__;\r\n\r\n      var interceptor = function(value) {\r\n        return value.reverse();\r\n      };\r\n      if (value instanceof LazyWrapper) {\r\n        var wrapped = value;\r\n        if (this.__actions__.length) {\r\n          wrapped = new LazyWrapper(this);\r\n        }\r\n        wrapped = wrapped.reverse();\r\n        wrapped.__actions__.push({ 'func': thru, 'args': [interceptor], 'thisArg': undefined });\r\n        return new LodashWrapper(wrapped, this.__chain__);\r\n      }\r\n      return this.thru(interceptor);\r\n    }\r\n\r\n    /**\r\n     * Produces the result of coercing the unwrapped value to a string.\r\n     *\r\n     * @name toString\r\n     * @memberOf _\r\n     * @category Chain\r\n     * @returns {string} Returns the coerced string value.\r\n     * @example\r\n     *\r\n     * _([1, 2, 3]).toString();\r\n     * // => '1,2,3'\r\n     */\r\n    function wrapperToString() {\r\n      return (this.value() + '');\r\n    }\r\n\r\n    /**\r\n     * Executes the chained sequence to extract the unwrapped value.\r\n     *\r\n     * @name value\r\n     * @memberOf _\r\n     * @alias run, toJSON, valueOf\r\n     * @category Chain\r\n     * @returns {*} Returns the resolved unwrapped value.\r\n     * @example\r\n     *\r\n     * _([1, 2, 3]).value();\r\n     * // => [1, 2, 3]\r\n     */\r\n    function wrapperValue() {\r\n      return baseWrapperValue(this.__wrapped__, this.__actions__);\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates an array of elements corresponding to the given keys, or indexes,\r\n     * of `collection`. Keys may be specified as individual arguments or as arrays\r\n     * of keys.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {...(number|number[]|string|string[])} [props] The property names\r\n     *  or indexes of elements to pick, specified individually or in arrays.\r\n     * @returns {Array} Returns the new array of picked elements.\r\n     * @example\r\n     *\r\n     * _.at(['a', 'b', 'c'], [0, 2]);\r\n     * // => ['a', 'c']\r\n     *\r\n     * _.at(['barney', 'fred', 'pebbles'], 0, 2);\r\n     * // => ['barney', 'pebbles']\r\n     */\r\n    var at = restParam(function(collection, props) {\r\n      return baseAt(collection, baseFlatten(props));\r\n    });\r\n\r\n    /**\r\n     * Creates an object composed of keys generated from the results of running\r\n     * each element of `collection` through `iteratee`. The corresponding value\r\n     * of each key is the number of times the key was returned by `iteratee`.\r\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\r\n     * (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns the composed aggregate object.\r\n     * @example\r\n     *\r\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\r\n     *   return Math.floor(n);\r\n     * });\r\n     * // => { '4': 1, '6': 2 }\r\n     *\r\n     * _.countBy([4.3, 6.1, 6.4], function(n) {\r\n     *   return this.floor(n);\r\n     * }, Math);\r\n     * // => { '4': 1, '6': 2 }\r\n     *\r\n     * _.countBy(['one', 'two', 'three'], 'length');\r\n     * // => { '3': 2, '5': 1 }\r\n     */\r\n    var countBy = createAggregator(function(result, value, key) {\r\n      hasOwnProperty.call(result, key) ? ++result[key] : (result[key] = 1);\r\n    });\r\n\r\n    /**\r\n     * Checks if `predicate` returns truthy for **all** elements of `collection`.\r\n     * The predicate is bound to `thisArg` and invoked with three arguments:\r\n     * (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias all\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {boolean} Returns `true` if all elements pass the predicate check,\r\n     *  else `false`.\r\n     * @example\r\n     *\r\n     * _.every([true, 1, null, 'yes'], Boolean);\r\n     * // => false\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'active': false },\r\n     *   { 'user': 'fred',   'active': false }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.every(users, { 'user': 'barney', 'active': false });\r\n     * // => false\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.every(users, 'active', false);\r\n     * // => true\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.every(users, 'active');\r\n     * // => false\r\n     */\r\n    function every(collection, predicate, thisArg) {\r\n      var func = isArray(collection) ? arrayEvery : baseEvery;\r\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\r\n        predicate = undefined;\r\n      }\r\n      if (typeof predicate != 'function' || thisArg !== undefined) {\r\n        predicate = getCallback(predicate, thisArg, 3);\r\n      }\r\n      return func(collection, predicate);\r\n    }\r\n\r\n    /**\r\n     * Iterates over elements of `collection`, returning an array of all elements\r\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\r\n     * invoked with three arguments: (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias select\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the new filtered array.\r\n     * @example\r\n     *\r\n     * _.filter([4, 5, 6], function(n) {\r\n     *   return n % 2 == 0;\r\n     * });\r\n     * // => [4, 6]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36, 'active': true },\r\n     *   { 'user': 'fred',   'age': 40, 'active': false }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.pluck(_.filter(users, { 'age': 36, 'active': true }), 'user');\r\n     * // => ['barney']\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.pluck(_.filter(users, 'active', false), 'user');\r\n     * // => ['fred']\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.filter(users, 'active'), 'user');\r\n     * // => ['barney']\r\n     */\r\n    function filter(collection, predicate, thisArg) {\r\n      var func = isArray(collection) ? arrayFilter : baseFilter;\r\n      predicate = getCallback(predicate, thisArg, 3);\r\n      return func(collection, predicate);\r\n    }\r\n\r\n    /**\r\n     * Iterates over elements of `collection`, returning the first element\r\n     * `predicate` returns truthy for. The predicate is bound to `thisArg` and\r\n     * invoked with three arguments: (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias detect\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to search.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {*} Returns the matched element, else `undefined`.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'age': 36, 'active': true },\r\n     *   { 'user': 'fred',    'age': 40, 'active': false },\r\n     *   { 'user': 'pebbles', 'age': 1,  'active': true }\r\n     * ];\r\n     *\r\n     * _.result(_.find(users, function(chr) {\r\n     *   return chr.age < 40;\r\n     * }), 'user');\r\n     * // => 'barney'\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.result(_.find(users, { 'age': 1, 'active': true }), 'user');\r\n     * // => 'pebbles'\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.result(_.find(users, 'active', false), 'user');\r\n     * // => 'fred'\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.result(_.find(users, 'active'), 'user');\r\n     * // => 'barney'\r\n     */\r\n    var find = createFind(baseEach);\r\n\r\n    /**\r\n     * This method is like `_.find` except that it iterates over elements of\r\n     * `collection` from right to left.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to search.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {*} Returns the matched element, else `undefined`.\r\n     * @example\r\n     *\r\n     * _.findLast([1, 2, 3, 4], function(n) {\r\n     *   return n % 2 == 1;\r\n     * });\r\n     * // => 3\r\n     */\r\n    var findLast = createFind(baseEachRight, true);\r\n\r\n    /**\r\n     * Performs a deep comparison between each element in `collection` and the\r\n     * source object, returning the first element that has equivalent property\r\n     * values.\r\n     *\r\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\r\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\r\n     * their own, not inherited, enumerable properties. For comparing a single\r\n     * own or inherited property value see `_.matchesProperty`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to search.\r\n     * @param {Object} source The object of property values to match.\r\n     * @returns {*} Returns the matched element, else `undefined`.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36, 'active': true },\r\n     *   { 'user': 'fred',   'age': 40, 'active': false }\r\n     * ];\r\n     *\r\n     * _.result(_.findWhere(users, { 'age': 36, 'active': true }), 'user');\r\n     * // => 'barney'\r\n     *\r\n     * _.result(_.findWhere(users, { 'age': 40, 'active': false }), 'user');\r\n     * // => 'fred'\r\n     */\r\n    function findWhere(collection, source) {\r\n      return find(collection, baseMatches(source));\r\n    }\r\n\r\n    /**\r\n     * Iterates over elements of `collection` invoking `iteratee` for each element.\r\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\r\n     * (value, index|key, collection). Iteratee functions may exit iteration early\r\n     * by explicitly returning `false`.\r\n     *\r\n     * **Note:** As with other \"Collections\" methods, objects with a \"length\" property\r\n     * are iterated like arrays. To avoid this behavior `_.forIn` or `_.forOwn`\r\n     * may be used for object iteration.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias each\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array|Object|string} Returns `collection`.\r\n     * @example\r\n     *\r\n     * _([1, 2]).forEach(function(n) {\r\n     *   console.log(n);\r\n     * }).value();\r\n     * // => logs each value from left to right and returns the array\r\n     *\r\n     * _.forEach({ 'a': 1, 'b': 2 }, function(n, key) {\r\n     *   console.log(n, key);\r\n     * });\r\n     * // => logs each value-key pair and returns the object (iteration order is not guaranteed)\r\n     */\r\n    var forEach = createForEach(arrayEach, baseEach);\r\n\r\n    /**\r\n     * This method is like `_.forEach` except that it iterates over elements of\r\n     * `collection` from right to left.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias eachRight\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array|Object|string} Returns `collection`.\r\n     * @example\r\n     *\r\n     * _([1, 2]).forEachRight(function(n) {\r\n     *   console.log(n);\r\n     * }).value();\r\n     * // => logs each value from right to left and returns the array\r\n     */\r\n    var forEachRight = createForEach(arrayEachRight, baseEachRight);\r\n\r\n    /**\r\n     * Creates an object composed of keys generated from the results of running\r\n     * each element of `collection` through `iteratee`. The corresponding value\r\n     * of each key is an array of the elements responsible for generating the key.\r\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\r\n     * (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns the composed aggregate object.\r\n     * @example\r\n     *\r\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\r\n     *   return Math.floor(n);\r\n     * });\r\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\r\n     *\r\n     * _.groupBy([4.2, 6.1, 6.4], function(n) {\r\n     *   return this.floor(n);\r\n     * }, Math);\r\n     * // => { '4': [4.2], '6': [6.1, 6.4] }\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.groupBy(['one', 'two', 'three'], 'length');\r\n     * // => { '3': ['one', 'two'], '5': ['three'] }\r\n     */\r\n    var groupBy = createAggregator(function(result, value, key) {\r\n      if (hasOwnProperty.call(result, key)) {\r\n        result[key].push(value);\r\n      } else {\r\n        result[key] = [value];\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Checks if `target` is in `collection` using\r\n     * [`SameValueZero`](http://ecma-international.org/ecma-262/6.0/#sec-samevaluezero)\r\n     * for equality comparisons. If `fromIndex` is negative, it's used as the offset\r\n     * from the end of `collection`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias contains, include\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to search.\r\n     * @param {*} target The value to search for.\r\n     * @param {number} [fromIndex=0] The index to search from.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\r\n     * @returns {boolean} Returns `true` if a matching element is found, else `false`.\r\n     * @example\r\n     *\r\n     * _.includes([1, 2, 3], 1);\r\n     * // => true\r\n     *\r\n     * _.includes([1, 2, 3], 1, 2);\r\n     * // => false\r\n     *\r\n     * _.includes({ 'user': 'fred', 'age': 40 }, 'fred');\r\n     * // => true\r\n     *\r\n     * _.includes('pebbles', 'eb');\r\n     * // => true\r\n     */\r\n    function includes(collection, target, fromIndex, guard) {\r\n      var length = collection ? getLength(collection) : 0;\r\n      if (!isLength(length)) {\r\n        collection = values(collection);\r\n        length = collection.length;\r\n      }\r\n      if (typeof fromIndex != 'number' || (guard && isIterateeCall(target, fromIndex, guard))) {\r\n        fromIndex = 0;\r\n      } else {\r\n        fromIndex = fromIndex < 0 ? nativeMax(length + fromIndex, 0) : (fromIndex || 0);\r\n      }\r\n      return (typeof collection == 'string' || !isArray(collection) && isString(collection))\r\n        ? (fromIndex <= length && collection.indexOf(target, fromIndex) > -1)\r\n        : (!!length && getIndexOf(collection, target, fromIndex) > -1);\r\n    }\r\n\r\n    /**\r\n     * Creates an object composed of keys generated from the results of running\r\n     * each element of `collection` through `iteratee`. The corresponding value\r\n     * of each key is the last element responsible for generating the key. The\r\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\r\n     * (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns the composed aggregate object.\r\n     * @example\r\n     *\r\n     * var keyData = [\r\n     *   { 'dir': 'left', 'code': 97 },\r\n     *   { 'dir': 'right', 'code': 100 }\r\n     * ];\r\n     *\r\n     * _.indexBy(keyData, 'dir');\r\n     * // => { 'left': { 'dir': 'left', 'code': 97 }, 'right': { 'dir': 'right', 'code': 100 } }\r\n     *\r\n     * _.indexBy(keyData, function(object) {\r\n     *   return String.fromCharCode(object.code);\r\n     * });\r\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\r\n     *\r\n     * _.indexBy(keyData, function(object) {\r\n     *   return this.fromCharCode(object.code);\r\n     * }, String);\r\n     * // => { 'a': { 'dir': 'left', 'code': 97 }, 'd': { 'dir': 'right', 'code': 100 } }\r\n     */\r\n    var indexBy = createAggregator(function(result, value, key) {\r\n      result[key] = value;\r\n    });\r\n\r\n    /**\r\n     * Invokes the method at `path` of each element in `collection`, returning\r\n     * an array of the results of each invoked method. Any additional arguments\r\n     * are provided to each invoked method. If `methodName` is a function it's\r\n     * invoked for, and `this` bound to, each element in `collection`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Array|Function|string} path The path of the method to invoke or\r\n     *  the function invoked per iteration.\r\n     * @param {...*} [args] The arguments to invoke the method with.\r\n     * @returns {Array} Returns the array of results.\r\n     * @example\r\n     *\r\n     * _.invoke([[5, 1, 7], [3, 2, 1]], 'sort');\r\n     * // => [[1, 5, 7], [1, 2, 3]]\r\n     *\r\n     * _.invoke([123, 456], String.prototype.split, '');\r\n     * // => [['1', '2', '3'], ['4', '5', '6']]\r\n     */\r\n    var invoke = restParam(function(collection, path, args) {\r\n      var index = -1,\r\n          isFunc = typeof path == 'function',\r\n          isProp = isKey(path),\r\n          result = isArrayLike(collection) ? Array(collection.length) : [];\r\n\r\n      baseEach(collection, function(value) {\r\n        var func = isFunc ? path : ((isProp && value != null) ? value[path] : undefined);\r\n        result[++index] = func ? func.apply(value, args) : invokePath(value, path, args);\r\n      });\r\n      return result;\r\n    });\r\n\r\n    /**\r\n     * Creates an array of values by running each element in `collection` through\r\n     * `iteratee`. The `iteratee` is bound to `thisArg` and invoked with three\r\n     * arguments: (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * Many lodash methods are guarded to work as iteratees for methods like\r\n     * `_.every`, `_.filter`, `_.map`, `_.mapValues`, `_.reject`, and `_.some`.\r\n     *\r\n     * The guarded methods are:\r\n     * `ary`, `callback`, `chunk`, `clone`, `create`, `curry`, `curryRight`,\r\n     * `drop`, `dropRight`, `every`, `fill`, `flatten`, `invert`, `max`, `min`,\r\n     * `parseInt`, `slice`, `sortBy`, `take`, `takeRight`, `template`, `trim`,\r\n     * `trimLeft`, `trimRight`, `trunc`, `random`, `range`, `sample`, `some`,\r\n     * `sum`, `uniq`, and `words`\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias collect\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array} Returns the new mapped array.\r\n     * @example\r\n     *\r\n     * function timesThree(n) {\r\n     *   return n * 3;\r\n     * }\r\n     *\r\n     * _.map([1, 2], timesThree);\r\n     * // => [3, 6]\r\n     *\r\n     * _.map({ 'a': 1, 'b': 2 }, timesThree);\r\n     * // => [3, 6] (iteration order is not guaranteed)\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney' },\r\n     *   { 'user': 'fred' }\r\n     * ];\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.map(users, 'user');\r\n     * // => ['barney', 'fred']\r\n     */\r\n    function map(collection, iteratee, thisArg) {\r\n      var func = isArray(collection) ? arrayMap : baseMap;\r\n      iteratee = getCallback(iteratee, thisArg, 3);\r\n      return func(collection, iteratee);\r\n    }\r\n\r\n    /**\r\n     * Creates an array of elements split into two groups, the first of which\r\n     * contains elements `predicate` returns truthy for, while the second of which\r\n     * contains elements `predicate` returns falsey for. The predicate is bound\r\n     * to `thisArg` and invoked with three arguments: (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the array of grouped elements.\r\n     * @example\r\n     *\r\n     * _.partition([1, 2, 3], function(n) {\r\n     *   return n % 2;\r\n     * });\r\n     * // => [[1, 3], [2]]\r\n     *\r\n     * _.partition([1.2, 2.3, 3.4], function(n) {\r\n     *   return this.floor(n) % 2;\r\n     * }, Math);\r\n     * // => [[1.2, 3.4], [2.3]]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney',  'age': 36, 'active': false },\r\n     *   { 'user': 'fred',    'age': 40, 'active': true },\r\n     *   { 'user': 'pebbles', 'age': 1,  'active': false }\r\n     * ];\r\n     *\r\n     * var mapper = function(array) {\r\n     *   return _.pluck(array, 'user');\r\n     * };\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.map(_.partition(users, { 'age': 1, 'active': false }), mapper);\r\n     * // => [['pebbles'], ['barney', 'fred']]\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.map(_.partition(users, 'active', false), mapper);\r\n     * // => [['barney', 'pebbles'], ['fred']]\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.map(_.partition(users, 'active'), mapper);\r\n     * // => [['fred'], ['barney', 'pebbles']]\r\n     */\r\n    var partition = createAggregator(function(result, value, key) {\r\n      result[key ? 0 : 1].push(value);\r\n    }, function() { return [[], []]; });\r\n\r\n    /**\r\n     * Gets the property value of `path` from all elements in `collection`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Array|string} path The path of the property to pluck.\r\n     * @returns {Array} Returns the property values.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36 },\r\n     *   { 'user': 'fred',   'age': 40 }\r\n     * ];\r\n     *\r\n     * _.pluck(users, 'user');\r\n     * // => ['barney', 'fred']\r\n     *\r\n     * var userIndex = _.indexBy(users, 'user');\r\n     * _.pluck(userIndex, 'age');\r\n     * // => [36, 40] (iteration order is not guaranteed)\r\n     */\r\n    function pluck(collection, path) {\r\n      return map(collection, property(path));\r\n    }\r\n\r\n    /**\r\n     * Reduces `collection` to a value which is the accumulated result of running\r\n     * each element in `collection` through `iteratee`, where each successive\r\n     * invocation is supplied the return value of the previous. If `accumulator`\r\n     * is not provided the first element of `collection` is used as the initial\r\n     * value. The `iteratee` is bound to `thisArg` and invoked with four arguments:\r\n     * (accumulator, value, index|key, collection).\r\n     *\r\n     * Many lodash methods are guarded to work as iteratees for methods like\r\n     * `_.reduce`, `_.reduceRight`, and `_.transform`.\r\n     *\r\n     * The guarded methods are:\r\n     * `assign`, `defaults`, `defaultsDeep`, `includes`, `merge`, `sortByAll`,\r\n     * and `sortByOrder`\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias foldl, inject\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [accumulator] The initial value.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {*} Returns the accumulated value.\r\n     * @example\r\n     *\r\n     * _.reduce([1, 2], function(total, n) {\r\n     *   return total + n;\r\n     * });\r\n     * // => 3\r\n     *\r\n     * _.reduce({ 'a': 1, 'b': 2 }, function(result, n, key) {\r\n     *   result[key] = n * 3;\r\n     *   return result;\r\n     * }, {});\r\n     * // => { 'a': 3, 'b': 6 } (iteration order is not guaranteed)\r\n     */\r\n    var reduce = createReduce(arrayReduce, baseEach);\r\n\r\n    /**\r\n     * This method is like `_.reduce` except that it iterates over elements of\r\n     * `collection` from right to left.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias foldr\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [accumulator] The initial value.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {*} Returns the accumulated value.\r\n     * @example\r\n     *\r\n     * var array = [[0, 1], [2, 3], [4, 5]];\r\n     *\r\n     * _.reduceRight(array, function(flattened, other) {\r\n     *   return flattened.concat(other);\r\n     * }, []);\r\n     * // => [4, 5, 2, 3, 0, 1]\r\n     */\r\n    var reduceRight = createReduce(arrayReduceRight, baseEachRight);\r\n\r\n    /**\r\n     * The opposite of `_.filter`; this method returns the elements of `collection`\r\n     * that `predicate` does **not** return truthy for.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Array} Returns the new filtered array.\r\n     * @example\r\n     *\r\n     * _.reject([1, 2, 3, 4], function(n) {\r\n     *   return n % 2 == 0;\r\n     * });\r\n     * // => [1, 3]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36, 'active': false },\r\n     *   { 'user': 'fred',   'age': 40, 'active': true }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.pluck(_.reject(users, { 'age': 40, 'active': true }), 'user');\r\n     * // => ['barney']\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.pluck(_.reject(users, 'active', false), 'user');\r\n     * // => ['fred']\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.reject(users, 'active'), 'user');\r\n     * // => ['barney']\r\n     */\r\n    function reject(collection, predicate, thisArg) {\r\n      var func = isArray(collection) ? arrayFilter : baseFilter;\r\n      predicate = getCallback(predicate, thisArg, 3);\r\n      return func(collection, function(value, index, collection) {\r\n        return !predicate(value, index, collection);\r\n      });\r\n    }\r\n\r\n    /**\r\n     * Gets a random element or `n` random elements from a collection.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to sample.\r\n     * @param {number} [n] The number of elements to sample.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {*} Returns the random sample(s).\r\n     * @example\r\n     *\r\n     * _.sample([1, 2, 3, 4]);\r\n     * // => 2\r\n     *\r\n     * _.sample([1, 2, 3, 4], 2);\r\n     * // => [3, 1]\r\n     */\r\n    function sample(collection, n, guard) {\r\n      if (guard ? isIterateeCall(collection, n, guard) : n == null) {\r\n        collection = toIterable(collection);\r\n        var length = collection.length;\r\n        return length > 0 ? collection[baseRandom(0, length - 1)] : undefined;\r\n      }\r\n      var index = -1,\r\n          result = toArray(collection),\r\n          length = result.length,\r\n          lastIndex = length - 1;\r\n\r\n      n = nativeMin(n < 0 ? 0 : (+n || 0), length);\r\n      while (++index < n) {\r\n        var rand = baseRandom(index, lastIndex),\r\n            value = result[rand];\r\n\r\n        result[rand] = result[index];\r\n        result[index] = value;\r\n      }\r\n      result.length = n;\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates an array of shuffled values, using a version of the\r\n     * [Fisher-Yates shuffle](https://en.wikipedia.org/wiki/Fisher-Yates_shuffle).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to shuffle.\r\n     * @returns {Array} Returns the new shuffled array.\r\n     * @example\r\n     *\r\n     * _.shuffle([1, 2, 3, 4]);\r\n     * // => [4, 1, 3, 2]\r\n     */\r\n    function shuffle(collection) {\r\n      return sample(collection, POSITIVE_INFINITY);\r\n    }\r\n\r\n    /**\r\n     * Gets the size of `collection` by returning its length for array-like\r\n     * values or the number of own enumerable properties for objects.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to inspect.\r\n     * @returns {number} Returns the size of `collection`.\r\n     * @example\r\n     *\r\n     * _.size([1, 2, 3]);\r\n     * // => 3\r\n     *\r\n     * _.size({ 'a': 1, 'b': 2 });\r\n     * // => 2\r\n     *\r\n     * _.size('pebbles');\r\n     * // => 7\r\n     */\r\n    function size(collection) {\r\n      var length = collection ? getLength(collection) : 0;\r\n      return isLength(length) ? length : keys(collection).length;\r\n    }\r\n\r\n    /**\r\n     * Checks if `predicate` returns truthy for **any** element of `collection`.\r\n     * The function returns as soon as it finds a passing value and does not iterate\r\n     * over the entire collection. The predicate is bound to `thisArg` and invoked\r\n     * with three arguments: (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias any\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {boolean} Returns `true` if any element passes the predicate check,\r\n     *  else `false`.\r\n     * @example\r\n     *\r\n     * _.some([null, 0, 'yes', false], Boolean);\r\n     * // => true\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'active': true },\r\n     *   { 'user': 'fred',   'active': false }\r\n     * ];\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.some(users, { 'user': 'barney', 'active': false });\r\n     * // => false\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.some(users, 'active', false);\r\n     * // => true\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.some(users, 'active');\r\n     * // => true\r\n     */\r\n    function some(collection, predicate, thisArg) {\r\n      var func = isArray(collection) ? arraySome : baseSome;\r\n      if (thisArg && isIterateeCall(collection, predicate, thisArg)) {\r\n        predicate = undefined;\r\n      }\r\n      if (typeof predicate != 'function' || thisArg !== undefined) {\r\n        predicate = getCallback(predicate, thisArg, 3);\r\n      }\r\n      return func(collection, predicate);\r\n    }\r\n\r\n    /**\r\n     * Creates an array of elements, sorted in ascending order by the results of\r\n     * running each element in a collection through `iteratee`. This method performs\r\n     * a stable sort, that is, it preserves the original sort order of equal elements.\r\n     * The `iteratee` is bound to `thisArg` and invoked with three arguments:\r\n     * (value, index|key, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array} Returns the new sorted array.\r\n     * @example\r\n     *\r\n     * _.sortBy([1, 2, 3], function(n) {\r\n     *   return Math.sin(n);\r\n     * });\r\n     * // => [3, 1, 2]\r\n     *\r\n     * _.sortBy([1, 2, 3], function(n) {\r\n     *   return this.sin(n);\r\n     * }, Math);\r\n     * // => [3, 1, 2]\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'fred' },\r\n     *   { 'user': 'pebbles' },\r\n     *   { 'user': 'barney' }\r\n     * ];\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.pluck(_.sortBy(users, 'user'), 'user');\r\n     * // => ['barney', 'fred', 'pebbles']\r\n     */\r\n    function sortBy(collection, iteratee, thisArg) {\r\n      if (collection == null) {\r\n        return [];\r\n      }\r\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\r\n        iteratee = undefined;\r\n      }\r\n      var index = -1;\r\n      iteratee = getCallback(iteratee, thisArg, 3);\r\n\r\n      var result = baseMap(collection, function(value, key, collection) {\r\n        return { 'criteria': iteratee(value, key, collection), 'index': ++index, 'value': value };\r\n      });\r\n      return baseSortBy(result, compareAscending);\r\n    }\r\n\r\n    /**\r\n     * This method is like `_.sortBy` except that it can sort by multiple iteratees\r\n     * or property names.\r\n     *\r\n     * If a property name is provided for an iteratee the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If an object is provided for an iteratee the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {...(Function|Function[]|Object|Object[]|string|string[])} iteratees\r\n     *  The iteratees to sort by, specified as individual values or arrays of values.\r\n     * @returns {Array} Returns the new sorted array.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'fred',   'age': 48 },\r\n     *   { 'user': 'barney', 'age': 36 },\r\n     *   { 'user': 'fred',   'age': 42 },\r\n     *   { 'user': 'barney', 'age': 34 }\r\n     * ];\r\n     *\r\n     * _.map(_.sortByAll(users, ['user', 'age']), _.values);\r\n     * // => [['barney', 34], ['barney', 36], ['fred', 42], ['fred', 48]]\r\n     *\r\n     * _.map(_.sortByAll(users, 'user', function(chr) {\r\n     *   return Math.floor(chr.age / 10);\r\n     * }), _.values);\r\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\r\n     */\r\n    var sortByAll = restParam(function(collection, iteratees) {\r\n      if (collection == null) {\r\n        return [];\r\n      }\r\n      var guard = iteratees[2];\r\n      if (guard && isIterateeCall(iteratees[0], iteratees[1], guard)) {\r\n        iteratees.length = 1;\r\n      }\r\n      return baseSortByOrder(collection, baseFlatten(iteratees), []);\r\n    });\r\n\r\n    /**\r\n     * This method is like `_.sortByAll` except that it allows specifying the\r\n     * sort orders of the iteratees to sort by. If `orders` is unspecified, all\r\n     * values are sorted in ascending order. Otherwise, a value is sorted in\r\n     * ascending order if its corresponding order is \"asc\", and descending if \"desc\".\r\n     *\r\n     * If a property name is provided for an iteratee the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If an object is provided for an iteratee the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function[]|Object[]|string[]} iteratees The iteratees to sort by.\r\n     * @param {boolean[]} [orders] The sort orders of `iteratees`.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.reduce`.\r\n     * @returns {Array} Returns the new sorted array.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'fred',   'age': 48 },\r\n     *   { 'user': 'barney', 'age': 34 },\r\n     *   { 'user': 'fred',   'age': 42 },\r\n     *   { 'user': 'barney', 'age': 36 }\r\n     * ];\r\n     *\r\n     * // sort by `user` in ascending order and by `age` in descending order\r\n     * _.map(_.sortByOrder(users, ['user', 'age'], ['asc', 'desc']), _.values);\r\n     * // => [['barney', 36], ['barney', 34], ['fred', 48], ['fred', 42]]\r\n     */\r\n    function sortByOrder(collection, iteratees, orders, guard) {\r\n      if (collection == null) {\r\n        return [];\r\n      }\r\n      if (guard && isIterateeCall(iteratees, orders, guard)) {\r\n        orders = undefined;\r\n      }\r\n      if (!isArray(iteratees)) {\r\n        iteratees = iteratees == null ? [] : [iteratees];\r\n      }\r\n      if (!isArray(orders)) {\r\n        orders = orders == null ? [] : [orders];\r\n      }\r\n      return baseSortByOrder(collection, iteratees, orders);\r\n    }\r\n\r\n    /**\r\n     * Performs a deep comparison between each element in `collection` and the\r\n     * source object, returning an array of all elements that have equivalent\r\n     * property values.\r\n     *\r\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\r\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\r\n     * their own, not inherited, enumerable properties. For comparing a single\r\n     * own or inherited property value see `_.matchesProperty`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Collection\r\n     * @param {Array|Object|string} collection The collection to search.\r\n     * @param {Object} source The object of property values to match.\r\n     * @returns {Array} Returns the new filtered array.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36, 'active': false, 'pets': ['hoppy'] },\r\n     *   { 'user': 'fred',   'age': 40, 'active': true, 'pets': ['baby puss', 'dino'] }\r\n     * ];\r\n     *\r\n     * _.pluck(_.where(users, { 'age': 36, 'active': false }), 'user');\r\n     * // => ['barney']\r\n     *\r\n     * _.pluck(_.where(users, { 'pets': ['dino'] }), 'user');\r\n     * // => ['fred']\r\n     */\r\n    function where(collection, source) {\r\n      return filter(collection, baseMatches(source));\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Gets the number of milliseconds that have elapsed since the Unix epoch\r\n     * (1 January 1970 00:00:00 UTC).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Date\r\n     * @example\r\n     *\r\n     * _.defer(function(stamp) {\r\n     *   console.log(_.now() - stamp);\r\n     * }, _.now());\r\n     * // => logs the number of milliseconds it took for the deferred function to be invoked\r\n     */\r\n    var now = nativeNow || function() {\r\n      return new Date().getTime();\r\n    };\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * The opposite of `_.before`; this method creates a function that invokes\r\n     * `func` once it's called `n` or more times.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {number} n The number of calls before `func` is invoked.\r\n     * @param {Function} func The function to restrict.\r\n     * @returns {Function} Returns the new restricted function.\r\n     * @example\r\n     *\r\n     * var saves = ['profile', 'settings'];\r\n     *\r\n     * var done = _.after(saves.length, function() {\r\n     *   console.log('done saving!');\r\n     * });\r\n     *\r\n     * _.forEach(saves, function(type) {\r\n     *   asyncSave({ 'type': type, 'complete': done });\r\n     * });\r\n     * // => logs 'done saving!' after the two async saves have completed\r\n     */\r\n    function after(n, func) {\r\n      if (typeof func != 'function') {\r\n        if (typeof n == 'function') {\r\n          var temp = n;\r\n          n = func;\r\n          func = temp;\r\n        } else {\r\n          throw new TypeError(FUNC_ERROR_TEXT);\r\n        }\r\n      }\r\n      n = nativeIsFinite(n = +n) ? n : 0;\r\n      return function() {\r\n        if (--n < 1) {\r\n          return func.apply(this, arguments);\r\n        }\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that accepts up to `n` arguments ignoring any\r\n     * additional arguments.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to cap arguments for.\r\n     * @param {number} [n=func.length] The arity cap.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * _.map(['6', '8', '10'], _.ary(parseInt, 1));\r\n     * // => [6, 8, 10]\r\n     */\r\n    function ary(func, n, guard) {\r\n      if (guard && isIterateeCall(func, n, guard)) {\r\n        n = undefined;\r\n      }\r\n      n = (func && n == null) ? func.length : nativeMax(+n || 0, 0);\r\n      return createWrapper(func, ARY_FLAG, undefined, undefined, undefined, undefined, n);\r\n    }\r\n\r\n    /**\r\n     * Creates a function that invokes `func`, with the `this` binding and arguments\r\n     * of the created function, while it's called less than `n` times. Subsequent\r\n     * calls to the created function return the result of the last `func` invocation.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {number} n The number of calls at which `func` is no longer invoked.\r\n     * @param {Function} func The function to restrict.\r\n     * @returns {Function} Returns the new restricted function.\r\n     * @example\r\n     *\r\n     * jQuery('#add').on('click', _.before(5, addContactToList));\r\n     * // => allows adding up to 4 contacts to the list\r\n     */\r\n    function before(n, func) {\r\n      var result;\r\n      if (typeof func != 'function') {\r\n        if (typeof n == 'function') {\r\n          var temp = n;\r\n          n = func;\r\n          func = temp;\r\n        } else {\r\n          throw new TypeError(FUNC_ERROR_TEXT);\r\n        }\r\n      }\r\n      return function() {\r\n        if (--n > 0) {\r\n          result = func.apply(this, arguments);\r\n        }\r\n        if (n <= 1) {\r\n          func = undefined;\r\n        }\r\n        return result;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\r\n     * and prepends any additional `_.bind` arguments to those provided to the\r\n     * bound function.\r\n     *\r\n     * The `_.bind.placeholder` value, which defaults to `_` in monolithic builds,\r\n     * may be used as a placeholder for partially applied arguments.\r\n     *\r\n     * **Note:** Unlike native `Function#bind` this method does not set the \"length\"\r\n     * property of bound functions.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to bind.\r\n     * @param {*} thisArg The `this` binding of `func`.\r\n     * @param {...*} [partials] The arguments to be partially applied.\r\n     * @returns {Function} Returns the new bound function.\r\n     * @example\r\n     *\r\n     * var greet = function(greeting, punctuation) {\r\n     *   return greeting + ' ' + this.user + punctuation;\r\n     * };\r\n     *\r\n     * var object = { 'user': 'fred' };\r\n     *\r\n     * var bound = _.bind(greet, object, 'hi');\r\n     * bound('!');\r\n     * // => 'hi fred!'\r\n     *\r\n     * // using placeholders\r\n     * var bound = _.bind(greet, object, _, '!');\r\n     * bound('hi');\r\n     * // => 'hi fred!'\r\n     */\r\n    var bind = restParam(function(func, thisArg, partials) {\r\n      var bitmask = BIND_FLAG;\r\n      if (partials.length) {\r\n        var holders = replaceHolders(partials, bind.placeholder);\r\n        bitmask |= PARTIAL_FLAG;\r\n      }\r\n      return createWrapper(func, bitmask, thisArg, partials, holders);\r\n    });\r\n\r\n    /**\r\n     * Binds methods of an object to the object itself, overwriting the existing\r\n     * method. Method names may be specified as individual arguments or as arrays\r\n     * of method names. If no method names are provided all enumerable function\r\n     * properties, own and inherited, of `object` are bound.\r\n     *\r\n     * **Note:** This method does not set the \"length\" property of bound functions.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Object} object The object to bind and assign the bound methods to.\r\n     * @param {...(string|string[])} [methodNames] The object method names to bind,\r\n     *  specified as individual method names or arrays of method names.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * var view = {\r\n     *   'label': 'docs',\r\n     *   'onClick': function() {\r\n     *     console.log('clicked ' + this.label);\r\n     *   }\r\n     * };\r\n     *\r\n     * _.bindAll(view);\r\n     * jQuery('#docs').on('click', view.onClick);\r\n     * // => logs 'clicked docs' when the element is clicked\r\n     */\r\n    var bindAll = restParam(function(object, methodNames) {\r\n      methodNames = methodNames.length ? baseFlatten(methodNames) : functions(object);\r\n\r\n      var index = -1,\r\n          length = methodNames.length;\r\n\r\n      while (++index < length) {\r\n        var key = methodNames[index];\r\n        object[key] = createWrapper(object[key], BIND_FLAG, object);\r\n      }\r\n      return object;\r\n    });\r\n\r\n    /**\r\n     * Creates a function that invokes the method at `object[key]` and prepends\r\n     * any additional `_.bindKey` arguments to those provided to the bound function.\r\n     *\r\n     * This method differs from `_.bind` by allowing bound functions to reference\r\n     * methods that may be redefined or don't yet exist.\r\n     * See [Peter Michaux's article](http://peter.michaux.ca/articles/lazy-function-definition-pattern)\r\n     * for more details.\r\n     *\r\n     * The `_.bindKey.placeholder` value, which defaults to `_` in monolithic\r\n     * builds, may be used as a placeholder for partially applied arguments.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Object} object The object the method belongs to.\r\n     * @param {string} key The key of the method.\r\n     * @param {...*} [partials] The arguments to be partially applied.\r\n     * @returns {Function} Returns the new bound function.\r\n     * @example\r\n     *\r\n     * var object = {\r\n     *   'user': 'fred',\r\n     *   'greet': function(greeting, punctuation) {\r\n     *     return greeting + ' ' + this.user + punctuation;\r\n     *   }\r\n     * };\r\n     *\r\n     * var bound = _.bindKey(object, 'greet', 'hi');\r\n     * bound('!');\r\n     * // => 'hi fred!'\r\n     *\r\n     * object.greet = function(greeting, punctuation) {\r\n     *   return greeting + 'ya ' + this.user + punctuation;\r\n     * };\r\n     *\r\n     * bound('!');\r\n     * // => 'hiya fred!'\r\n     *\r\n     * // using placeholders\r\n     * var bound = _.bindKey(object, 'greet', _, '!');\r\n     * bound('hi');\r\n     * // => 'hiya fred!'\r\n     */\r\n    var bindKey = restParam(function(object, key, partials) {\r\n      var bitmask = BIND_FLAG | BIND_KEY_FLAG;\r\n      if (partials.length) {\r\n        var holders = replaceHolders(partials, bindKey.placeholder);\r\n        bitmask |= PARTIAL_FLAG;\r\n      }\r\n      return createWrapper(key, bitmask, object, partials, holders);\r\n    });\r\n\r\n    /**\r\n     * Creates a function that accepts one or more arguments of `func` that when\r\n     * called either invokes `func` returning its result, if all `func` arguments\r\n     * have been provided, or returns a function that accepts one or more of the\r\n     * remaining `func` arguments, and so on. The arity of `func` may be specified\r\n     * if `func.length` is not sufficient.\r\n     *\r\n     * The `_.curry.placeholder` value, which defaults to `_` in monolithic builds,\r\n     * may be used as a placeholder for provided arguments.\r\n     *\r\n     * **Note:** This method does not set the \"length\" property of curried functions.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to curry.\r\n     * @param {number} [arity=func.length] The arity of `func`.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Function} Returns the new curried function.\r\n     * @example\r\n     *\r\n     * var abc = function(a, b, c) {\r\n     *   return [a, b, c];\r\n     * };\r\n     *\r\n     * var curried = _.curry(abc);\r\n     *\r\n     * curried(1)(2)(3);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * curried(1, 2)(3);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * curried(1, 2, 3);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * // using placeholders\r\n     * curried(1)(_, 3)(2);\r\n     * // => [1, 2, 3]\r\n     */\r\n    var curry = createCurry(CURRY_FLAG);\r\n\r\n    /**\r\n     * This method is like `_.curry` except that arguments are applied to `func`\r\n     * in the manner of `_.partialRight` instead of `_.partial`.\r\n     *\r\n     * The `_.curryRight.placeholder` value, which defaults to `_` in monolithic\r\n     * builds, may be used as a placeholder for provided arguments.\r\n     *\r\n     * **Note:** This method does not set the \"length\" property of curried functions.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to curry.\r\n     * @param {number} [arity=func.length] The arity of `func`.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Function} Returns the new curried function.\r\n     * @example\r\n     *\r\n     * var abc = function(a, b, c) {\r\n     *   return [a, b, c];\r\n     * };\r\n     *\r\n     * var curried = _.curryRight(abc);\r\n     *\r\n     * curried(3)(2)(1);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * curried(2, 3)(1);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * curried(1, 2, 3);\r\n     * // => [1, 2, 3]\r\n     *\r\n     * // using placeholders\r\n     * curried(3)(1, _)(2);\r\n     * // => [1, 2, 3]\r\n     */\r\n    var curryRight = createCurry(CURRY_RIGHT_FLAG);\r\n\r\n    /**\r\n     * Creates a debounced function that delays invoking `func` until after `wait`\r\n     * milliseconds have elapsed since the last time the debounced function was\r\n     * invoked. The debounced function comes with a `cancel` method to cancel\r\n     * delayed invocations. Provide an options object to indicate that `func`\r\n     * should be invoked on the leading and/or trailing edge of the `wait` timeout.\r\n     * Subsequent calls to the debounced function return the result of the last\r\n     * `func` invocation.\r\n     *\r\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\r\n     * on the trailing edge of the timeout only if the the debounced function is\r\n     * invoked more than once during the `wait` timeout.\r\n     *\r\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\r\n     * for details over the differences between `_.debounce` and `_.throttle`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to debounce.\r\n     * @param {number} [wait=0] The number of milliseconds to delay.\r\n     * @param {Object} [options] The options object.\r\n     * @param {boolean} [options.leading=false] Specify invoking on the leading\r\n     *  edge of the timeout.\r\n     * @param {number} [options.maxWait] The maximum time `func` is allowed to be\r\n     *  delayed before it's invoked.\r\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\r\n     *  edge of the timeout.\r\n     * @returns {Function} Returns the new debounced function.\r\n     * @example\r\n     *\r\n     * // avoid costly calculations while the window size is in flux\r\n     * jQuery(window).on('resize', _.debounce(calculateLayout, 150));\r\n     *\r\n     * // invoke `sendMail` when the click event is fired, debouncing subsequent calls\r\n     * jQuery('#postbox').on('click', _.debounce(sendMail, 300, {\r\n     *   'leading': true,\r\n     *   'trailing': false\r\n     * }));\r\n     *\r\n     * // ensure `batchLog` is invoked once after 1 second of debounced calls\r\n     * var source = new EventSource('/stream');\r\n     * jQuery(source).on('message', _.debounce(batchLog, 250, {\r\n     *   'maxWait': 1000\r\n     * }));\r\n     *\r\n     * // cancel a debounced call\r\n     * var todoChanges = _.debounce(batchLog, 1000);\r\n     * Object.observe(models.todo, todoChanges);\r\n     *\r\n     * Object.observe(models, function(changes) {\r\n     *   if (_.find(changes, { 'user': 'todo', 'type': 'delete'})) {\r\n     *     todoChanges.cancel();\r\n     *   }\r\n     * }, ['delete']);\r\n     *\r\n     * // ...at some point `models.todo` is changed\r\n     * models.todo.completed = true;\r\n     *\r\n     * // ...before 1 second has passed `models.todo` is deleted\r\n     * // which cancels the debounced `todoChanges` call\r\n     * delete models.todo;\r\n     */\r\n    function debounce(func, wait, options) {\r\n      var args,\r\n          maxTimeoutId,\r\n          result,\r\n          stamp,\r\n          thisArg,\r\n          timeoutId,\r\n          trailingCall,\r\n          lastCalled = 0,\r\n          maxWait = false,\r\n          trailing = true;\r\n\r\n      if (typeof func != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      wait = wait < 0 ? 0 : (+wait || 0);\r\n      if (options === true) {\r\n        var leading = true;\r\n        trailing = false;\r\n      } else if (isObject(options)) {\r\n        leading = !!options.leading;\r\n        maxWait = 'maxWait' in options && nativeMax(+options.maxWait || 0, wait);\r\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\r\n      }\r\n\r\n      function cancel() {\r\n        if (timeoutId) {\r\n          clearTimeout(timeoutId);\r\n        }\r\n        if (maxTimeoutId) {\r\n          clearTimeout(maxTimeoutId);\r\n        }\r\n        lastCalled = 0;\r\n        maxTimeoutId = timeoutId = trailingCall = undefined;\r\n      }\r\n\r\n      function complete(isCalled, id) {\r\n        if (id) {\r\n          clearTimeout(id);\r\n        }\r\n        maxTimeoutId = timeoutId = trailingCall = undefined;\r\n        if (isCalled) {\r\n          lastCalled = now();\r\n          result = func.apply(thisArg, args);\r\n          if (!timeoutId && !maxTimeoutId) {\r\n            args = thisArg = undefined;\r\n          }\r\n        }\r\n      }\r\n\r\n      function delayed() {\r\n        var remaining = wait - (now() - stamp);\r\n        if (remaining <= 0 || remaining > wait) {\r\n          complete(trailingCall, maxTimeoutId);\r\n        } else {\r\n          timeoutId = setTimeout(delayed, remaining);\r\n        }\r\n      }\r\n\r\n      function maxDelayed() {\r\n        complete(trailing, timeoutId);\r\n      }\r\n\r\n      function debounced() {\r\n        args = arguments;\r\n        stamp = now();\r\n        thisArg = this;\r\n        trailingCall = trailing && (timeoutId || !leading);\r\n\r\n        if (maxWait === false) {\r\n          var leadingCall = leading && !timeoutId;\r\n        } else {\r\n          if (!maxTimeoutId && !leading) {\r\n            lastCalled = stamp;\r\n          }\r\n          var remaining = maxWait - (stamp - lastCalled),\r\n              isCalled = remaining <= 0 || remaining > maxWait;\r\n\r\n          if (isCalled) {\r\n            if (maxTimeoutId) {\r\n              maxTimeoutId = clearTimeout(maxTimeoutId);\r\n            }\r\n            lastCalled = stamp;\r\n            result = func.apply(thisArg, args);\r\n          }\r\n          else if (!maxTimeoutId) {\r\n            maxTimeoutId = setTimeout(maxDelayed, remaining);\r\n          }\r\n        }\r\n        if (isCalled && timeoutId) {\r\n          timeoutId = clearTimeout(timeoutId);\r\n        }\r\n        else if (!timeoutId && wait !== maxWait) {\r\n          timeoutId = setTimeout(delayed, wait);\r\n        }\r\n        if (leadingCall) {\r\n          isCalled = true;\r\n          result = func.apply(thisArg, args);\r\n        }\r\n        if (isCalled && !timeoutId && !maxTimeoutId) {\r\n          args = thisArg = undefined;\r\n        }\r\n        return result;\r\n      }\r\n      debounced.cancel = cancel;\r\n      return debounced;\r\n    }\r\n\r\n    /**\r\n     * Defers invoking the `func` until the current call stack has cleared. Any\r\n     * additional arguments are provided to `func` when it's invoked.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to defer.\r\n     * @param {...*} [args] The arguments to invoke the function with.\r\n     * @returns {number} Returns the timer id.\r\n     * @example\r\n     *\r\n     * _.defer(function(text) {\r\n     *   console.log(text);\r\n     * }, 'deferred');\r\n     * // logs 'deferred' after one or more milliseconds\r\n     */\r\n    var defer = restParam(function(func, args) {\r\n      return baseDelay(func, 1, args);\r\n    });\r\n\r\n    /**\r\n     * Invokes `func` after `wait` milliseconds. Any additional arguments are\r\n     * provided to `func` when it's invoked.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to delay.\r\n     * @param {number} wait The number of milliseconds to delay invocation.\r\n     * @param {...*} [args] The arguments to invoke the function with.\r\n     * @returns {number} Returns the timer id.\r\n     * @example\r\n     *\r\n     * _.delay(function(text) {\r\n     *   console.log(text);\r\n     * }, 1000, 'later');\r\n     * // => logs 'later' after one second\r\n     */\r\n    var delay = restParam(function(func, wait, args) {\r\n      return baseDelay(func, wait, args);\r\n    });\r\n\r\n    /**\r\n     * Creates a function that returns the result of invoking the provided\r\n     * functions with the `this` binding of the created function, where each\r\n     * successive invocation is supplied the return value of the previous.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {...Function} [funcs] Functions to invoke.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * function square(n) {\r\n     *   return n * n;\r\n     * }\r\n     *\r\n     * var addSquare = _.flow(_.add, square);\r\n     * addSquare(1, 2);\r\n     * // => 9\r\n     */\r\n    var flow = createFlow();\r\n\r\n    /**\r\n     * This method is like `_.flow` except that it creates a function that\r\n     * invokes the provided functions from right to left.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias backflow, compose\r\n     * @category Function\r\n     * @param {...Function} [funcs] Functions to invoke.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * function square(n) {\r\n     *   return n * n;\r\n     * }\r\n     *\r\n     * var addSquare = _.flowRight(square, _.add);\r\n     * addSquare(1, 2);\r\n     * // => 9\r\n     */\r\n    var flowRight = createFlow(true);\r\n\r\n    /**\r\n     * Creates a function that memoizes the result of `func`. If `resolver` is\r\n     * provided it determines the cache key for storing the result based on the\r\n     * arguments provided to the memoized function. By default, the first argument\r\n     * provided to the memoized function is coerced to a string and used as the\r\n     * cache key. The `func` is invoked with the `this` binding of the memoized\r\n     * function.\r\n     *\r\n     * **Note:** The cache is exposed as the `cache` property on the memoized\r\n     * function. Its creation may be customized by replacing the `_.memoize.Cache`\r\n     * constructor with one whose instances implement the [`Map`](http://ecma-international.org/ecma-262/6.0/#sec-properties-of-the-map-prototype-object)\r\n     * method interface of `get`, `has`, and `set`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to have its output memoized.\r\n     * @param {Function} [resolver] The function to resolve the cache key.\r\n     * @returns {Function} Returns the new memoizing function.\r\n     * @example\r\n     *\r\n     * var upperCase = _.memoize(function(string) {\r\n     *   return string.toUpperCase();\r\n     * });\r\n     *\r\n     * upperCase('fred');\r\n     * // => 'FRED'\r\n     *\r\n     * // modifying the result cache\r\n     * upperCase.cache.set('fred', 'BARNEY');\r\n     * upperCase('fred');\r\n     * // => 'BARNEY'\r\n     *\r\n     * // replacing `_.memoize.Cache`\r\n     * var object = { 'user': 'fred' };\r\n     * var other = { 'user': 'barney' };\r\n     * var identity = _.memoize(_.identity);\r\n     *\r\n     * identity(object);\r\n     * // => { 'user': 'fred' }\r\n     * identity(other);\r\n     * // => { 'user': 'fred' }\r\n     *\r\n     * _.memoize.Cache = WeakMap;\r\n     * var identity = _.memoize(_.identity);\r\n     *\r\n     * identity(object);\r\n     * // => { 'user': 'fred' }\r\n     * identity(other);\r\n     * // => { 'user': 'barney' }\r\n     */\r\n    function memoize(func, resolver) {\r\n      if (typeof func != 'function' || (resolver && typeof resolver != 'function')) {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      var memoized = function() {\r\n        var args = arguments,\r\n            key = resolver ? resolver.apply(this, args) : args[0],\r\n            cache = memoized.cache;\r\n\r\n        if (cache.has(key)) {\r\n          return cache.get(key);\r\n        }\r\n        var result = func.apply(this, args);\r\n        memoized.cache = cache.set(key, result);\r\n        return result;\r\n      };\r\n      memoized.cache = new memoize.Cache;\r\n      return memoized;\r\n    }\r\n\r\n    /**\r\n     * Creates a function that runs each argument through a corresponding\r\n     * transform function.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to wrap.\r\n     * @param {...(Function|Function[])} [transforms] The functions to transform\r\n     * arguments, specified as individual functions or arrays of functions.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * function doubled(n) {\r\n     *   return n * 2;\r\n     * }\r\n     *\r\n     * function square(n) {\r\n     *   return n * n;\r\n     * }\r\n     *\r\n     * var modded = _.modArgs(function(x, y) {\r\n     *   return [x, y];\r\n     * }, square, doubled);\r\n     *\r\n     * modded(1, 2);\r\n     * // => [1, 4]\r\n     *\r\n     * modded(5, 10);\r\n     * // => [25, 20]\r\n     */\r\n    var modArgs = restParam(function(func, transforms) {\r\n      transforms = baseFlatten(transforms);\r\n      if (typeof func != 'function' || !arrayEvery(transforms, baseIsFunction)) {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      var length = transforms.length;\r\n      return restParam(function(args) {\r\n        var index = nativeMin(args.length, length);\r\n        while (index--) {\r\n          args[index] = transforms[index](args[index]);\r\n        }\r\n        return func.apply(this, args);\r\n      });\r\n    });\r\n\r\n    /**\r\n     * Creates a function that negates the result of the predicate `func`. The\r\n     * `func` predicate is invoked with the `this` binding and arguments of the\r\n     * created function.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} predicate The predicate to negate.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * function isEven(n) {\r\n     *   return n % 2 == 0;\r\n     * }\r\n     *\r\n     * _.filter([1, 2, 3, 4, 5, 6], _.negate(isEven));\r\n     * // => [1, 3, 5]\r\n     */\r\n    function negate(predicate) {\r\n      if (typeof predicate != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      return function() {\r\n        return !predicate.apply(this, arguments);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that is restricted to invoking `func` once. Repeat calls\r\n     * to the function return the value of the first call. The `func` is invoked\r\n     * with the `this` binding and arguments of the created function.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to restrict.\r\n     * @returns {Function} Returns the new restricted function.\r\n     * @example\r\n     *\r\n     * var initialize = _.once(createApplication);\r\n     * initialize();\r\n     * initialize();\r\n     * // `initialize` invokes `createApplication` once\r\n     */\r\n    function once(func) {\r\n      return before(2, func);\r\n    }\r\n\r\n    /**\r\n     * Creates a function that invokes `func` with `partial` arguments prepended\r\n     * to those provided to the new function. This method is like `_.bind` except\r\n     * it does **not** alter the `this` binding.\r\n     *\r\n     * The `_.partial.placeholder` value, which defaults to `_` in monolithic\r\n     * builds, may be used as a placeholder for partially applied arguments.\r\n     *\r\n     * **Note:** This method does not set the \"length\" property of partially\r\n     * applied functions.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to partially apply arguments to.\r\n     * @param {...*} [partials] The arguments to be partially applied.\r\n     * @returns {Function} Returns the new partially applied function.\r\n     * @example\r\n     *\r\n     * var greet = function(greeting, name) {\r\n     *   return greeting + ' ' + name;\r\n     * };\r\n     *\r\n     * var sayHelloTo = _.partial(greet, 'hello');\r\n     * sayHelloTo('fred');\r\n     * // => 'hello fred'\r\n     *\r\n     * // using placeholders\r\n     * var greetFred = _.partial(greet, _, 'fred');\r\n     * greetFred('hi');\r\n     * // => 'hi fred'\r\n     */\r\n    var partial = createPartial(PARTIAL_FLAG);\r\n\r\n    /**\r\n     * This method is like `_.partial` except that partially applied arguments\r\n     * are appended to those provided to the new function.\r\n     *\r\n     * The `_.partialRight.placeholder` value, which defaults to `_` in monolithic\r\n     * builds, may be used as a placeholder for partially applied arguments.\r\n     *\r\n     * **Note:** This method does not set the \"length\" property of partially\r\n     * applied functions.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to partially apply arguments to.\r\n     * @param {...*} [partials] The arguments to be partially applied.\r\n     * @returns {Function} Returns the new partially applied function.\r\n     * @example\r\n     *\r\n     * var greet = function(greeting, name) {\r\n     *   return greeting + ' ' + name;\r\n     * };\r\n     *\r\n     * var greetFred = _.partialRight(greet, 'fred');\r\n     * greetFred('hi');\r\n     * // => 'hi fred'\r\n     *\r\n     * // using placeholders\r\n     * var sayHelloTo = _.partialRight(greet, 'hello', _);\r\n     * sayHelloTo('fred');\r\n     * // => 'hello fred'\r\n     */\r\n    var partialRight = createPartial(PARTIAL_RIGHT_FLAG);\r\n\r\n    /**\r\n     * Creates a function that invokes `func` with arguments arranged according\r\n     * to the specified indexes where the argument value at the first index is\r\n     * provided as the first argument, the argument value at the second index is\r\n     * provided as the second argument, and so on.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to rearrange arguments for.\r\n     * @param {...(number|number[])} indexes The arranged argument indexes,\r\n     *  specified as individual indexes or arrays of indexes.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var rearged = _.rearg(function(a, b, c) {\r\n     *   return [a, b, c];\r\n     * }, 2, 0, 1);\r\n     *\r\n     * rearged('b', 'c', 'a')\r\n     * // => ['a', 'b', 'c']\r\n     *\r\n     * var map = _.rearg(_.map, [1, 0]);\r\n     * map(function(n) {\r\n     *   return n * 3;\r\n     * }, [1, 2, 3]);\r\n     * // => [3, 6, 9]\r\n     */\r\n    var rearg = restParam(function(func, indexes) {\r\n      return createWrapper(func, REARG_FLAG, undefined, undefined, undefined, baseFlatten(indexes));\r\n    });\r\n\r\n    /**\r\n     * Creates a function that invokes `func` with the `this` binding of the\r\n     * created function and arguments from `start` and beyond provided as an array.\r\n     *\r\n     * **Note:** This method is based on the [rest parameter](https://developer.mozilla.org/Web/JavaScript/Reference/Functions/rest_parameters).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to apply a rest parameter to.\r\n     * @param {number} [start=func.length-1] The start position of the rest parameter.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var say = _.restParam(function(what, names) {\r\n     *   return what + ' ' + _.initial(names).join(', ') +\r\n     *     (_.size(names) > 1 ? ', & ' : '') + _.last(names);\r\n     * });\r\n     *\r\n     * say('hello', 'fred', 'barney', 'pebbles');\r\n     * // => 'hello fred, barney, & pebbles'\r\n     */\r\n    function restParam(func, start) {\r\n      if (typeof func != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      start = nativeMax(start === undefined ? (func.length - 1) : (+start || 0), 0);\r\n      return function() {\r\n        var args = arguments,\r\n            index = -1,\r\n            length = nativeMax(args.length - start, 0),\r\n            rest = Array(length);\r\n\r\n        while (++index < length) {\r\n          rest[index] = args[start + index];\r\n        }\r\n        switch (start) {\r\n          case 0: return func.call(this, rest);\r\n          case 1: return func.call(this, args[0], rest);\r\n          case 2: return func.call(this, args[0], args[1], rest);\r\n        }\r\n        var otherArgs = Array(start + 1);\r\n        index = -1;\r\n        while (++index < start) {\r\n          otherArgs[index] = args[index];\r\n        }\r\n        otherArgs[start] = rest;\r\n        return func.apply(this, otherArgs);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a function that invokes `func` with the `this` binding of the created\r\n     * function and an array of arguments much like [`Function#apply`](https://es5.github.io/#x15.3.4.3).\r\n     *\r\n     * **Note:** This method is based on the [spread operator](https://developer.mozilla.org/Web/JavaScript/Reference/Operators/Spread_operator).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to spread arguments over.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var say = _.spread(function(who, what) {\r\n     *   return who + ' says ' + what;\r\n     * });\r\n     *\r\n     * say(['fred', 'hello']);\r\n     * // => 'fred says hello'\r\n     *\r\n     * // with a Promise\r\n     * var numbers = Promise.all([\r\n     *   Promise.resolve(40),\r\n     *   Promise.resolve(36)\r\n     * ]);\r\n     *\r\n     * numbers.then(_.spread(function(x, y) {\r\n     *   return x + y;\r\n     * }));\r\n     * // => a Promise of 76\r\n     */\r\n    function spread(func) {\r\n      if (typeof func != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      return function(array) {\r\n        return func.apply(this, array);\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates a throttled function that only invokes `func` at most once per\r\n     * every `wait` milliseconds. The throttled function comes with a `cancel`\r\n     * method to cancel delayed invocations. Provide an options object to indicate\r\n     * that `func` should be invoked on the leading and/or trailing edge of the\r\n     * `wait` timeout. Subsequent calls to the throttled function return the\r\n     * result of the last `func` call.\r\n     *\r\n     * **Note:** If `leading` and `trailing` options are `true`, `func` is invoked\r\n     * on the trailing edge of the timeout only if the the throttled function is\r\n     * invoked more than once during the `wait` timeout.\r\n     *\r\n     * See [David Corbacho's article](http://drupalmotion.com/article/debounce-and-throttle-visual-explanation)\r\n     * for details over the differences between `_.throttle` and `_.debounce`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {Function} func The function to throttle.\r\n     * @param {number} [wait=0] The number of milliseconds to throttle invocations to.\r\n     * @param {Object} [options] The options object.\r\n     * @param {boolean} [options.leading=true] Specify invoking on the leading\r\n     *  edge of the timeout.\r\n     * @param {boolean} [options.trailing=true] Specify invoking on the trailing\r\n     *  edge of the timeout.\r\n     * @returns {Function} Returns the new throttled function.\r\n     * @example\r\n     *\r\n     * // avoid excessively updating the position while scrolling\r\n     * jQuery(window).on('scroll', _.throttle(updatePosition, 100));\r\n     *\r\n     * // invoke `renewToken` when the click event is fired, but not more than once every 5 minutes\r\n     * jQuery('.interactive').on('click', _.throttle(renewToken, 300000, {\r\n     *   'trailing': false\r\n     * }));\r\n     *\r\n     * // cancel a trailing throttled call\r\n     * jQuery(window).on('popstate', throttled.cancel);\r\n     */\r\n    function throttle(func, wait, options) {\r\n      var leading = true,\r\n          trailing = true;\r\n\r\n      if (typeof func != 'function') {\r\n        throw new TypeError(FUNC_ERROR_TEXT);\r\n      }\r\n      if (options === false) {\r\n        leading = false;\r\n      } else if (isObject(options)) {\r\n        leading = 'leading' in options ? !!options.leading : leading;\r\n        trailing = 'trailing' in options ? !!options.trailing : trailing;\r\n      }\r\n      return debounce(func, wait, { 'leading': leading, 'maxWait': +wait, 'trailing': trailing });\r\n    }\r\n\r\n    /**\r\n     * Creates a function that provides `value` to the wrapper function as its\r\n     * first argument. Any additional arguments provided to the function are\r\n     * appended to those provided to the wrapper function. The wrapper is invoked\r\n     * with the `this` binding of the created function.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Function\r\n     * @param {*} value The value to wrap.\r\n     * @param {Function} wrapper The wrapper function.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var p = _.wrap(_.escape, function(func, text) {\r\n     *   return '<p>' + func(text) + '</p>';\r\n     * });\r\n     *\r\n     * p('fred, barney, & pebbles');\r\n     * // => '<p>fred, barney, &amp; pebbles</p>'\r\n     */\r\n    function wrap(value, wrapper) {\r\n      wrapper = wrapper == null ? identity : wrapper;\r\n      return createWrapper(wrapper, PARTIAL_FLAG, undefined, [value], []);\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Creates a clone of `value`. If `isDeep` is `true` nested objects are cloned,\r\n     * otherwise they are assigned by reference. If `customizer` is provided it's\r\n     * invoked to produce the cloned values. If `customizer` returns `undefined`\r\n     * cloning is handled by the method instead. The `customizer` is bound to\r\n     * `thisArg` and invoked with up to three argument; (value [, index|key, object]).\r\n     *\r\n     * **Note:** This method is loosely based on the\r\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\r\n     * The enumerable properties of `arguments` objects and objects created by\r\n     * constructors other than `Object` are cloned to plain `Object` objects. An\r\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\r\n     * Maps, Sets, and WeakMaps.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to clone.\r\n     * @param {boolean} [isDeep] Specify a deep clone.\r\n     * @param {Function} [customizer] The function to customize cloning values.\r\n     * @param {*} [thisArg] The `this` binding of `customizer`.\r\n     * @returns {*} Returns the cloned value.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney' },\r\n     *   { 'user': 'fred' }\r\n     * ];\r\n     *\r\n     * var shallow = _.clone(users);\r\n     * shallow[0] === users[0];\r\n     * // => true\r\n     *\r\n     * var deep = _.clone(users, true);\r\n     * deep[0] === users[0];\r\n     * // => false\r\n     *\r\n     * // using a customizer callback\r\n     * var el = _.clone(document.body, function(value) {\r\n     *   if (_.isElement(value)) {\r\n     *     return value.cloneNode(false);\r\n     *   }\r\n     * });\r\n     *\r\n     * el === document.body\r\n     * // => false\r\n     * el.nodeName\r\n     * // => BODY\r\n     * el.childNodes.length;\r\n     * // => 0\r\n     */\r\n    function clone(value, isDeep, customizer, thisArg) {\r\n      if (isDeep && typeof isDeep != 'boolean' && isIterateeCall(value, isDeep, customizer)) {\r\n        isDeep = false;\r\n      }\r\n      else if (typeof isDeep == 'function') {\r\n        thisArg = customizer;\r\n        customizer = isDeep;\r\n        isDeep = false;\r\n      }\r\n      return typeof customizer == 'function'\r\n        ? baseClone(value, isDeep, bindCallback(customizer, thisArg, 3))\r\n        : baseClone(value, isDeep);\r\n    }\r\n\r\n    /**\r\n     * Creates a deep clone of `value`. If `customizer` is provided it's invoked\r\n     * to produce the cloned values. If `customizer` returns `undefined` cloning\r\n     * is handled by the method instead. The `customizer` is bound to `thisArg`\r\n     * and invoked with up to three argument; (value [, index|key, object]).\r\n     *\r\n     * **Note:** This method is loosely based on the\r\n     * [structured clone algorithm](http://www.w3.org/TR/html5/infrastructure.html#internal-structured-cloning-algorithm).\r\n     * The enumerable properties of `arguments` objects and objects created by\r\n     * constructors other than `Object` are cloned to plain `Object` objects. An\r\n     * empty object is returned for uncloneable values such as functions, DOM nodes,\r\n     * Maps, Sets, and WeakMaps.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to deep clone.\r\n     * @param {Function} [customizer] The function to customize cloning values.\r\n     * @param {*} [thisArg] The `this` binding of `customizer`.\r\n     * @returns {*} Returns the deep cloned value.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney' },\r\n     *   { 'user': 'fred' }\r\n     * ];\r\n     *\r\n     * var deep = _.cloneDeep(users);\r\n     * deep[0] === users[0];\r\n     * // => false\r\n     *\r\n     * // using a customizer callback\r\n     * var el = _.cloneDeep(document.body, function(value) {\r\n     *   if (_.isElement(value)) {\r\n     *     return value.cloneNode(true);\r\n     *   }\r\n     * });\r\n     *\r\n     * el === document.body\r\n     * // => false\r\n     * el.nodeName\r\n     * // => BODY\r\n     * el.childNodes.length;\r\n     * // => 20\r\n     */\r\n    function cloneDeep(value, customizer, thisArg) {\r\n      return typeof customizer == 'function'\r\n        ? baseClone(value, true, bindCallback(customizer, thisArg, 3))\r\n        : baseClone(value, true);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is greater than `other`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to compare.\r\n     * @param {*} other The other value to compare.\r\n     * @returns {boolean} Returns `true` if `value` is greater than `other`, else `false`.\r\n     * @example\r\n     *\r\n     * _.gt(3, 1);\r\n     * // => true\r\n     *\r\n     * _.gt(3, 3);\r\n     * // => false\r\n     *\r\n     * _.gt(1, 3);\r\n     * // => false\r\n     */\r\n    function gt(value, other) {\r\n      return value > other;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is greater than or equal to `other`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to compare.\r\n     * @param {*} other The other value to compare.\r\n     * @returns {boolean} Returns `true` if `value` is greater than or equal to `other`, else `false`.\r\n     * @example\r\n     *\r\n     * _.gte(3, 1);\r\n     * // => true\r\n     *\r\n     * _.gte(3, 3);\r\n     * // => true\r\n     *\r\n     * _.gte(1, 3);\r\n     * // => false\r\n     */\r\n    function gte(value, other) {\r\n      return value >= other;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as an `arguments` object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isArguments(function() { return arguments; }());\r\n     * // => true\r\n     *\r\n     * _.isArguments([1, 2, 3]);\r\n     * // => false\r\n     */\r\n    function isArguments(value) {\r\n      return isObjectLike(value) && isArrayLike(value) &&\r\n        hasOwnProperty.call(value, 'callee') && !propertyIsEnumerable.call(value, 'callee');\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as an `Array` object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isArray([1, 2, 3]);\r\n     * // => true\r\n     *\r\n     * _.isArray(function() { return arguments; }());\r\n     * // => false\r\n     */\r\n    var isArray = nativeIsArray || function(value) {\r\n      return isObjectLike(value) && isLength(value.length) && objToString.call(value) == arrayTag;\r\n    };\r\n\r\n    /**\r\n     * Checks if `value` is classified as a boolean primitive or object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isBoolean(false);\r\n     * // => true\r\n     *\r\n     * _.isBoolean(null);\r\n     * // => false\r\n     */\r\n    function isBoolean(value) {\r\n      return value === true || value === false || (isObjectLike(value) && objToString.call(value) == boolTag);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as a `Date` object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isDate(new Date);\r\n     * // => true\r\n     *\r\n     * _.isDate('Mon April 23 2012');\r\n     * // => false\r\n     */\r\n    function isDate(value) {\r\n      return isObjectLike(value) && objToString.call(value) == dateTag;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a DOM element.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is a DOM element, else `false`.\r\n     * @example\r\n     *\r\n     * _.isElement(document.body);\r\n     * // => true\r\n     *\r\n     * _.isElement('<body>');\r\n     * // => false\r\n     */\r\n    function isElement(value) {\r\n      return !!value && value.nodeType === 1 && isObjectLike(value) && !isPlainObject(value);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is empty. A value is considered empty unless it's an\r\n     * `arguments` object, array, string, or jQuery-like collection with a length\r\n     * greater than `0` or an object with own enumerable properties.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {Array|Object|string} value The value to inspect.\r\n     * @returns {boolean} Returns `true` if `value` is empty, else `false`.\r\n     * @example\r\n     *\r\n     * _.isEmpty(null);\r\n     * // => true\r\n     *\r\n     * _.isEmpty(true);\r\n     * // => true\r\n     *\r\n     * _.isEmpty(1);\r\n     * // => true\r\n     *\r\n     * _.isEmpty([1, 2, 3]);\r\n     * // => false\r\n     *\r\n     * _.isEmpty({ 'a': 1 });\r\n     * // => false\r\n     */\r\n    function isEmpty(value) {\r\n      if (value == null) {\r\n        return true;\r\n      }\r\n      if (isArrayLike(value) && (isArray(value) || isString(value) || isArguments(value) ||\r\n          (isObjectLike(value) && isFunction(value.splice)))) {\r\n        return !value.length;\r\n      }\r\n      return !keys(value).length;\r\n    }\r\n\r\n    /**\r\n     * Performs a deep comparison between two values to determine if they are\r\n     * equivalent. If `customizer` is provided it's invoked to compare values.\r\n     * If `customizer` returns `undefined` comparisons are handled by the method\r\n     * instead. The `customizer` is bound to `thisArg` and invoked with up to\r\n     * three arguments: (value, other [, index|key]).\r\n     *\r\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\r\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\r\n     * their own, not inherited, enumerable properties. Functions and DOM nodes\r\n     * are **not** supported. Provide a customizer function to extend support\r\n     * for comparing other values.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias eq\r\n     * @category Lang\r\n     * @param {*} value The value to compare.\r\n     * @param {*} other The other value to compare.\r\n     * @param {Function} [customizer] The function to customize value comparisons.\r\n     * @param {*} [thisArg] The `this` binding of `customizer`.\r\n     * @returns {boolean} Returns `true` if the values are equivalent, else `false`.\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred' };\r\n     * var other = { 'user': 'fred' };\r\n     *\r\n     * object == other;\r\n     * // => false\r\n     *\r\n     * _.isEqual(object, other);\r\n     * // => true\r\n     *\r\n     * // using a customizer callback\r\n     * var array = ['hello', 'goodbye'];\r\n     * var other = ['hi', 'goodbye'];\r\n     *\r\n     * _.isEqual(array, other, function(value, other) {\r\n     *   if (_.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/)) {\r\n     *     return true;\r\n     *   }\r\n     * });\r\n     * // => true\r\n     */\r\n    function isEqual(value, other, customizer, thisArg) {\r\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\r\n      var result = customizer ? customizer(value, other) : undefined;\r\n      return  result === undefined ? baseIsEqual(value, other, customizer) : !!result;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is an `Error`, `EvalError`, `RangeError`, `ReferenceError`,\r\n     * `SyntaxError`, `TypeError`, or `URIError` object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is an error object, else `false`.\r\n     * @example\r\n     *\r\n     * _.isError(new Error);\r\n     * // => true\r\n     *\r\n     * _.isError(Error);\r\n     * // => false\r\n     */\r\n    function isError(value) {\r\n      return isObjectLike(value) && typeof value.message == 'string' && objToString.call(value) == errorTag;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a finite primitive number.\r\n     *\r\n     * **Note:** This method is based on [`Number.isFinite`](http://ecma-international.org/ecma-262/6.0/#sec-number.isfinite).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is a finite number, else `false`.\r\n     * @example\r\n     *\r\n     * _.isFinite(10);\r\n     * // => true\r\n     *\r\n     * _.isFinite('10');\r\n     * // => false\r\n     *\r\n     * _.isFinite(true);\r\n     * // => false\r\n     *\r\n     * _.isFinite(Object(10));\r\n     * // => false\r\n     *\r\n     * _.isFinite(Infinity);\r\n     * // => false\r\n     */\r\n    function isFinite(value) {\r\n      return typeof value == 'number' && nativeIsFinite(value);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as a `Function` object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isFunction(_);\r\n     * // => true\r\n     *\r\n     * _.isFunction(/abc/);\r\n     * // => false\r\n     */\r\n    function isFunction(value) {\r\n      // The use of `Object#toString` avoids issues with the `typeof` operator\r\n      // in older versions of Chrome and Safari which return 'function' for regexes\r\n      // and Safari 8 which returns 'object' for typed array constructors.\r\n      return isObject(value) && objToString.call(value) == funcTag;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is the [language type](https://es5.github.io/#x8) of `Object`.\r\n     * (e.g. arrays, functions, objects, regexes, `new Number(0)`, and `new String('')`)\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is an object, else `false`.\r\n     * @example\r\n     *\r\n     * _.isObject({});\r\n     * // => true\r\n     *\r\n     * _.isObject([1, 2, 3]);\r\n     * // => true\r\n     *\r\n     * _.isObject(1);\r\n     * // => false\r\n     */\r\n    function isObject(value) {\r\n      // Avoid a V8 JIT bug in Chrome 19-20.\r\n      // See https://code.google.com/p/v8/issues/detail?id=2291 for more details.\r\n      var type = typeof value;\r\n      return !!value && (type == 'object' || type == 'function');\r\n    }\r\n\r\n    /**\r\n     * Performs a deep comparison between `object` and `source` to determine if\r\n     * `object` contains equivalent property values. If `customizer` is provided\r\n     * it's invoked to compare values. If `customizer` returns `undefined`\r\n     * comparisons are handled by the method instead. The `customizer` is bound\r\n     * to `thisArg` and invoked with three arguments: (value, other, index|key).\r\n     *\r\n     * **Note:** This method supports comparing properties of arrays, booleans,\r\n     * `Date` objects, numbers, `Object` objects, regexes, and strings. Functions\r\n     * and DOM nodes are **not** supported. Provide a customizer function to extend\r\n     * support for comparing other values.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {Object} object The object to inspect.\r\n     * @param {Object} source The object of property values to match.\r\n     * @param {Function} [customizer] The function to customize value comparisons.\r\n     * @param {*} [thisArg] The `this` binding of `customizer`.\r\n     * @returns {boolean} Returns `true` if `object` is a match, else `false`.\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred', 'age': 40 };\r\n     *\r\n     * _.isMatch(object, { 'age': 40 });\r\n     * // => true\r\n     *\r\n     * _.isMatch(object, { 'age': 36 });\r\n     * // => false\r\n     *\r\n     * // using a customizer callback\r\n     * var object = { 'greeting': 'hello' };\r\n     * var source = { 'greeting': 'hi' };\r\n     *\r\n     * _.isMatch(object, source, function(value, other) {\r\n     *   return _.every([value, other], RegExp.prototype.test, /^h(?:i|ello)$/) || undefined;\r\n     * });\r\n     * // => true\r\n     */\r\n    function isMatch(object, source, customizer, thisArg) {\r\n      customizer = typeof customizer == 'function' ? bindCallback(customizer, thisArg, 3) : undefined;\r\n      return baseIsMatch(object, getMatchData(source), customizer);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is `NaN`.\r\n     *\r\n     * **Note:** This method is not the same as [`isNaN`](https://es5.github.io/#x15.1.2.4)\r\n     * which returns `true` for `undefined` and other non-numeric values.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is `NaN`, else `false`.\r\n     * @example\r\n     *\r\n     * _.isNaN(NaN);\r\n     * // => true\r\n     *\r\n     * _.isNaN(new Number(NaN));\r\n     * // => true\r\n     *\r\n     * isNaN(undefined);\r\n     * // => true\r\n     *\r\n     * _.isNaN(undefined);\r\n     * // => false\r\n     */\r\n    function isNaN(value) {\r\n      // An `NaN` primitive is the only value that is not equal to itself.\r\n      // Perform the `toStringTag` check first to avoid errors with some host objects in IE.\r\n      return isNumber(value) && value != +value;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a native function.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is a native function, else `false`.\r\n     * @example\r\n     *\r\n     * _.isNative(Array.prototype.push);\r\n     * // => true\r\n     *\r\n     * _.isNative(_);\r\n     * // => false\r\n     */\r\n    function isNative(value) {\r\n      if (value == null) {\r\n        return false;\r\n      }\r\n      if (isFunction(value)) {\r\n        return reIsNative.test(fnToString.call(value));\r\n      }\r\n      return isObjectLike(value) && reIsHostCtor.test(value);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is `null`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is `null`, else `false`.\r\n     * @example\r\n     *\r\n     * _.isNull(null);\r\n     * // => true\r\n     *\r\n     * _.isNull(void 0);\r\n     * // => false\r\n     */\r\n    function isNull(value) {\r\n      return value === null;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as a `Number` primitive or object.\r\n     *\r\n     * **Note:** To exclude `Infinity`, `-Infinity`, and `NaN`, which are classified\r\n     * as numbers, use the `_.isFinite` method.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isNumber(8.4);\r\n     * // => true\r\n     *\r\n     * _.isNumber(NaN);\r\n     * // => true\r\n     *\r\n     * _.isNumber('8.4');\r\n     * // => false\r\n     */\r\n    function isNumber(value) {\r\n      return typeof value == 'number' || (isObjectLike(value) && objToString.call(value) == numberTag);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is a plain object, that is, an object created by the\r\n     * `Object` constructor or one with a `[[Prototype]]` of `null`.\r\n     *\r\n     * **Note:** This method assumes objects created by the `Object` constructor\r\n     * have no inherited enumerable properties.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is a plain object, else `false`.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     * }\r\n     *\r\n     * _.isPlainObject(new Foo);\r\n     * // => false\r\n     *\r\n     * _.isPlainObject([1, 2, 3]);\r\n     * // => false\r\n     *\r\n     * _.isPlainObject({ 'x': 0, 'y': 0 });\r\n     * // => true\r\n     *\r\n     * _.isPlainObject(Object.create(null));\r\n     * // => true\r\n     */\r\n    function isPlainObject(value) {\r\n      var Ctor;\r\n\r\n      // Exit early for non `Object` objects.\r\n      if (!(isObjectLike(value) && objToString.call(value) == objectTag && !isArguments(value)) ||\r\n          (!hasOwnProperty.call(value, 'constructor') && (Ctor = value.constructor, typeof Ctor == 'function' && !(Ctor instanceof Ctor)))) {\r\n        return false;\r\n      }\r\n      // IE < 9 iterates inherited properties before own properties. If the first\r\n      // iterated property is an object's own property then there are no inherited\r\n      // enumerable properties.\r\n      var result;\r\n      // In most environments an object's own properties are iterated before\r\n      // its inherited properties. If the last iterated property is an object's\r\n      // own property then there are no inherited enumerable properties.\r\n      baseForIn(value, function(subValue, key) {\r\n        result = key;\r\n      });\r\n      return result === undefined || hasOwnProperty.call(value, result);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as a `RegExp` object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isRegExp(/abc/);\r\n     * // => true\r\n     *\r\n     * _.isRegExp('/abc/');\r\n     * // => false\r\n     */\r\n    function isRegExp(value) {\r\n      return isObject(value) && objToString.call(value) == regexpTag;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as a `String` primitive or object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isString('abc');\r\n     * // => true\r\n     *\r\n     * _.isString(1);\r\n     * // => false\r\n     */\r\n    function isString(value) {\r\n      return typeof value == 'string' || (isObjectLike(value) && objToString.call(value) == stringTag);\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is classified as a typed array.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is correctly classified, else `false`.\r\n     * @example\r\n     *\r\n     * _.isTypedArray(new Uint8Array);\r\n     * // => true\r\n     *\r\n     * _.isTypedArray([]);\r\n     * // => false\r\n     */\r\n    function isTypedArray(value) {\r\n      return isObjectLike(value) && isLength(value.length) && !!typedArrayTags[objToString.call(value)];\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is `undefined`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to check.\r\n     * @returns {boolean} Returns `true` if `value` is `undefined`, else `false`.\r\n     * @example\r\n     *\r\n     * _.isUndefined(void 0);\r\n     * // => true\r\n     *\r\n     * _.isUndefined(null);\r\n     * // => false\r\n     */\r\n    function isUndefined(value) {\r\n      return value === undefined;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is less than `other`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to compare.\r\n     * @param {*} other The other value to compare.\r\n     * @returns {boolean} Returns `true` if `value` is less than `other`, else `false`.\r\n     * @example\r\n     *\r\n     * _.lt(1, 3);\r\n     * // => true\r\n     *\r\n     * _.lt(3, 3);\r\n     * // => false\r\n     *\r\n     * _.lt(3, 1);\r\n     * // => false\r\n     */\r\n    function lt(value, other) {\r\n      return value < other;\r\n    }\r\n\r\n    /**\r\n     * Checks if `value` is less than or equal to `other`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to compare.\r\n     * @param {*} other The other value to compare.\r\n     * @returns {boolean} Returns `true` if `value` is less than or equal to `other`, else `false`.\r\n     * @example\r\n     *\r\n     * _.lte(1, 3);\r\n     * // => true\r\n     *\r\n     * _.lte(3, 3);\r\n     * // => true\r\n     *\r\n     * _.lte(3, 1);\r\n     * // => false\r\n     */\r\n    function lte(value, other) {\r\n      return value <= other;\r\n    }\r\n\r\n    /**\r\n     * Converts `value` to an array.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to convert.\r\n     * @returns {Array} Returns the converted array.\r\n     * @example\r\n     *\r\n     * (function() {\r\n     *   return _.toArray(arguments).slice(1);\r\n     * }(1, 2, 3));\r\n     * // => [2, 3]\r\n     */\r\n    function toArray(value) {\r\n      var length = value ? getLength(value) : 0;\r\n      if (!isLength(length)) {\r\n        return values(value);\r\n      }\r\n      if (!length) {\r\n        return [];\r\n      }\r\n      return arrayCopy(value);\r\n    }\r\n\r\n    /**\r\n     * Converts `value` to a plain object flattening inherited enumerable\r\n     * properties of `value` to own properties of the plain object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Lang\r\n     * @param {*} value The value to convert.\r\n     * @returns {Object} Returns the converted plain object.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.assign({ 'a': 1 }, new Foo);\r\n     * // => { 'a': 1, 'b': 2 }\r\n     *\r\n     * _.assign({ 'a': 1 }, _.toPlainObject(new Foo));\r\n     * // => { 'a': 1, 'b': 2, 'c': 3 }\r\n     */\r\n    function toPlainObject(value) {\r\n      return baseCopy(value, keysIn(value));\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Recursively merges own enumerable properties of the source object(s), that\r\n     * don't resolve to `undefined` into the destination object. Subsequent sources\r\n     * overwrite property assignments of previous sources. If `customizer` is\r\n     * provided it's invoked to produce the merged values of the destination and\r\n     * source properties. If `customizer` returns `undefined` merging is handled\r\n     * by the method instead. The `customizer` is bound to `thisArg` and invoked\r\n     * with five arguments: (objectValue, sourceValue, key, object, source).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The destination object.\r\n     * @param {...Object} [sources] The source objects.\r\n     * @param {Function} [customizer] The function to customize assigned values.\r\n     * @param {*} [thisArg] The `this` binding of `customizer`.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * var users = {\r\n     *   'data': [{ 'user': 'barney' }, { 'user': 'fred' }]\r\n     * };\r\n     *\r\n     * var ages = {\r\n     *   'data': [{ 'age': 36 }, { 'age': 40 }]\r\n     * };\r\n     *\r\n     * _.merge(users, ages);\r\n     * // => { 'data': [{ 'user': 'barney', 'age': 36 }, { 'user': 'fred', 'age': 40 }] }\r\n     *\r\n     * // using a customizer callback\r\n     * var object = {\r\n     *   'fruits': ['apple'],\r\n     *   'vegetables': ['beet']\r\n     * };\r\n     *\r\n     * var other = {\r\n     *   'fruits': ['banana'],\r\n     *   'vegetables': ['carrot']\r\n     * };\r\n     *\r\n     * _.merge(object, other, function(a, b) {\r\n     *   if (_.isArray(a)) {\r\n     *     return a.concat(b);\r\n     *   }\r\n     * });\r\n     * // => { 'fruits': ['apple', 'banana'], 'vegetables': ['beet', 'carrot'] }\r\n     */\r\n    var merge = createAssigner(baseMerge);\r\n\r\n    /**\r\n     * Assigns own enumerable properties of source object(s) to the destination\r\n     * object. Subsequent sources overwrite property assignments of previous sources.\r\n     * If `customizer` is provided it's invoked to produce the assigned values.\r\n     * The `customizer` is bound to `thisArg` and invoked with five arguments:\r\n     * (objectValue, sourceValue, key, object, source).\r\n     *\r\n     * **Note:** This method mutates `object` and is based on\r\n     * [`Object.assign`](http://ecma-international.org/ecma-262/6.0/#sec-object.assign).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias extend\r\n     * @category Object\r\n     * @param {Object} object The destination object.\r\n     * @param {...Object} [sources] The source objects.\r\n     * @param {Function} [customizer] The function to customize assigned values.\r\n     * @param {*} [thisArg] The `this` binding of `customizer`.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * _.assign({ 'user': 'barney' }, { 'age': 40 }, { 'user': 'fred' });\r\n     * // => { 'user': 'fred', 'age': 40 }\r\n     *\r\n     * // using a customizer callback\r\n     * var defaults = _.partialRight(_.assign, function(value, other) {\r\n     *   return _.isUndefined(value) ? other : value;\r\n     * });\r\n     *\r\n     * defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\r\n     * // => { 'user': 'barney', 'age': 36 }\r\n     */\r\n    var assign = createAssigner(function(object, source, customizer) {\r\n      return customizer\r\n        ? assignWith(object, source, customizer)\r\n        : baseAssign(object, source);\r\n    });\r\n\r\n    /**\r\n     * Creates an object that inherits from the given `prototype` object. If a\r\n     * `properties` object is provided its own enumerable properties are assigned\r\n     * to the created object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} prototype The object to inherit from.\r\n     * @param {Object} [properties] The properties to assign to the object.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Object} Returns the new object.\r\n     * @example\r\n     *\r\n     * function Shape() {\r\n     *   this.x = 0;\r\n     *   this.y = 0;\r\n     * }\r\n     *\r\n     * function Circle() {\r\n     *   Shape.call(this);\r\n     * }\r\n     *\r\n     * Circle.prototype = _.create(Shape.prototype, {\r\n     *   'constructor': Circle\r\n     * });\r\n     *\r\n     * var circle = new Circle;\r\n     * circle instanceof Circle;\r\n     * // => true\r\n     *\r\n     * circle instanceof Shape;\r\n     * // => true\r\n     */\r\n    function create(prototype, properties, guard) {\r\n      var result = baseCreate(prototype);\r\n      if (guard && isIterateeCall(prototype, properties, guard)) {\r\n        properties = undefined;\r\n      }\r\n      return properties ? baseAssign(result, properties) : result;\r\n    }\r\n\r\n    /**\r\n     * Assigns own enumerable properties of source object(s) to the destination\r\n     * object for all destination properties that resolve to `undefined`. Once a\r\n     * property is set, additional values of the same property are ignored.\r\n     *\r\n     * **Note:** This method mutates `object`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The destination object.\r\n     * @param {...Object} [sources] The source objects.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * _.defaults({ 'user': 'barney' }, { 'age': 36 }, { 'user': 'fred' });\r\n     * // => { 'user': 'barney', 'age': 36 }\r\n     */\r\n    var defaults = createDefaults(assign, assignDefaults);\r\n\r\n    /**\r\n     * This method is like `_.defaults` except that it recursively assigns\r\n     * default properties.\r\n     *\r\n     * **Note:** This method mutates `object`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The destination object.\r\n     * @param {...Object} [sources] The source objects.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * _.defaultsDeep({ 'user': { 'name': 'barney' } }, { 'user': { 'name': 'fred', 'age': 36 } });\r\n     * // => { 'user': { 'name': 'barney', 'age': 36 } }\r\n     *\r\n     */\r\n    var defaultsDeep = createDefaults(merge, mergeDefaults);\r\n\r\n    /**\r\n     * This method is like `_.find` except that it returns the key of the first\r\n     * element `predicate` returns truthy for instead of the element itself.\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to search.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\r\n     * @example\r\n     *\r\n     * var users = {\r\n     *   'barney':  { 'age': 36, 'active': true },\r\n     *   'fred':    { 'age': 40, 'active': false },\r\n     *   'pebbles': { 'age': 1,  'active': true }\r\n     * };\r\n     *\r\n     * _.findKey(users, function(chr) {\r\n     *   return chr.age < 40;\r\n     * });\r\n     * // => 'barney' (iteration order is not guaranteed)\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.findKey(users, { 'age': 1, 'active': true });\r\n     * // => 'pebbles'\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.findKey(users, 'active', false);\r\n     * // => 'fred'\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.findKey(users, 'active');\r\n     * // => 'barney'\r\n     */\r\n    var findKey = createFindKey(baseForOwn);\r\n\r\n    /**\r\n     * This method is like `_.findKey` except that it iterates over elements of\r\n     * a collection in the opposite order.\r\n     *\r\n     * If a property name is provided for `predicate` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `predicate` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to search.\r\n     * @param {Function|Object|string} [predicate=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {string|undefined} Returns the key of the matched element, else `undefined`.\r\n     * @example\r\n     *\r\n     * var users = {\r\n     *   'barney':  { 'age': 36, 'active': true },\r\n     *   'fred':    { 'age': 40, 'active': false },\r\n     *   'pebbles': { 'age': 1,  'active': true }\r\n     * };\r\n     *\r\n     * _.findLastKey(users, function(chr) {\r\n     *   return chr.age < 40;\r\n     * });\r\n     * // => returns `pebbles` assuming `_.findKey` returns `barney`\r\n     *\r\n     * // using the `_.matches` callback shorthand\r\n     * _.findLastKey(users, { 'age': 36, 'active': true });\r\n     * // => 'barney'\r\n     *\r\n     * // using the `_.matchesProperty` callback shorthand\r\n     * _.findLastKey(users, 'active', false);\r\n     * // => 'fred'\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.findLastKey(users, 'active');\r\n     * // => 'pebbles'\r\n     */\r\n    var findLastKey = createFindKey(baseForOwnRight);\r\n\r\n    /**\r\n     * Iterates over own and inherited enumerable properties of an object invoking\r\n     * `iteratee` for each property. The `iteratee` is bound to `thisArg` and invoked\r\n     * with three arguments: (value, key, object). Iteratee functions may exit\r\n     * iteration early by explicitly returning `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.forIn(new Foo, function(value, key) {\r\n     *   console.log(key);\r\n     * });\r\n     * // => logs 'a', 'b', and 'c' (iteration order is not guaranteed)\r\n     */\r\n    var forIn = createForIn(baseFor);\r\n\r\n    /**\r\n     * This method is like `_.forIn` except that it iterates over properties of\r\n     * `object` in the opposite order.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.forInRight(new Foo, function(value, key) {\r\n     *   console.log(key);\r\n     * });\r\n     * // => logs 'c', 'b', and 'a' assuming `_.forIn ` logs 'a', 'b', and 'c'\r\n     */\r\n    var forInRight = createForIn(baseForRight);\r\n\r\n    /**\r\n     * Iterates over own enumerable properties of an object invoking `iteratee`\r\n     * for each property. The `iteratee` is bound to `thisArg` and invoked with\r\n     * three arguments: (value, key, object). Iteratee functions may exit iteration\r\n     * early by explicitly returning `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.forOwn(new Foo, function(value, key) {\r\n     *   console.log(key);\r\n     * });\r\n     * // => logs 'a' and 'b' (iteration order is not guaranteed)\r\n     */\r\n    var forOwn = createForOwn(baseForOwn);\r\n\r\n    /**\r\n     * This method is like `_.forOwn` except that it iterates over properties of\r\n     * `object` in the opposite order.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.forOwnRight(new Foo, function(value, key) {\r\n     *   console.log(key);\r\n     * });\r\n     * // => logs 'b' and 'a' assuming `_.forOwn` logs 'a' and 'b'\r\n     */\r\n    var forOwnRight = createForOwn(baseForOwnRight);\r\n\r\n    /**\r\n     * Creates an array of function property names from all enumerable properties,\r\n     * own and inherited, of `object`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias methods\r\n     * @category Object\r\n     * @param {Object} object The object to inspect.\r\n     * @returns {Array} Returns the new array of property names.\r\n     * @example\r\n     *\r\n     * _.functions(_);\r\n     * // => ['after', 'ary', 'assign', ...]\r\n     */\r\n    function functions(object) {\r\n      return baseFunctions(object, keysIn(object));\r\n    }\r\n\r\n    /**\r\n     * Gets the property value at `path` of `object`. If the resolved value is\r\n     * `undefined` the `defaultValue` is used in its place.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @param {Array|string} path The path of the property to get.\r\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\r\n     * @returns {*} Returns the resolved value.\r\n     * @example\r\n     *\r\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\r\n     *\r\n     * _.get(object, 'a[0].b.c');\r\n     * // => 3\r\n     *\r\n     * _.get(object, ['a', '0', 'b', 'c']);\r\n     * // => 3\r\n     *\r\n     * _.get(object, 'a.b.c', 'default');\r\n     * // => 'default'\r\n     */\r\n    function get(object, path, defaultValue) {\r\n      var result = object == null ? undefined : baseGet(object, toPath(path), (path + ''));\r\n      return result === undefined ? defaultValue : result;\r\n    }\r\n\r\n    /**\r\n     * Checks if `path` is a direct property.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @param {Array|string} path The path to check.\r\n     * @returns {boolean} Returns `true` if `path` is a direct property, else `false`.\r\n     * @example\r\n     *\r\n     * var object = { 'a': { 'b': { 'c': 3 } } };\r\n     *\r\n     * _.has(object, 'a');\r\n     * // => true\r\n     *\r\n     * _.has(object, 'a.b.c');\r\n     * // => true\r\n     *\r\n     * _.has(object, ['a', 'b', 'c']);\r\n     * // => true\r\n     */\r\n    function has(object, path) {\r\n      if (object == null) {\r\n        return false;\r\n      }\r\n      var result = hasOwnProperty.call(object, path);\r\n      if (!result && !isKey(path)) {\r\n        path = toPath(path);\r\n        object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n        if (object == null) {\r\n          return false;\r\n        }\r\n        path = last(path);\r\n        result = hasOwnProperty.call(object, path);\r\n      }\r\n      return result || (isLength(object.length) && isIndex(path, object.length) &&\r\n        (isArray(object) || isArguments(object)));\r\n    }\r\n\r\n    /**\r\n     * Creates an object composed of the inverted keys and values of `object`.\r\n     * If `object` contains duplicate values, subsequent values overwrite property\r\n     * assignments of previous values unless `multiValue` is `true`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to invert.\r\n     * @param {boolean} [multiValue] Allow multiple values per key.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Object} Returns the new inverted object.\r\n     * @example\r\n     *\r\n     * var object = { 'a': 1, 'b': 2, 'c': 1 };\r\n     *\r\n     * _.invert(object);\r\n     * // => { '1': 'c', '2': 'b' }\r\n     *\r\n     * // with `multiValue`\r\n     * _.invert(object, true);\r\n     * // => { '1': ['a', 'c'], '2': ['b'] }\r\n     */\r\n    function invert(object, multiValue, guard) {\r\n      if (guard && isIterateeCall(object, multiValue, guard)) {\r\n        multiValue = undefined;\r\n      }\r\n      var index = -1,\r\n          props = keys(object),\r\n          length = props.length,\r\n          result = {};\r\n\r\n      while (++index < length) {\r\n        var key = props[index],\r\n            value = object[key];\r\n\r\n        if (multiValue) {\r\n          if (hasOwnProperty.call(result, value)) {\r\n            result[value].push(key);\r\n          } else {\r\n            result[value] = [key];\r\n          }\r\n        }\r\n        else {\r\n          result[value] = key;\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates an array of the own enumerable property names of `object`.\r\n     *\r\n     * **Note:** Non-object values are coerced to objects. See the\r\n     * [ES spec](http://ecma-international.org/ecma-262/6.0/#sec-object.keys)\r\n     * for more details.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the array of property names.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.keys(new Foo);\r\n     * // => ['a', 'b'] (iteration order is not guaranteed)\r\n     *\r\n     * _.keys('hi');\r\n     * // => ['0', '1']\r\n     */\r\n    var keys = !nativeKeys ? shimKeys : function(object) {\r\n      var Ctor = object == null ? undefined : object.constructor;\r\n      if ((typeof Ctor == 'function' && Ctor.prototype === object) ||\r\n          (typeof object != 'function' && isArrayLike(object))) {\r\n        return shimKeys(object);\r\n      }\r\n      return isObject(object) ? nativeKeys(object) : [];\r\n    };\r\n\r\n    /**\r\n     * Creates an array of the own and inherited enumerable property names of `object`.\r\n     *\r\n     * **Note:** Non-object values are coerced to objects.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the array of property names.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.keysIn(new Foo);\r\n     * // => ['a', 'b', 'c'] (iteration order is not guaranteed)\r\n     */\r\n    function keysIn(object) {\r\n      if (object == null) {\r\n        return [];\r\n      }\r\n      if (!isObject(object)) {\r\n        object = Object(object);\r\n      }\r\n      var length = object.length;\r\n      length = (length && isLength(length) &&\r\n        (isArray(object) || isArguments(object)) && length) || 0;\r\n\r\n      var Ctor = object.constructor,\r\n          index = -1,\r\n          isProto = typeof Ctor == 'function' && Ctor.prototype === object,\r\n          result = Array(length),\r\n          skipIndexes = length > 0;\r\n\r\n      while (++index < length) {\r\n        result[index] = (index + '');\r\n      }\r\n      for (var key in object) {\r\n        if (!(skipIndexes && isIndex(key, length)) &&\r\n            !(key == 'constructor' && (isProto || !hasOwnProperty.call(object, key)))) {\r\n          result.push(key);\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * The opposite of `_.mapValues`; this method creates an object with the\r\n     * same values as `object` and keys generated by running each own enumerable\r\n     * property of `object` through `iteratee`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns the new mapped object.\r\n     * @example\r\n     *\r\n     * _.mapKeys({ 'a': 1, 'b': 2 }, function(value, key) {\r\n     *   return key + value;\r\n     * });\r\n     * // => { 'a1': 1, 'b2': 2 }\r\n     */\r\n    var mapKeys = createObjectMapper(true);\r\n\r\n    /**\r\n     * Creates an object with the same keys as `object` and values generated by\r\n     * running each own enumerable property of `object` through `iteratee`. The\r\n     * iteratee function is bound to `thisArg` and invoked with three arguments:\r\n     * (value, key, object).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to iterate over.\r\n     * @param {Function|Object|string} [iteratee=_.identity] The function invoked\r\n     *  per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Object} Returns the new mapped object.\r\n     * @example\r\n     *\r\n     * _.mapValues({ 'a': 1, 'b': 2 }, function(n) {\r\n     *   return n * 3;\r\n     * });\r\n     * // => { 'a': 3, 'b': 6 }\r\n     *\r\n     * var users = {\r\n     *   'fred':    { 'user': 'fred',    'age': 40 },\r\n     *   'pebbles': { 'user': 'pebbles', 'age': 1 }\r\n     * };\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.mapValues(users, 'age');\r\n     * // => { 'fred': 40, 'pebbles': 1 } (iteration order is not guaranteed)\r\n     */\r\n    var mapValues = createObjectMapper();\r\n\r\n    /**\r\n     * The opposite of `_.pick`; this method creates an object composed of the\r\n     * own and inherited enumerable properties of `object` that are not omitted.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The source object.\r\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\r\n     *  iteration or property names to omit, specified as individual property\r\n     *  names or arrays of property names.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Object} Returns the new object.\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred', 'age': 40 };\r\n     *\r\n     * _.omit(object, 'age');\r\n     * // => { 'user': 'fred' }\r\n     *\r\n     * _.omit(object, _.isNumber);\r\n     * // => { 'user': 'fred' }\r\n     */\r\n    var omit = restParam(function(object, props) {\r\n      if (object == null) {\r\n        return {};\r\n      }\r\n      if (typeof props[0] != 'function') {\r\n        var props = arrayMap(baseFlatten(props), String);\r\n        return pickByArray(object, baseDifference(keysIn(object), props));\r\n      }\r\n      var predicate = bindCallback(props[0], props[1], 3);\r\n      return pickByCallback(object, function(value, key, object) {\r\n        return !predicate(value, key, object);\r\n      });\r\n    });\r\n\r\n    /**\r\n     * Creates a two dimensional array of the key-value pairs for `object`,\r\n     * e.g. `[[key1, value1], [key2, value2]]`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the new array of key-value pairs.\r\n     * @example\r\n     *\r\n     * _.pairs({ 'barney': 36, 'fred': 40 });\r\n     * // => [['barney', 36], ['fred', 40]] (iteration order is not guaranteed)\r\n     */\r\n    function pairs(object) {\r\n      object = toObject(object);\r\n\r\n      var index = -1,\r\n          props = keys(object),\r\n          length = props.length,\r\n          result = Array(length);\r\n\r\n      while (++index < length) {\r\n        var key = props[index];\r\n        result[index] = [key, object[key]];\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Creates an object composed of the picked `object` properties. Property\r\n     * names may be specified as individual arguments or as arrays of property\r\n     * names. If `predicate` is provided it's invoked for each property of `object`\r\n     * picking the properties `predicate` returns truthy for. The predicate is\r\n     * bound to `thisArg` and invoked with three arguments: (value, key, object).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The source object.\r\n     * @param {Function|...(string|string[])} [predicate] The function invoked per\r\n     *  iteration or property names to pick, specified as individual property\r\n     *  names or arrays of property names.\r\n     * @param {*} [thisArg] The `this` binding of `predicate`.\r\n     * @returns {Object} Returns the new object.\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred', 'age': 40 };\r\n     *\r\n     * _.pick(object, 'user');\r\n     * // => { 'user': 'fred' }\r\n     *\r\n     * _.pick(object, _.isString);\r\n     * // => { 'user': 'fred' }\r\n     */\r\n    var pick = restParam(function(object, props) {\r\n      if (object == null) {\r\n        return {};\r\n      }\r\n      return typeof props[0] == 'function'\r\n        ? pickByCallback(object, bindCallback(props[0], props[1], 3))\r\n        : pickByArray(object, baseFlatten(props));\r\n    });\r\n\r\n    /**\r\n     * This method is like `_.get` except that if the resolved value is a function\r\n     * it's invoked with the `this` binding of its parent object and its result\r\n     * is returned.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @param {Array|string} path The path of the property to resolve.\r\n     * @param {*} [defaultValue] The value returned if the resolved value is `undefined`.\r\n     * @returns {*} Returns the resolved value.\r\n     * @example\r\n     *\r\n     * var object = { 'a': [{ 'b': { 'c1': 3, 'c2': _.constant(4) } }] };\r\n     *\r\n     * _.result(object, 'a[0].b.c1');\r\n     * // => 3\r\n     *\r\n     * _.result(object, 'a[0].b.c2');\r\n     * // => 4\r\n     *\r\n     * _.result(object, 'a.b.c', 'default');\r\n     * // => 'default'\r\n     *\r\n     * _.result(object, 'a.b.c', _.constant('default'));\r\n     * // => 'default'\r\n     */\r\n    function result(object, path, defaultValue) {\r\n      var result = object == null ? undefined : object[path];\r\n      if (result === undefined) {\r\n        if (object != null && !isKey(path, object)) {\r\n          path = toPath(path);\r\n          object = path.length == 1 ? object : baseGet(object, baseSlice(path, 0, -1));\r\n          result = object == null ? undefined : object[last(path)];\r\n        }\r\n        result = result === undefined ? defaultValue : result;\r\n      }\r\n      return isFunction(result) ? result.call(object) : result;\r\n    }\r\n\r\n    /**\r\n     * Sets the property value of `path` on `object`. If a portion of `path`\r\n     * does not exist it's created.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to augment.\r\n     * @param {Array|string} path The path of the property to set.\r\n     * @param {*} value The value to set.\r\n     * @returns {Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * var object = { 'a': [{ 'b': { 'c': 3 } }] };\r\n     *\r\n     * _.set(object, 'a[0].b.c', 4);\r\n     * console.log(object.a[0].b.c);\r\n     * // => 4\r\n     *\r\n     * _.set(object, 'x[0].y.z', 5);\r\n     * console.log(object.x[0].y.z);\r\n     * // => 5\r\n     */\r\n    function set(object, path, value) {\r\n      if (object == null) {\r\n        return object;\r\n      }\r\n      var pathKey = (path + '');\r\n      path = (object[pathKey] != null || isKey(path, object)) ? [pathKey] : toPath(path);\r\n\r\n      var index = -1,\r\n          length = path.length,\r\n          lastIndex = length - 1,\r\n          nested = object;\r\n\r\n      while (nested != null && ++index < length) {\r\n        var key = path[index];\r\n        if (isObject(nested)) {\r\n          if (index == lastIndex) {\r\n            nested[key] = value;\r\n          } else if (nested[key] == null) {\r\n            nested[key] = isIndex(path[index + 1]) ? [] : {};\r\n          }\r\n        }\r\n        nested = nested[key];\r\n      }\r\n      return object;\r\n    }\r\n\r\n    /**\r\n     * An alternative to `_.reduce`; this method transforms `object` to a new\r\n     * `accumulator` object which is the result of running each of its own enumerable\r\n     * properties through `iteratee`, with each invocation potentially mutating\r\n     * the `accumulator` object. The `iteratee` is bound to `thisArg` and invoked\r\n     * with four arguments: (accumulator, value, key, object). Iteratee functions\r\n     * may exit iteration early by explicitly returning `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Array|Object} object The object to iterate over.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [accumulator] The custom accumulator value.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {*} Returns the accumulated value.\r\n     * @example\r\n     *\r\n     * _.transform([2, 3, 4], function(result, n) {\r\n     *   result.push(n *= n);\r\n     *   return n % 2 == 0;\r\n     * });\r\n     * // => [4, 9]\r\n     *\r\n     * _.transform({ 'a': 1, 'b': 2 }, function(result, n, key) {\r\n     *   result[key] = n * 3;\r\n     * });\r\n     * // => { 'a': 3, 'b': 6 }\r\n     */\r\n    function transform(object, iteratee, accumulator, thisArg) {\r\n      var isArr = isArray(object) || isTypedArray(object);\r\n      iteratee = getCallback(iteratee, thisArg, 4);\r\n\r\n      if (accumulator == null) {\r\n        if (isArr || isObject(object)) {\r\n          var Ctor = object.constructor;\r\n          if (isArr) {\r\n            accumulator = isArray(object) ? new Ctor : [];\r\n          } else {\r\n            accumulator = baseCreate(isFunction(Ctor) ? Ctor.prototype : undefined);\r\n          }\r\n        } else {\r\n          accumulator = {};\r\n        }\r\n      }\r\n      (isArr ? arrayEach : baseForOwn)(object, function(value, index, object) {\r\n        return iteratee(accumulator, value, index, object);\r\n      });\r\n      return accumulator;\r\n    }\r\n\r\n    /**\r\n     * Creates an array of the own enumerable property values of `object`.\r\n     *\r\n     * **Note:** Non-object values are coerced to objects.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the array of property values.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.values(new Foo);\r\n     * // => [1, 2] (iteration order is not guaranteed)\r\n     *\r\n     * _.values('hi');\r\n     * // => ['h', 'i']\r\n     */\r\n    function values(object) {\r\n      return baseValues(object, keys(object));\r\n    }\r\n\r\n    /**\r\n     * Creates an array of the own and inherited enumerable property values\r\n     * of `object`.\r\n     *\r\n     * **Note:** Non-object values are coerced to objects.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Object\r\n     * @param {Object} object The object to query.\r\n     * @returns {Array} Returns the array of property values.\r\n     * @example\r\n     *\r\n     * function Foo() {\r\n     *   this.a = 1;\r\n     *   this.b = 2;\r\n     * }\r\n     *\r\n     * Foo.prototype.c = 3;\r\n     *\r\n     * _.valuesIn(new Foo);\r\n     * // => [1, 2, 3] (iteration order is not guaranteed)\r\n     */\r\n    function valuesIn(object) {\r\n      return baseValues(object, keysIn(object));\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Checks if `n` is between `start` and up to but not including, `end`. If\r\n     * `end` is not specified it's set to `start` with `start` then set to `0`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Number\r\n     * @param {number} n The number to check.\r\n     * @param {number} [start=0] The start of the range.\r\n     * @param {number} end The end of the range.\r\n     * @returns {boolean} Returns `true` if `n` is in the range, else `false`.\r\n     * @example\r\n     *\r\n     * _.inRange(3, 2, 4);\r\n     * // => true\r\n     *\r\n     * _.inRange(4, 8);\r\n     * // => true\r\n     *\r\n     * _.inRange(4, 2);\r\n     * // => false\r\n     *\r\n     * _.inRange(2, 2);\r\n     * // => false\r\n     *\r\n     * _.inRange(1.2, 2);\r\n     * // => true\r\n     *\r\n     * _.inRange(5.2, 4);\r\n     * // => false\r\n     */\r\n    function inRange(value, start, end) {\r\n      start = +start || 0;\r\n      if (end === undefined) {\r\n        end = start;\r\n        start = 0;\r\n      } else {\r\n        end = +end || 0;\r\n      }\r\n      return value >= nativeMin(start, end) && value < nativeMax(start, end);\r\n    }\r\n\r\n    /**\r\n     * Produces a random number between `min` and `max` (inclusive). If only one\r\n     * argument is provided a number between `0` and the given number is returned.\r\n     * If `floating` is `true`, or either `min` or `max` are floats, a floating-point\r\n     * number is returned instead of an integer.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Number\r\n     * @param {number} [min=0] The minimum possible value.\r\n     * @param {number} [max=1] The maximum possible value.\r\n     * @param {boolean} [floating] Specify returning a floating-point number.\r\n     * @returns {number} Returns the random number.\r\n     * @example\r\n     *\r\n     * _.random(0, 5);\r\n     * // => an integer between 0 and 5\r\n     *\r\n     * _.random(5);\r\n     * // => also an integer between 0 and 5\r\n     *\r\n     * _.random(5, true);\r\n     * // => a floating-point number between 0 and 5\r\n     *\r\n     * _.random(1.2, 5.2);\r\n     * // => a floating-point number between 1.2 and 5.2\r\n     */\r\n    function random(min, max, floating) {\r\n      if (floating && isIterateeCall(min, max, floating)) {\r\n        max = floating = undefined;\r\n      }\r\n      var noMin = min == null,\r\n          noMax = max == null;\r\n\r\n      if (floating == null) {\r\n        if (noMax && typeof min == 'boolean') {\r\n          floating = min;\r\n          min = 1;\r\n        }\r\n        else if (typeof max == 'boolean') {\r\n          floating = max;\r\n          noMax = true;\r\n        }\r\n      }\r\n      if (noMin && noMax) {\r\n        max = 1;\r\n        noMax = false;\r\n      }\r\n      min = +min || 0;\r\n      if (noMax) {\r\n        max = min;\r\n        min = 0;\r\n      } else {\r\n        max = +max || 0;\r\n      }\r\n      if (floating || min % 1 || max % 1) {\r\n        var rand = nativeRandom();\r\n        return nativeMin(min + (rand * (max - min + parseFloat('1e-' + ((rand + '').length - 1)))), max);\r\n      }\r\n      return baseRandom(min, max);\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Converts `string` to [camel case](https://en.wikipedia.org/wiki/CamelCase).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to convert.\r\n     * @returns {string} Returns the camel cased string.\r\n     * @example\r\n     *\r\n     * _.camelCase('Foo Bar');\r\n     * // => 'fooBar'\r\n     *\r\n     * _.camelCase('--foo-bar');\r\n     * // => 'fooBar'\r\n     *\r\n     * _.camelCase('__foo_bar__');\r\n     * // => 'fooBar'\r\n     */\r\n    var camelCase = createCompounder(function(result, word, index) {\r\n      word = word.toLowerCase();\r\n      return result + (index ? (word.charAt(0).toUpperCase() + word.slice(1)) : word);\r\n    });\r\n\r\n    /**\r\n     * Capitalizes the first character of `string`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to capitalize.\r\n     * @returns {string} Returns the capitalized string.\r\n     * @example\r\n     *\r\n     * _.capitalize('fred');\r\n     * // => 'Fred'\r\n     */\r\n    function capitalize(string) {\r\n      string = baseToString(string);\r\n      return string && (string.charAt(0).toUpperCase() + string.slice(1));\r\n    }\r\n\r\n    /**\r\n     * Deburrs `string` by converting [latin-1 supplementary letters](https://en.wikipedia.org/wiki/Latin-1_Supplement_(Unicode_block)#Character_table)\r\n     * to basic latin letters and removing [combining diacritical marks](https://en.wikipedia.org/wiki/Combining_Diacritical_Marks).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to deburr.\r\n     * @returns {string} Returns the deburred string.\r\n     * @example\r\n     *\r\n     * _.deburr('dj vu');\r\n     * // => 'deja vu'\r\n     */\r\n    function deburr(string) {\r\n      string = baseToString(string);\r\n      return string && string.replace(reLatin1, deburrLetter).replace(reComboMark, '');\r\n    }\r\n\r\n    /**\r\n     * Checks if `string` ends with the given target string.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to search.\r\n     * @param {string} [target] The string to search for.\r\n     * @param {number} [position=string.length] The position to search from.\r\n     * @returns {boolean} Returns `true` if `string` ends with `target`, else `false`.\r\n     * @example\r\n     *\r\n     * _.endsWith('abc', 'c');\r\n     * // => true\r\n     *\r\n     * _.endsWith('abc', 'b');\r\n     * // => false\r\n     *\r\n     * _.endsWith('abc', 'b', 2);\r\n     * // => true\r\n     */\r\n    function endsWith(string, target, position) {\r\n      string = baseToString(string);\r\n      target = (target + '');\r\n\r\n      var length = string.length;\r\n      position = position === undefined\r\n        ? length\r\n        : nativeMin(position < 0 ? 0 : (+position || 0), length);\r\n\r\n      position -= target.length;\r\n      return position >= 0 && string.indexOf(target, position) == position;\r\n    }\r\n\r\n    /**\r\n     * Converts the characters \"&\", \"<\", \">\", '\"', \"'\", and \"\\`\", in `string` to\r\n     * their corresponding HTML entities.\r\n     *\r\n     * **Note:** No other characters are escaped. To escape additional characters\r\n     * use a third-party library like [_he_](https://mths.be/he).\r\n     *\r\n     * Though the \">\" character is escaped for symmetry, characters like\r\n     * \">\" and \"/\" don't need escaping in HTML and have no special meaning\r\n     * unless they're part of a tag or unquoted attribute value.\r\n     * See [Mathias Bynens's article](https://mathiasbynens.be/notes/ambiguous-ampersands)\r\n     * (under \"semi-related fun fact\") for more details.\r\n     *\r\n     * Backticks are escaped because in Internet Explorer < 9, they can break out\r\n     * of attribute values or HTML comments. See [#59](https://html5sec.org/#59),\r\n     * [#102](https://html5sec.org/#102), [#108](https://html5sec.org/#108), and\r\n     * [#133](https://html5sec.org/#133) of the [HTML5 Security Cheatsheet](https://html5sec.org/)\r\n     * for more details.\r\n     *\r\n     * When working with HTML you should always [quote attribute values](http://wonko.com/post/html-escaping)\r\n     * to reduce XSS vectors.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to escape.\r\n     * @returns {string} Returns the escaped string.\r\n     * @example\r\n     *\r\n     * _.escape('fred, barney, & pebbles');\r\n     * // => 'fred, barney, &amp; pebbles'\r\n     */\r\n    function escape(string) {\r\n      // Reset `lastIndex` because in IE < 9 `String#replace` does not.\r\n      string = baseToString(string);\r\n      return (string && reHasUnescapedHtml.test(string))\r\n        ? string.replace(reUnescapedHtml, escapeHtmlChar)\r\n        : string;\r\n    }\r\n\r\n    /**\r\n     * Escapes the `RegExp` special characters \"\\\", \"/\", \"^\", \"$\", \".\", \"|\", \"?\",\r\n     * \"*\", \"+\", \"(\", \")\", \"[\", \"]\", \"{\" and \"}\" in `string`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to escape.\r\n     * @returns {string} Returns the escaped string.\r\n     * @example\r\n     *\r\n     * _.escapeRegExp('[lodash](https://lodash.com/)');\r\n     * // => '\\[lodash\\]\\(https:\\/\\/lodash\\.com\\/\\)'\r\n     */\r\n    function escapeRegExp(string) {\r\n      string = baseToString(string);\r\n      return (string && reHasRegExpChars.test(string))\r\n        ? string.replace(reRegExpChars, escapeRegExpChar)\r\n        : (string || '(?:)');\r\n    }\r\n\r\n    /**\r\n     * Converts `string` to [kebab case](https://en.wikipedia.org/wiki/Letter_case#Special_case_styles).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to convert.\r\n     * @returns {string} Returns the kebab cased string.\r\n     * @example\r\n     *\r\n     * _.kebabCase('Foo Bar');\r\n     * // => 'foo-bar'\r\n     *\r\n     * _.kebabCase('fooBar');\r\n     * // => 'foo-bar'\r\n     *\r\n     * _.kebabCase('__foo_bar__');\r\n     * // => 'foo-bar'\r\n     */\r\n    var kebabCase = createCompounder(function(result, word, index) {\r\n      return result + (index ? '-' : '') + word.toLowerCase();\r\n    });\r\n\r\n    /**\r\n     * Pads `string` on the left and right sides if it's shorter than `length`.\r\n     * Padding characters are truncated if they can't be evenly divided by `length`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to pad.\r\n     * @param {number} [length=0] The padding length.\r\n     * @param {string} [chars=' '] The string used as padding.\r\n     * @returns {string} Returns the padded string.\r\n     * @example\r\n     *\r\n     * _.pad('abc', 8);\r\n     * // => '  abc   '\r\n     *\r\n     * _.pad('abc', 8, '_-');\r\n     * // => '_-abc_-_'\r\n     *\r\n     * _.pad('abc', 3);\r\n     * // => 'abc'\r\n     */\r\n    function pad(string, length, chars) {\r\n      string = baseToString(string);\r\n      length = +length;\r\n\r\n      var strLength = string.length;\r\n      if (strLength >= length || !nativeIsFinite(length)) {\r\n        return string;\r\n      }\r\n      var mid = (length - strLength) / 2,\r\n          leftLength = nativeFloor(mid),\r\n          rightLength = nativeCeil(mid);\r\n\r\n      chars = createPadding('', rightLength, chars);\r\n      return chars.slice(0, leftLength) + string + chars;\r\n    }\r\n\r\n    /**\r\n     * Pads `string` on the left side if it's shorter than `length`. Padding\r\n     * characters are truncated if they exceed `length`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to pad.\r\n     * @param {number} [length=0] The padding length.\r\n     * @param {string} [chars=' '] The string used as padding.\r\n     * @returns {string} Returns the padded string.\r\n     * @example\r\n     *\r\n     * _.padLeft('abc', 6);\r\n     * // => '   abc'\r\n     *\r\n     * _.padLeft('abc', 6, '_-');\r\n     * // => '_-_abc'\r\n     *\r\n     * _.padLeft('abc', 3);\r\n     * // => 'abc'\r\n     */\r\n    var padLeft = createPadDir();\r\n\r\n    /**\r\n     * Pads `string` on the right side if it's shorter than `length`. Padding\r\n     * characters are truncated if they exceed `length`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to pad.\r\n     * @param {number} [length=0] The padding length.\r\n     * @param {string} [chars=' '] The string used as padding.\r\n     * @returns {string} Returns the padded string.\r\n     * @example\r\n     *\r\n     * _.padRight('abc', 6);\r\n     * // => 'abc   '\r\n     *\r\n     * _.padRight('abc', 6, '_-');\r\n     * // => 'abc_-_'\r\n     *\r\n     * _.padRight('abc', 3);\r\n     * // => 'abc'\r\n     */\r\n    var padRight = createPadDir(true);\r\n\r\n    /**\r\n     * Converts `string` to an integer of the specified radix. If `radix` is\r\n     * `undefined` or `0`, a `radix` of `10` is used unless `value` is a hexadecimal,\r\n     * in which case a `radix` of `16` is used.\r\n     *\r\n     * **Note:** This method aligns with the [ES5 implementation](https://es5.github.io/#E)\r\n     * of `parseInt`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} string The string to convert.\r\n     * @param {number} [radix] The radix to interpret `value` by.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {number} Returns the converted integer.\r\n     * @example\r\n     *\r\n     * _.parseInt('08');\r\n     * // => 8\r\n     *\r\n     * _.map(['6', '08', '10'], _.parseInt);\r\n     * // => [6, 8, 10]\r\n     */\r\n    function parseInt(string, radix, guard) {\r\n      // Firefox < 21 and Opera < 15 follow ES3 for `parseInt`.\r\n      // Chrome fails to trim leading <BOM> whitespace characters.\r\n      // See https://code.google.com/p/v8/issues/detail?id=3109 for more details.\r\n      if (guard ? isIterateeCall(string, radix, guard) : radix == null) {\r\n        radix = 0;\r\n      } else if (radix) {\r\n        radix = +radix;\r\n      }\r\n      string = trim(string);\r\n      return nativeParseInt(string, radix || (reHasHexPrefix.test(string) ? 16 : 10));\r\n    }\r\n\r\n    /**\r\n     * Repeats the given string `n` times.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to repeat.\r\n     * @param {number} [n=0] The number of times to repeat the string.\r\n     * @returns {string} Returns the repeated string.\r\n     * @example\r\n     *\r\n     * _.repeat('*', 3);\r\n     * // => '***'\r\n     *\r\n     * _.repeat('abc', 2);\r\n     * // => 'abcabc'\r\n     *\r\n     * _.repeat('abc', 0);\r\n     * // => ''\r\n     */\r\n    function repeat(string, n) {\r\n      var result = '';\r\n      string = baseToString(string);\r\n      n = +n;\r\n      if (n < 1 || !string || !nativeIsFinite(n)) {\r\n        return result;\r\n      }\r\n      // Leverage the exponentiation by squaring algorithm for a faster repeat.\r\n      // See https://en.wikipedia.org/wiki/Exponentiation_by_squaring for more details.\r\n      do {\r\n        if (n % 2) {\r\n          result += string;\r\n        }\r\n        n = nativeFloor(n / 2);\r\n        string += string;\r\n      } while (n);\r\n\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Converts `string` to [snake case](https://en.wikipedia.org/wiki/Snake_case).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to convert.\r\n     * @returns {string} Returns the snake cased string.\r\n     * @example\r\n     *\r\n     * _.snakeCase('Foo Bar');\r\n     * // => 'foo_bar'\r\n     *\r\n     * _.snakeCase('fooBar');\r\n     * // => 'foo_bar'\r\n     *\r\n     * _.snakeCase('--foo-bar');\r\n     * // => 'foo_bar'\r\n     */\r\n    var snakeCase = createCompounder(function(result, word, index) {\r\n      return result + (index ? '_' : '') + word.toLowerCase();\r\n    });\r\n\r\n    /**\r\n     * Converts `string` to [start case](https://en.wikipedia.org/wiki/Letter_case#Stylistic_or_specialised_usage).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to convert.\r\n     * @returns {string} Returns the start cased string.\r\n     * @example\r\n     *\r\n     * _.startCase('--foo-bar');\r\n     * // => 'Foo Bar'\r\n     *\r\n     * _.startCase('fooBar');\r\n     * // => 'Foo Bar'\r\n     *\r\n     * _.startCase('__foo_bar__');\r\n     * // => 'Foo Bar'\r\n     */\r\n    var startCase = createCompounder(function(result, word, index) {\r\n      return result + (index ? ' ' : '') + (word.charAt(0).toUpperCase() + word.slice(1));\r\n    });\r\n\r\n    /**\r\n     * Checks if `string` starts with the given target string.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to search.\r\n     * @param {string} [target] The string to search for.\r\n     * @param {number} [position=0] The position to search from.\r\n     * @returns {boolean} Returns `true` if `string` starts with `target`, else `false`.\r\n     * @example\r\n     *\r\n     * _.startsWith('abc', 'a');\r\n     * // => true\r\n     *\r\n     * _.startsWith('abc', 'b');\r\n     * // => false\r\n     *\r\n     * _.startsWith('abc', 'b', 1);\r\n     * // => true\r\n     */\r\n    function startsWith(string, target, position) {\r\n      string = baseToString(string);\r\n      position = position == null\r\n        ? 0\r\n        : nativeMin(position < 0 ? 0 : (+position || 0), string.length);\r\n\r\n      return string.lastIndexOf(target, position) == position;\r\n    }\r\n\r\n    /**\r\n     * Creates a compiled template function that can interpolate data properties\r\n     * in \"interpolate\" delimiters, HTML-escape interpolated data properties in\r\n     * \"escape\" delimiters, and execute JavaScript in \"evaluate\" delimiters. Data\r\n     * properties may be accessed as free variables in the template. If a setting\r\n     * object is provided it takes precedence over `_.templateSettings` values.\r\n     *\r\n     * **Note:** In the development build `_.template` utilizes\r\n     * [sourceURLs](http://www.html5rocks.com/en/tutorials/developertools/sourcemaps/#toc-sourceurl)\r\n     * for easier debugging.\r\n     *\r\n     * For more information on precompiling templates see\r\n     * [lodash's custom builds documentation](https://lodash.com/custom-builds).\r\n     *\r\n     * For more information on Chrome extension sandboxes see\r\n     * [Chrome's extensions documentation](https://developer.chrome.com/extensions/sandboxingEval).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The template string.\r\n     * @param {Object} [options] The options object.\r\n     * @param {RegExp} [options.escape] The HTML \"escape\" delimiter.\r\n     * @param {RegExp} [options.evaluate] The \"evaluate\" delimiter.\r\n     * @param {Object} [options.imports] An object to import into the template as free variables.\r\n     * @param {RegExp} [options.interpolate] The \"interpolate\" delimiter.\r\n     * @param {string} [options.sourceURL] The sourceURL of the template's compiled source.\r\n     * @param {string} [options.variable] The data object variable name.\r\n     * @param- {Object} [otherOptions] Enables the legacy `options` param signature.\r\n     * @returns {Function} Returns the compiled template function.\r\n     * @example\r\n     *\r\n     * // using the \"interpolate\" delimiter to create a compiled template\r\n     * var compiled = _.template('hello <%= user %>!');\r\n     * compiled({ 'user': 'fred' });\r\n     * // => 'hello fred!'\r\n     *\r\n     * // using the HTML \"escape\" delimiter to escape data property values\r\n     * var compiled = _.template('<b><%- value %></b>');\r\n     * compiled({ 'value': '<script>' });\r\n     * // => '<b>&lt;script&gt;</b>'\r\n     *\r\n     * // using the \"evaluate\" delimiter to execute JavaScript and generate HTML\r\n     * var compiled = _.template('<% _.forEach(users, function(user) { %><li><%- user %></li><% }); %>');\r\n     * compiled({ 'users': ['fred', 'barney'] });\r\n     * // => '<li>fred</li><li>barney</li>'\r\n     *\r\n     * // using the internal `print` function in \"evaluate\" delimiters\r\n     * var compiled = _.template('<% print(\"hello \" + user); %>!');\r\n     * compiled({ 'user': 'barney' });\r\n     * // => 'hello barney!'\r\n     *\r\n     * // using the ES delimiter as an alternative to the default \"interpolate\" delimiter\r\n     * var compiled = _.template('hello ${ user }!');\r\n     * compiled({ 'user': 'pebbles' });\r\n     * // => 'hello pebbles!'\r\n     *\r\n     * // using custom template delimiters\r\n     * _.templateSettings.interpolate = /{{([\\s\\S]+?)}}/g;\r\n     * var compiled = _.template('hello {{ user }}!');\r\n     * compiled({ 'user': 'mustache' });\r\n     * // => 'hello mustache!'\r\n     *\r\n     * // using backslashes to treat delimiters as plain text\r\n     * var compiled = _.template('<%= \"\\\\<%- value %\\\\>\" %>');\r\n     * compiled({ 'value': 'ignored' });\r\n     * // => '<%- value %>'\r\n     *\r\n     * // using the `imports` option to import `jQuery` as `jq`\r\n     * var text = '<% jq.each(users, function(user) { %><li><%- user %></li><% }); %>';\r\n     * var compiled = _.template(text, { 'imports': { 'jq': jQuery } });\r\n     * compiled({ 'users': ['fred', 'barney'] });\r\n     * // => '<li>fred</li><li>barney</li>'\r\n     *\r\n     * // using the `sourceURL` option to specify a custom sourceURL for the template\r\n     * var compiled = _.template('hello <%= user %>!', { 'sourceURL': '/basic/greeting.jst' });\r\n     * compiled(data);\r\n     * // => find the source of \"greeting.jst\" under the Sources tab or Resources panel of the web inspector\r\n     *\r\n     * // using the `variable` option to ensure a with-statement isn't used in the compiled template\r\n     * var compiled = _.template('hi <%= data.user %>!', { 'variable': 'data' });\r\n     * compiled.source;\r\n     * // => function(data) {\r\n     * //   var __t, __p = '';\r\n     * //   __p += 'hi ' + ((__t = ( data.user )) == null ? '' : __t) + '!';\r\n     * //   return __p;\r\n     * // }\r\n     *\r\n     * // using the `source` property to inline compiled templates for meaningful\r\n     * // line numbers in error messages and a stack trace\r\n     * fs.writeFileSync(path.join(cwd, 'jst.js'), '\\\r\n     *   var JST = {\\\r\n     *     \"main\": ' + _.template(mainText).source + '\\\r\n     *   };\\\r\n     * ');\r\n     */\r\n    function template(string, options, otherOptions) {\r\n      // Based on John Resig's `tmpl` implementation (http://ejohn.org/blog/javascript-micro-templating/)\r\n      // and Laura Doktorova's doT.js (https://github.com/olado/doT).\r\n      var settings = lodash.templateSettings;\r\n\r\n      if (otherOptions && isIterateeCall(string, options, otherOptions)) {\r\n        options = otherOptions = undefined;\r\n      }\r\n      string = baseToString(string);\r\n      options = assignWith(baseAssign({}, otherOptions || options), settings, assignOwnDefaults);\r\n\r\n      var imports = assignWith(baseAssign({}, options.imports), settings.imports, assignOwnDefaults),\r\n          importsKeys = keys(imports),\r\n          importsValues = baseValues(imports, importsKeys);\r\n\r\n      var isEscaping,\r\n          isEvaluating,\r\n          index = 0,\r\n          interpolate = options.interpolate || reNoMatch,\r\n          source = \"__p += '\";\r\n\r\n      // Compile the regexp to match each delimiter.\r\n      var reDelimiters = RegExp(\r\n        (options.escape || reNoMatch).source + '|' +\r\n        interpolate.source + '|' +\r\n        (interpolate === reInterpolate ? reEsTemplate : reNoMatch).source + '|' +\r\n        (options.evaluate || reNoMatch).source + '|$'\r\n      , 'g');\r\n\r\n      // Use a sourceURL for easier debugging.\r\n      var sourceURL = '//# sourceURL=' +\r\n        ('sourceURL' in options\r\n          ? options.sourceURL\r\n          : ('lodash.templateSources[' + (++templateCounter) + ']')\r\n        ) + '\\n';\r\n\r\n      string.replace(reDelimiters, function(match, escapeValue, interpolateValue, esTemplateValue, evaluateValue, offset) {\r\n        interpolateValue || (interpolateValue = esTemplateValue);\r\n\r\n        // Escape characters that can't be included in string literals.\r\n        source += string.slice(index, offset).replace(reUnescapedString, escapeStringChar);\r\n\r\n        // Replace delimiters with snippets.\r\n        if (escapeValue) {\r\n          isEscaping = true;\r\n          source += \"' +\\n__e(\" + escapeValue + \") +\\n'\";\r\n        }\r\n        if (evaluateValue) {\r\n          isEvaluating = true;\r\n          source += \"';\\n\" + evaluateValue + \";\\n__p += '\";\r\n        }\r\n        if (interpolateValue) {\r\n          source += \"' +\\n((__t = (\" + interpolateValue + \")) == null ? '' : __t) +\\n'\";\r\n        }\r\n        index = offset + match.length;\r\n\r\n        // The JS engine embedded in Adobe products requires returning the `match`\r\n        // string in order to produce the correct `offset` value.\r\n        return match;\r\n      });\r\n\r\n      source += \"';\\n\";\r\n\r\n      // If `variable` is not specified wrap a with-statement around the generated\r\n      // code to add the data object to the top of the scope chain.\r\n      var variable = options.variable;\r\n      if (!variable) {\r\n        source = 'with (obj) {\\n' + source + '\\n}\\n';\r\n      }\r\n      // Cleanup code by stripping empty strings.\r\n      source = (isEvaluating ? source.replace(reEmptyStringLeading, '') : source)\r\n        .replace(reEmptyStringMiddle, '$1')\r\n        .replace(reEmptyStringTrailing, '$1;');\r\n\r\n      // Frame code as the function body.\r\n      source = 'function(' + (variable || 'obj') + ') {\\n' +\r\n        (variable\r\n          ? ''\r\n          : 'obj || (obj = {});\\n'\r\n        ) +\r\n        \"var __t, __p = ''\" +\r\n        (isEscaping\r\n           ? ', __e = _.escape'\r\n           : ''\r\n        ) +\r\n        (isEvaluating\r\n          ? ', __j = Array.prototype.join;\\n' +\r\n            \"function print() { __p += __j.call(arguments, '') }\\n\"\r\n          : ';\\n'\r\n        ) +\r\n        source +\r\n        'return __p\\n}';\r\n\r\n      var result = attempt(function() {\r\n        return Function(importsKeys, sourceURL + 'return ' + source).apply(undefined, importsValues);\r\n      });\r\n\r\n      // Provide the compiled function's source by its `toString` method or\r\n      // the `source` property as a convenience for inlining compiled templates.\r\n      result.source = source;\r\n      if (isError(result)) {\r\n        throw result;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Removes leading and trailing whitespace or specified characters from `string`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to trim.\r\n     * @param {string} [chars=whitespace] The characters to trim.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {string} Returns the trimmed string.\r\n     * @example\r\n     *\r\n     * _.trim('  abc  ');\r\n     * // => 'abc'\r\n     *\r\n     * _.trim('-_-abc-_-', '_-');\r\n     * // => 'abc'\r\n     *\r\n     * _.map(['  foo  ', '  bar  '], _.trim);\r\n     * // => ['foo', 'bar']\r\n     */\r\n    function trim(string, chars, guard) {\r\n      var value = string;\r\n      string = baseToString(string);\r\n      if (!string) {\r\n        return string;\r\n      }\r\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\r\n        return string.slice(trimmedLeftIndex(string), trimmedRightIndex(string) + 1);\r\n      }\r\n      chars = (chars + '');\r\n      return string.slice(charsLeftIndex(string, chars), charsRightIndex(string, chars) + 1);\r\n    }\r\n\r\n    /**\r\n     * Removes leading whitespace or specified characters from `string`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to trim.\r\n     * @param {string} [chars=whitespace] The characters to trim.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {string} Returns the trimmed string.\r\n     * @example\r\n     *\r\n     * _.trimLeft('  abc  ');\r\n     * // => 'abc  '\r\n     *\r\n     * _.trimLeft('-_-abc-_-', '_-');\r\n     * // => 'abc-_-'\r\n     */\r\n    function trimLeft(string, chars, guard) {\r\n      var value = string;\r\n      string = baseToString(string);\r\n      if (!string) {\r\n        return string;\r\n      }\r\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\r\n        return string.slice(trimmedLeftIndex(string));\r\n      }\r\n      return string.slice(charsLeftIndex(string, (chars + '')));\r\n    }\r\n\r\n    /**\r\n     * Removes trailing whitespace or specified characters from `string`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to trim.\r\n     * @param {string} [chars=whitespace] The characters to trim.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {string} Returns the trimmed string.\r\n     * @example\r\n     *\r\n     * _.trimRight('  abc  ');\r\n     * // => '  abc'\r\n     *\r\n     * _.trimRight('-_-abc-_-', '_-');\r\n     * // => '-_-abc'\r\n     */\r\n    function trimRight(string, chars, guard) {\r\n      var value = string;\r\n      string = baseToString(string);\r\n      if (!string) {\r\n        return string;\r\n      }\r\n      if (guard ? isIterateeCall(value, chars, guard) : chars == null) {\r\n        return string.slice(0, trimmedRightIndex(string) + 1);\r\n      }\r\n      return string.slice(0, charsRightIndex(string, (chars + '')) + 1);\r\n    }\r\n\r\n    /**\r\n     * Truncates `string` if it's longer than the given maximum string length.\r\n     * The last characters of the truncated string are replaced with the omission\r\n     * string which defaults to \"...\".\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to truncate.\r\n     * @param {Object|number} [options] The options object or maximum string length.\r\n     * @param {number} [options.length=30] The maximum string length.\r\n     * @param {string} [options.omission='...'] The string to indicate text is omitted.\r\n     * @param {RegExp|string} [options.separator] The separator pattern to truncate to.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {string} Returns the truncated string.\r\n     * @example\r\n     *\r\n     * _.trunc('hi-diddly-ho there, neighborino');\r\n     * // => 'hi-diddly-ho there, neighbo...'\r\n     *\r\n     * _.trunc('hi-diddly-ho there, neighborino', 24);\r\n     * // => 'hi-diddly-ho there, n...'\r\n     *\r\n     * _.trunc('hi-diddly-ho there, neighborino', {\r\n     *   'length': 24,\r\n     *   'separator': ' '\r\n     * });\r\n     * // => 'hi-diddly-ho there,...'\r\n     *\r\n     * _.trunc('hi-diddly-ho there, neighborino', {\r\n     *   'length': 24,\r\n     *   'separator': /,? +/\r\n     * });\r\n     * // => 'hi-diddly-ho there...'\r\n     *\r\n     * _.trunc('hi-diddly-ho there, neighborino', {\r\n     *   'omission': ' [...]'\r\n     * });\r\n     * // => 'hi-diddly-ho there, neig [...]'\r\n     */\r\n    function trunc(string, options, guard) {\r\n      if (guard && isIterateeCall(string, options, guard)) {\r\n        options = undefined;\r\n      }\r\n      var length = DEFAULT_TRUNC_LENGTH,\r\n          omission = DEFAULT_TRUNC_OMISSION;\r\n\r\n      if (options != null) {\r\n        if (isObject(options)) {\r\n          var separator = 'separator' in options ? options.separator : separator;\r\n          length = 'length' in options ? (+options.length || 0) : length;\r\n          omission = 'omission' in options ? baseToString(options.omission) : omission;\r\n        } else {\r\n          length = +options || 0;\r\n        }\r\n      }\r\n      string = baseToString(string);\r\n      if (length >= string.length) {\r\n        return string;\r\n      }\r\n      var end = length - omission.length;\r\n      if (end < 1) {\r\n        return omission;\r\n      }\r\n      var result = string.slice(0, end);\r\n      if (separator == null) {\r\n        return result + omission;\r\n      }\r\n      if (isRegExp(separator)) {\r\n        if (string.slice(end).search(separator)) {\r\n          var match,\r\n              newEnd,\r\n              substring = string.slice(0, end);\r\n\r\n          if (!separator.global) {\r\n            separator = RegExp(separator.source, (reFlags.exec(separator) || '') + 'g');\r\n          }\r\n          separator.lastIndex = 0;\r\n          while ((match = separator.exec(substring))) {\r\n            newEnd = match.index;\r\n          }\r\n          result = result.slice(0, newEnd == null ? end : newEnd);\r\n        }\r\n      } else if (string.indexOf(separator, end) != end) {\r\n        var index = result.lastIndexOf(separator);\r\n        if (index > -1) {\r\n          result = result.slice(0, index);\r\n        }\r\n      }\r\n      return result + omission;\r\n    }\r\n\r\n    /**\r\n     * The inverse of `_.escape`; this method converts the HTML entities\r\n     * `&amp;`, `&lt;`, `&gt;`, `&quot;`, `&#39;`, and `&#96;` in `string` to their\r\n     * corresponding characters.\r\n     *\r\n     * **Note:** No other HTML entities are unescaped. To unescape additional HTML\r\n     * entities use a third-party library like [_he_](https://mths.be/he).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to unescape.\r\n     * @returns {string} Returns the unescaped string.\r\n     * @example\r\n     *\r\n     * _.unescape('fred, barney, &amp; pebbles');\r\n     * // => 'fred, barney, & pebbles'\r\n     */\r\n    function unescape(string) {\r\n      string = baseToString(string);\r\n      return (string && reHasEscapedHtml.test(string))\r\n        ? string.replace(reEscapedHtml, unescapeHtmlChar)\r\n        : string;\r\n    }\r\n\r\n    /**\r\n     * Splits `string` into an array of its words.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category String\r\n     * @param {string} [string=''] The string to inspect.\r\n     * @param {RegExp|string} [pattern] The pattern to match words.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Array} Returns the words of `string`.\r\n     * @example\r\n     *\r\n     * _.words('fred, barney, & pebbles');\r\n     * // => ['fred', 'barney', 'pebbles']\r\n     *\r\n     * _.words('fred, barney, & pebbles', /[^, ]+/g);\r\n     * // => ['fred', 'barney', '&', 'pebbles']\r\n     */\r\n    function words(string, pattern, guard) {\r\n      if (guard && isIterateeCall(string, pattern, guard)) {\r\n        pattern = undefined;\r\n      }\r\n      string = baseToString(string);\r\n      return string.match(pattern || reWords) || [];\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Attempts to invoke `func`, returning either the result or the caught error\r\n     * object. Any additional arguments are provided to `func` when it's invoked.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Function} func The function to attempt.\r\n     * @returns {*} Returns the `func` result or error object.\r\n     * @example\r\n     *\r\n     * // avoid throwing errors for invalid selectors\r\n     * var elements = _.attempt(function(selector) {\r\n     *   return document.querySelectorAll(selector);\r\n     * }, '>_>');\r\n     *\r\n     * if (_.isError(elements)) {\r\n     *   elements = [];\r\n     * }\r\n     */\r\n    var attempt = restParam(function(func, args) {\r\n      try {\r\n        return func.apply(undefined, args);\r\n      } catch(e) {\r\n        return isError(e) ? e : new Error(e);\r\n      }\r\n    });\r\n\r\n    /**\r\n     * Creates a function that invokes `func` with the `this` binding of `thisArg`\r\n     * and arguments of the created function. If `func` is a property name the\r\n     * created callback returns the property value for a given element. If `func`\r\n     * is an object the created callback returns `true` for elements that contain\r\n     * the equivalent object properties, otherwise it returns `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @alias iteratee\r\n     * @category Utility\r\n     * @param {*} [func=_.identity] The value to convert to a callback.\r\n     * @param {*} [thisArg] The `this` binding of `func`.\r\n     * @param- {Object} [guard] Enables use as a callback for functions like `_.map`.\r\n     * @returns {Function} Returns the callback.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36 },\r\n     *   { 'user': 'fred',   'age': 40 }\r\n     * ];\r\n     *\r\n     * // wrap to create custom callback shorthands\r\n     * _.callback = _.wrap(_.callback, function(callback, func, thisArg) {\r\n     *   var match = /^(.+?)__([gl]t)(.+)$/.exec(func);\r\n     *   if (!match) {\r\n     *     return callback(func, thisArg);\r\n     *   }\r\n     *   return function(object) {\r\n     *     return match[2] == 'gt'\r\n     *       ? object[match[1]] > match[3]\r\n     *       : object[match[1]] < match[3];\r\n     *   };\r\n     * });\r\n     *\r\n     * _.filter(users, 'age__gt36');\r\n     * // => [{ 'user': 'fred', 'age': 40 }]\r\n     */\r\n    function callback(func, thisArg, guard) {\r\n      if (guard && isIterateeCall(func, thisArg, guard)) {\r\n        thisArg = undefined;\r\n      }\r\n      return isObjectLike(func)\r\n        ? matches(func)\r\n        : baseCallback(func, thisArg);\r\n    }\r\n\r\n    /**\r\n     * Creates a function that returns `value`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {*} value The value to return from the new function.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred' };\r\n     * var getter = _.constant(object);\r\n     *\r\n     * getter() === object;\r\n     * // => true\r\n     */\r\n    function constant(value) {\r\n      return function() {\r\n        return value;\r\n      };\r\n    }\r\n\r\n    /**\r\n     * This method returns the first argument provided to it.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {*} value Any value.\r\n     * @returns {*} Returns `value`.\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred' };\r\n     *\r\n     * _.identity(object) === object;\r\n     * // => true\r\n     */\r\n    function identity(value) {\r\n      return value;\r\n    }\r\n\r\n    /**\r\n     * Creates a function that performs a deep comparison between a given object\r\n     * and `source`, returning `true` if the given object has equivalent property\r\n     * values, else `false`.\r\n     *\r\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\r\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\r\n     * their own, not inherited, enumerable properties. For comparing a single\r\n     * own or inherited property value see `_.matchesProperty`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Object} source The object of property values to match.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36, 'active': true },\r\n     *   { 'user': 'fred',   'age': 40, 'active': false }\r\n     * ];\r\n     *\r\n     * _.filter(users, _.matches({ 'age': 40, 'active': false }));\r\n     * // => [{ 'user': 'fred', 'age': 40, 'active': false }]\r\n     */\r\n    function matches(source) {\r\n      return baseMatches(baseClone(source, true));\r\n    }\r\n\r\n    /**\r\n     * Creates a function that compares the property value of `path` on a given\r\n     * object to `value`.\r\n     *\r\n     * **Note:** This method supports comparing arrays, booleans, `Date` objects,\r\n     * numbers, `Object` objects, regexes, and strings. Objects are compared by\r\n     * their own, not inherited, enumerable properties.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Array|string} path The path of the property to get.\r\n     * @param {*} srcValue The value to match.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney' },\r\n     *   { 'user': 'fred' }\r\n     * ];\r\n     *\r\n     * _.find(users, _.matchesProperty('user', 'fred'));\r\n     * // => { 'user': 'fred' }\r\n     */\r\n    function matchesProperty(path, srcValue) {\r\n      return baseMatchesProperty(path, baseClone(srcValue, true));\r\n    }\r\n\r\n    /**\r\n     * Creates a function that invokes the method at `path` on a given object.\r\n     * Any additional arguments are provided to the invoked method.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Array|string} path The path of the method to invoke.\r\n     * @param {...*} [args] The arguments to invoke the method with.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var objects = [\r\n     *   { 'a': { 'b': { 'c': _.constant(2) } } },\r\n     *   { 'a': { 'b': { 'c': _.constant(1) } } }\r\n     * ];\r\n     *\r\n     * _.map(objects, _.method('a.b.c'));\r\n     * // => [2, 1]\r\n     *\r\n     * _.invoke(_.sortBy(objects, _.method(['a', 'b', 'c'])), 'a.b.c');\r\n     * // => [1, 2]\r\n     */\r\n    var method = restParam(function(path, args) {\r\n      return function(object) {\r\n        return invokePath(object, path, args);\r\n      };\r\n    });\r\n\r\n    /**\r\n     * The opposite of `_.method`; this method creates a function that invokes\r\n     * the method at a given path on `object`. Any additional arguments are\r\n     * provided to the invoked method.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Object} object The object to query.\r\n     * @param {...*} [args] The arguments to invoke the method with.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var array = _.times(3, _.constant),\r\n     *     object = { 'a': array, 'b': array, 'c': array };\r\n     *\r\n     * _.map(['a[2]', 'c[0]'], _.methodOf(object));\r\n     * // => [2, 0]\r\n     *\r\n     * _.map([['a', '2'], ['c', '0']], _.methodOf(object));\r\n     * // => [2, 0]\r\n     */\r\n    var methodOf = restParam(function(object, args) {\r\n      return function(path) {\r\n        return invokePath(object, path, args);\r\n      };\r\n    });\r\n\r\n    /**\r\n     * Adds all own enumerable function properties of a source object to the\r\n     * destination object. If `object` is a function then methods are added to\r\n     * its prototype as well.\r\n     *\r\n     * **Note:** Use `_.runInContext` to create a pristine `lodash` function to\r\n     * avoid conflicts caused by modifying the original.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Function|Object} [object=lodash] The destination object.\r\n     * @param {Object} source The object of functions to add.\r\n     * @param {Object} [options] The options object.\r\n     * @param {boolean} [options.chain=true] Specify whether the functions added\r\n     *  are chainable.\r\n     * @returns {Function|Object} Returns `object`.\r\n     * @example\r\n     *\r\n     * function vowels(string) {\r\n     *   return _.filter(string, function(v) {\r\n     *     return /[aeiou]/i.test(v);\r\n     *   });\r\n     * }\r\n     *\r\n     * _.mixin({ 'vowels': vowels });\r\n     * _.vowels('fred');\r\n     * // => ['e']\r\n     *\r\n     * _('fred').vowels().value();\r\n     * // => ['e']\r\n     *\r\n     * _.mixin({ 'vowels': vowels }, { 'chain': false });\r\n     * _('fred').vowels();\r\n     * // => ['e']\r\n     */\r\n    function mixin(object, source, options) {\r\n      if (options == null) {\r\n        var isObj = isObject(source),\r\n            props = isObj ? keys(source) : undefined,\r\n            methodNames = (props && props.length) ? baseFunctions(source, props) : undefined;\r\n\r\n        if (!(methodNames ? methodNames.length : isObj)) {\r\n          methodNames = false;\r\n          options = source;\r\n          source = object;\r\n          object = this;\r\n        }\r\n      }\r\n      if (!methodNames) {\r\n        methodNames = baseFunctions(source, keys(source));\r\n      }\r\n      var chain = true,\r\n          index = -1,\r\n          isFunc = isFunction(object),\r\n          length = methodNames.length;\r\n\r\n      if (options === false) {\r\n        chain = false;\r\n      } else if (isObject(options) && 'chain' in options) {\r\n        chain = options.chain;\r\n      }\r\n      while (++index < length) {\r\n        var methodName = methodNames[index],\r\n            func = source[methodName];\r\n\r\n        object[methodName] = func;\r\n        if (isFunc) {\r\n          object.prototype[methodName] = (function(func) {\r\n            return function() {\r\n              var chainAll = this.__chain__;\r\n              if (chain || chainAll) {\r\n                var result = object(this.__wrapped__),\r\n                    actions = result.__actions__ = arrayCopy(this.__actions__);\r\n\r\n                actions.push({ 'func': func, 'args': arguments, 'thisArg': object });\r\n                result.__chain__ = chainAll;\r\n                return result;\r\n              }\r\n              return func.apply(object, arrayPush([this.value()], arguments));\r\n            };\r\n          }(func));\r\n        }\r\n      }\r\n      return object;\r\n    }\r\n\r\n    /**\r\n     * Reverts the `_` variable to its previous value and returns a reference to\r\n     * the `lodash` function.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @returns {Function} Returns the `lodash` function.\r\n     * @example\r\n     *\r\n     * var lodash = _.noConflict();\r\n     */\r\n    function noConflict() {\r\n      root._ = oldDash;\r\n      return this;\r\n    }\r\n\r\n    /**\r\n     * A no-operation function that returns `undefined` regardless of the\r\n     * arguments it receives.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @example\r\n     *\r\n     * var object = { 'user': 'fred' };\r\n     *\r\n     * _.noop(object) === undefined;\r\n     * // => true\r\n     */\r\n    function noop() {\r\n      // No operation performed.\r\n    }\r\n\r\n    /**\r\n     * Creates a function that returns the property value at `path` on a\r\n     * given object.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Array|string} path The path of the property to get.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var objects = [\r\n     *   { 'a': { 'b': { 'c': 2 } } },\r\n     *   { 'a': { 'b': { 'c': 1 } } }\r\n     * ];\r\n     *\r\n     * _.map(objects, _.property('a.b.c'));\r\n     * // => [2, 1]\r\n     *\r\n     * _.pluck(_.sortBy(objects, _.property(['a', 'b', 'c'])), 'a.b.c');\r\n     * // => [1, 2]\r\n     */\r\n    function property(path) {\r\n      return isKey(path) ? baseProperty(path) : basePropertyDeep(path);\r\n    }\r\n\r\n    /**\r\n     * The opposite of `_.property`; this method creates a function that returns\r\n     * the property value at a given path on `object`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {Object} object The object to query.\r\n     * @returns {Function} Returns the new function.\r\n     * @example\r\n     *\r\n     * var array = [0, 1, 2],\r\n     *     object = { 'a': array, 'b': array, 'c': array };\r\n     *\r\n     * _.map(['a[2]', 'c[0]'], _.propertyOf(object));\r\n     * // => [2, 0]\r\n     *\r\n     * _.map([['a', '2'], ['c', '0']], _.propertyOf(object));\r\n     * // => [2, 0]\r\n     */\r\n    function propertyOf(object) {\r\n      return function(path) {\r\n        return baseGet(object, toPath(path), (path + ''));\r\n      };\r\n    }\r\n\r\n    /**\r\n     * Creates an array of numbers (positive and/or negative) progressing from\r\n     * `start` up to, but not including, `end`. If `end` is not specified it's\r\n     * set to `start` with `start` then set to `0`. If `end` is less than `start`\r\n     * a zero-length range is created unless a negative `step` is specified.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {number} [start=0] The start of the range.\r\n     * @param {number} end The end of the range.\r\n     * @param {number} [step=1] The value to increment or decrement by.\r\n     * @returns {Array} Returns the new array of numbers.\r\n     * @example\r\n     *\r\n     * _.range(4);\r\n     * // => [0, 1, 2, 3]\r\n     *\r\n     * _.range(1, 5);\r\n     * // => [1, 2, 3, 4]\r\n     *\r\n     * _.range(0, 20, 5);\r\n     * // => [0, 5, 10, 15]\r\n     *\r\n     * _.range(0, -4, -1);\r\n     * // => [0, -1, -2, -3]\r\n     *\r\n     * _.range(1, 4, 0);\r\n     * // => [1, 1, 1]\r\n     *\r\n     * _.range(0);\r\n     * // => []\r\n     */\r\n    function range(start, end, step) {\r\n      if (step && isIterateeCall(start, end, step)) {\r\n        end = step = undefined;\r\n      }\r\n      start = +start || 0;\r\n      step = step == null ? 1 : (+step || 0);\r\n\r\n      if (end == null) {\r\n        end = start;\r\n        start = 0;\r\n      } else {\r\n        end = +end || 0;\r\n      }\r\n      // Use `Array(length)` so engines like Chakra and V8 avoid slower modes.\r\n      // See https://youtu.be/XAqIpGU8ZZk#t=17m25s for more details.\r\n      var index = -1,\r\n          length = nativeMax(nativeCeil((end - start) / (step || 1)), 0),\r\n          result = Array(length);\r\n\r\n      while (++index < length) {\r\n        result[index] = start;\r\n        start += step;\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Invokes the iteratee function `n` times, returning an array of the results\r\n     * of each invocation. The `iteratee` is bound to `thisArg` and invoked with\r\n     * one argument; (index).\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {number} n The number of times to invoke `iteratee`.\r\n     * @param {Function} [iteratee=_.identity] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {Array} Returns the array of results.\r\n     * @example\r\n     *\r\n     * var diceRolls = _.times(3, _.partial(_.random, 1, 6, false));\r\n     * // => [3, 6, 4]\r\n     *\r\n     * _.times(3, function(n) {\r\n     *   mage.castSpell(n);\r\n     * });\r\n     * // => invokes `mage.castSpell(n)` three times with `n` of `0`, `1`, and `2`\r\n     *\r\n     * _.times(3, function(n) {\r\n     *   this.cast(n);\r\n     * }, mage);\r\n     * // => also invokes `mage.castSpell(n)` three times\r\n     */\r\n    function times(n, iteratee, thisArg) {\r\n      n = nativeFloor(n);\r\n\r\n      // Exit early to avoid a JSC JIT bug in Safari 8\r\n      // where `Array(0)` is treated as `Array(1)`.\r\n      if (n < 1 || !nativeIsFinite(n)) {\r\n        return [];\r\n      }\r\n      var index = -1,\r\n          result = Array(nativeMin(n, MAX_ARRAY_LENGTH));\r\n\r\n      iteratee = bindCallback(iteratee, thisArg, 1);\r\n      while (++index < n) {\r\n        if (index < MAX_ARRAY_LENGTH) {\r\n          result[index] = iteratee(index);\r\n        } else {\r\n          iteratee(index);\r\n        }\r\n      }\r\n      return result;\r\n    }\r\n\r\n    /**\r\n     * Generates a unique ID. If `prefix` is provided the ID is appended to it.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Utility\r\n     * @param {string} [prefix] The value to prefix the ID with.\r\n     * @returns {string} Returns the unique ID.\r\n     * @example\r\n     *\r\n     * _.uniqueId('contact_');\r\n     * // => 'contact_104'\r\n     *\r\n     * _.uniqueId();\r\n     * // => '105'\r\n     */\r\n    function uniqueId(prefix) {\r\n      var id = ++idCounter;\r\n      return baseToString(prefix) + id;\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * Adds two numbers.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {number} augend The first number to add.\r\n     * @param {number} addend The second number to add.\r\n     * @returns {number} Returns the sum.\r\n     * @example\r\n     *\r\n     * _.add(6, 4);\r\n     * // => 10\r\n     */\r\n    function add(augend, addend) {\r\n      return (+augend || 0) + (+addend || 0);\r\n    }\r\n\r\n    /**\r\n     * Calculates `n` rounded up to `precision`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {number} n The number to round up.\r\n     * @param {number} [precision=0] The precision to round up to.\r\n     * @returns {number} Returns the rounded up number.\r\n     * @example\r\n     *\r\n     * _.ceil(4.006);\r\n     * // => 5\r\n     *\r\n     * _.ceil(6.004, 2);\r\n     * // => 6.01\r\n     *\r\n     * _.ceil(6040, -2);\r\n     * // => 6100\r\n     */\r\n    var ceil = createRound('ceil');\r\n\r\n    /**\r\n     * Calculates `n` rounded down to `precision`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {number} n The number to round down.\r\n     * @param {number} [precision=0] The precision to round down to.\r\n     * @returns {number} Returns the rounded down number.\r\n     * @example\r\n     *\r\n     * _.floor(4.006);\r\n     * // => 4\r\n     *\r\n     * _.floor(0.046, 2);\r\n     * // => 0.04\r\n     *\r\n     * _.floor(4060, -2);\r\n     * // => 4000\r\n     */\r\n    var floor = createRound('floor');\r\n\r\n    /**\r\n     * Gets the maximum value of `collection`. If `collection` is empty or falsey\r\n     * `-Infinity` is returned. If an iteratee function is provided it's invoked\r\n     * for each value in `collection` to generate the criterion by which the value\r\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\r\n     * arguments: (value, index, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {*} Returns the maximum value.\r\n     * @example\r\n     *\r\n     * _.max([4, 2, 8, 6]);\r\n     * // => 8\r\n     *\r\n     * _.max([]);\r\n     * // => -Infinity\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36 },\r\n     *   { 'user': 'fred',   'age': 40 }\r\n     * ];\r\n     *\r\n     * _.max(users, function(chr) {\r\n     *   return chr.age;\r\n     * });\r\n     * // => { 'user': 'fred', 'age': 40 }\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.max(users, 'age');\r\n     * // => { 'user': 'fred', 'age': 40 }\r\n     */\r\n    var max = createExtremum(gt, NEGATIVE_INFINITY);\r\n\r\n    /**\r\n     * Gets the minimum value of `collection`. If `collection` is empty or falsey\r\n     * `Infinity` is returned. If an iteratee function is provided it's invoked\r\n     * for each value in `collection` to generate the criterion by which the value\r\n     * is ranked. The `iteratee` is bound to `thisArg` and invoked with three\r\n     * arguments: (value, index, collection).\r\n     *\r\n     * If a property name is provided for `iteratee` the created `_.property`\r\n     * style callback returns the property value of the given element.\r\n     *\r\n     * If a value is also provided for `thisArg` the created `_.matchesProperty`\r\n     * style callback returns `true` for elements that have a matching property\r\n     * value, else `false`.\r\n     *\r\n     * If an object is provided for `iteratee` the created `_.matches` style\r\n     * callback returns `true` for elements that have the properties of the given\r\n     * object, else `false`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {*} Returns the minimum value.\r\n     * @example\r\n     *\r\n     * _.min([4, 2, 8, 6]);\r\n     * // => 2\r\n     *\r\n     * _.min([]);\r\n     * // => Infinity\r\n     *\r\n     * var users = [\r\n     *   { 'user': 'barney', 'age': 36 },\r\n     *   { 'user': 'fred',   'age': 40 }\r\n     * ];\r\n     *\r\n     * _.min(users, function(chr) {\r\n     *   return chr.age;\r\n     * });\r\n     * // => { 'user': 'barney', 'age': 36 }\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.min(users, 'age');\r\n     * // => { 'user': 'barney', 'age': 36 }\r\n     */\r\n    var min = createExtremum(lt, POSITIVE_INFINITY);\r\n\r\n    /**\r\n     * Calculates `n` rounded to `precision`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {number} n The number to round.\r\n     * @param {number} [precision=0] The precision to round to.\r\n     * @returns {number} Returns the rounded number.\r\n     * @example\r\n     *\r\n     * _.round(4.006);\r\n     * // => 4\r\n     *\r\n     * _.round(4.006, 2);\r\n     * // => 4.01\r\n     *\r\n     * _.round(4060, -2);\r\n     * // => 4100\r\n     */\r\n    var round = createRound('round');\r\n\r\n    /**\r\n     * Gets the sum of the values in `collection`.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @category Math\r\n     * @param {Array|Object|string} collection The collection to iterate over.\r\n     * @param {Function|Object|string} [iteratee] The function invoked per iteration.\r\n     * @param {*} [thisArg] The `this` binding of `iteratee`.\r\n     * @returns {number} Returns the sum.\r\n     * @example\r\n     *\r\n     * _.sum([4, 6]);\r\n     * // => 10\r\n     *\r\n     * _.sum({ 'a': 4, 'b': 6 });\r\n     * // => 10\r\n     *\r\n     * var objects = [\r\n     *   { 'n': 4 },\r\n     *   { 'n': 6 }\r\n     * ];\r\n     *\r\n     * _.sum(objects, function(object) {\r\n     *   return object.n;\r\n     * });\r\n     * // => 10\r\n     *\r\n     * // using the `_.property` callback shorthand\r\n     * _.sum(objects, 'n');\r\n     * // => 10\r\n     */\r\n    function sum(collection, iteratee, thisArg) {\r\n      if (thisArg && isIterateeCall(collection, iteratee, thisArg)) {\r\n        iteratee = undefined;\r\n      }\r\n      iteratee = getCallback(iteratee, thisArg, 3);\r\n      return iteratee.length == 1\r\n        ? arraySum(isArray(collection) ? collection : toIterable(collection), iteratee)\r\n        : baseSum(collection, iteratee);\r\n    }\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    // Ensure wrappers are instances of `baseLodash`.\r\n    lodash.prototype = baseLodash.prototype;\r\n\r\n    LodashWrapper.prototype = baseCreate(baseLodash.prototype);\r\n    LodashWrapper.prototype.constructor = LodashWrapper;\r\n\r\n    LazyWrapper.prototype = baseCreate(baseLodash.prototype);\r\n    LazyWrapper.prototype.constructor = LazyWrapper;\r\n\r\n    // Add functions to the `Map` cache.\r\n    MapCache.prototype['delete'] = mapDelete;\r\n    MapCache.prototype.get = mapGet;\r\n    MapCache.prototype.has = mapHas;\r\n    MapCache.prototype.set = mapSet;\r\n\r\n    // Add functions to the `Set` cache.\r\n    SetCache.prototype.push = cachePush;\r\n\r\n    // Assign cache to `_.memoize`.\r\n    memoize.Cache = MapCache;\r\n\r\n    // Add functions that return wrapped values when chaining.\r\n    lodash.after = after;\r\n    lodash.ary = ary;\r\n    lodash.assign = assign;\r\n    lodash.at = at;\r\n    lodash.before = before;\r\n    lodash.bind = bind;\r\n    lodash.bindAll = bindAll;\r\n    lodash.bindKey = bindKey;\r\n    lodash.callback = callback;\r\n    lodash.chain = chain;\r\n    lodash.chunk = chunk;\r\n    lodash.compact = compact;\r\n    lodash.constant = constant;\r\n    lodash.countBy = countBy;\r\n    lodash.create = create;\r\n    lodash.curry = curry;\r\n    lodash.curryRight = curryRight;\r\n    lodash.debounce = debounce;\r\n    lodash.defaults = defaults;\r\n    lodash.defaultsDeep = defaultsDeep;\r\n    lodash.defer = defer;\r\n    lodash.delay = delay;\r\n    lodash.difference = difference;\r\n    lodash.drop = drop;\r\n    lodash.dropRight = dropRight;\r\n    lodash.dropRightWhile = dropRightWhile;\r\n    lodash.dropWhile = dropWhile;\r\n    lodash.fill = fill;\r\n    lodash.filter = filter;\r\n    lodash.flatten = flatten;\r\n    lodash.flattenDeep = flattenDeep;\r\n    lodash.flow = flow;\r\n    lodash.flowRight = flowRight;\r\n    lodash.forEach = forEach;\r\n    lodash.forEachRight = forEachRight;\r\n    lodash.forIn = forIn;\r\n    lodash.forInRight = forInRight;\r\n    lodash.forOwn = forOwn;\r\n    lodash.forOwnRight = forOwnRight;\r\n    lodash.functions = functions;\r\n    lodash.groupBy = groupBy;\r\n    lodash.indexBy = indexBy;\r\n    lodash.initial = initial;\r\n    lodash.intersection = intersection;\r\n    lodash.invert = invert;\r\n    lodash.invoke = invoke;\r\n    lodash.keys = keys;\r\n    lodash.keysIn = keysIn;\r\n    lodash.map = map;\r\n    lodash.mapKeys = mapKeys;\r\n    lodash.mapValues = mapValues;\r\n    lodash.matches = matches;\r\n    lodash.matchesProperty = matchesProperty;\r\n    lodash.memoize = memoize;\r\n    lodash.merge = merge;\r\n    lodash.method = method;\r\n    lodash.methodOf = methodOf;\r\n    lodash.mixin = mixin;\r\n    lodash.modArgs = modArgs;\r\n    lodash.negate = negate;\r\n    lodash.omit = omit;\r\n    lodash.once = once;\r\n    lodash.pairs = pairs;\r\n    lodash.partial = partial;\r\n    lodash.partialRight = partialRight;\r\n    lodash.partition = partition;\r\n    lodash.pick = pick;\r\n    lodash.pluck = pluck;\r\n    lodash.property = property;\r\n    lodash.propertyOf = propertyOf;\r\n    lodash.pull = pull;\r\n    lodash.pullAt = pullAt;\r\n    lodash.range = range;\r\n    lodash.rearg = rearg;\r\n    lodash.reject = reject;\r\n    lodash.remove = remove;\r\n    lodash.rest = rest;\r\n    lodash.restParam = restParam;\r\n    lodash.set = set;\r\n    lodash.shuffle = shuffle;\r\n    lodash.slice = slice;\r\n    lodash.sortBy = sortBy;\r\n    lodash.sortByAll = sortByAll;\r\n    lodash.sortByOrder = sortByOrder;\r\n    lodash.spread = spread;\r\n    lodash.take = take;\r\n    lodash.takeRight = takeRight;\r\n    lodash.takeRightWhile = takeRightWhile;\r\n    lodash.takeWhile = takeWhile;\r\n    lodash.tap = tap;\r\n    lodash.throttle = throttle;\r\n    lodash.thru = thru;\r\n    lodash.times = times;\r\n    lodash.toArray = toArray;\r\n    lodash.toPlainObject = toPlainObject;\r\n    lodash.transform = transform;\r\n    lodash.union = union;\r\n    lodash.uniq = uniq;\r\n    lodash.unzip = unzip;\r\n    lodash.unzipWith = unzipWith;\r\n    lodash.values = values;\r\n    lodash.valuesIn = valuesIn;\r\n    lodash.where = where;\r\n    lodash.without = without;\r\n    lodash.wrap = wrap;\r\n    lodash.xor = xor;\r\n    lodash.zip = zip;\r\n    lodash.zipObject = zipObject;\r\n    lodash.zipWith = zipWith;\r\n\r\n    // Add aliases.\r\n    lodash.backflow = flowRight;\r\n    lodash.collect = map;\r\n    lodash.compose = flowRight;\r\n    lodash.each = forEach;\r\n    lodash.eachRight = forEachRight;\r\n    lodash.extend = assign;\r\n    lodash.iteratee = callback;\r\n    lodash.methods = functions;\r\n    lodash.object = zipObject;\r\n    lodash.select = filter;\r\n    lodash.tail = rest;\r\n    lodash.unique = uniq;\r\n\r\n    // Add functions to `lodash.prototype`.\r\n    mixin(lodash, lodash);\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    // Add functions that return unwrapped values when chaining.\r\n    lodash.add = add;\r\n    lodash.attempt = attempt;\r\n    lodash.camelCase = camelCase;\r\n    lodash.capitalize = capitalize;\r\n    lodash.ceil = ceil;\r\n    lodash.clone = clone;\r\n    lodash.cloneDeep = cloneDeep;\r\n    lodash.deburr = deburr;\r\n    lodash.endsWith = endsWith;\r\n    lodash.escape = escape;\r\n    lodash.escapeRegExp = escapeRegExp;\r\n    lodash.every = every;\r\n    lodash.find = find;\r\n    lodash.findIndex = findIndex;\r\n    lodash.findKey = findKey;\r\n    lodash.findLast = findLast;\r\n    lodash.findLastIndex = findLastIndex;\r\n    lodash.findLastKey = findLastKey;\r\n    lodash.findWhere = findWhere;\r\n    lodash.first = first;\r\n    lodash.floor = floor;\r\n    lodash.get = get;\r\n    lodash.gt = gt;\r\n    lodash.gte = gte;\r\n    lodash.has = has;\r\n    lodash.identity = identity;\r\n    lodash.includes = includes;\r\n    lodash.indexOf = indexOf;\r\n    lodash.inRange = inRange;\r\n    lodash.isArguments = isArguments;\r\n    lodash.isArray = isArray;\r\n    lodash.isBoolean = isBoolean;\r\n    lodash.isDate = isDate;\r\n    lodash.isElement = isElement;\r\n    lodash.isEmpty = isEmpty;\r\n    lodash.isEqual = isEqual;\r\n    lodash.isError = isError;\r\n    lodash.isFinite = isFinite;\r\n    lodash.isFunction = isFunction;\r\n    lodash.isMatch = isMatch;\r\n    lodash.isNaN = isNaN;\r\n    lodash.isNative = isNative;\r\n    lodash.isNull = isNull;\r\n    lodash.isNumber = isNumber;\r\n    lodash.isObject = isObject;\r\n    lodash.isPlainObject = isPlainObject;\r\n    lodash.isRegExp = isRegExp;\r\n    lodash.isString = isString;\r\n    lodash.isTypedArray = isTypedArray;\r\n    lodash.isUndefined = isUndefined;\r\n    lodash.kebabCase = kebabCase;\r\n    lodash.last = last;\r\n    lodash.lastIndexOf = lastIndexOf;\r\n    lodash.lt = lt;\r\n    lodash.lte = lte;\r\n    lodash.max = max;\r\n    lodash.min = min;\r\n    lodash.noConflict = noConflict;\r\n    lodash.noop = noop;\r\n    lodash.now = now;\r\n    lodash.pad = pad;\r\n    lodash.padLeft = padLeft;\r\n    lodash.padRight = padRight;\r\n    lodash.parseInt = parseInt;\r\n    lodash.random = random;\r\n    lodash.reduce = reduce;\r\n    lodash.reduceRight = reduceRight;\r\n    lodash.repeat = repeat;\r\n    lodash.result = result;\r\n    lodash.round = round;\r\n    lodash.runInContext = runInContext;\r\n    lodash.size = size;\r\n    lodash.snakeCase = snakeCase;\r\n    lodash.some = some;\r\n    lodash.sortedIndex = sortedIndex;\r\n    lodash.sortedLastIndex = sortedLastIndex;\r\n    lodash.startCase = startCase;\r\n    lodash.startsWith = startsWith;\r\n    lodash.sum = sum;\r\n    lodash.template = template;\r\n    lodash.trim = trim;\r\n    lodash.trimLeft = trimLeft;\r\n    lodash.trimRight = trimRight;\r\n    lodash.trunc = trunc;\r\n    lodash.unescape = unescape;\r\n    lodash.uniqueId = uniqueId;\r\n    lodash.words = words;\r\n\r\n    // Add aliases.\r\n    lodash.all = every;\r\n    lodash.any = some;\r\n    lodash.contains = includes;\r\n    lodash.eq = isEqual;\r\n    lodash.detect = find;\r\n    lodash.foldl = reduce;\r\n    lodash.foldr = reduceRight;\r\n    lodash.head = first;\r\n    lodash.include = includes;\r\n    lodash.inject = reduce;\r\n\r\n    mixin(lodash, (function() {\r\n      var source = {};\r\n      baseForOwn(lodash, function(func, methodName) {\r\n        if (!lodash.prototype[methodName]) {\r\n          source[methodName] = func;\r\n        }\r\n      });\r\n      return source;\r\n    }()), false);\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    // Add functions capable of returning wrapped and unwrapped values when chaining.\r\n    lodash.sample = sample;\r\n\r\n    lodash.prototype.sample = function(n) {\r\n      if (!this.__chain__ && n == null) {\r\n        return sample(this.value());\r\n      }\r\n      return this.thru(function(value) {\r\n        return sample(value, n);\r\n      });\r\n    };\r\n\r\n    /*------------------------------------------------------------------------*/\r\n\r\n    /**\r\n     * The semantic version number.\r\n     *\r\n     * @static\r\n     * @memberOf _\r\n     * @type string\r\n     */\r\n    lodash.VERSION = VERSION;\r\n\r\n    // Assign default placeholders.\r\n    arrayEach(['bind', 'bindKey', 'curry', 'curryRight', 'partial', 'partialRight'], function(methodName) {\r\n      lodash[methodName].placeholder = lodash;\r\n    });\r\n\r\n    // Add `LazyWrapper` methods for `_.drop` and `_.take` variants.\r\n    arrayEach(['drop', 'take'], function(methodName, index) {\r\n      LazyWrapper.prototype[methodName] = function(n) {\r\n        var filtered = this.__filtered__;\r\n        if (filtered && !index) {\r\n          return new LazyWrapper(this);\r\n        }\r\n        n = n == null ? 1 : nativeMax(nativeFloor(n) || 0, 0);\r\n\r\n        var result = this.clone();\r\n        if (filtered) {\r\n          result.__takeCount__ = nativeMin(result.__takeCount__, n);\r\n        } else {\r\n          result.__views__.push({ 'size': n, 'type': methodName + (result.__dir__ < 0 ? 'Right' : '') });\r\n        }\r\n        return result;\r\n      };\r\n\r\n      LazyWrapper.prototype[methodName + 'Right'] = function(n) {\r\n        return this.reverse()[methodName](n).reverse();\r\n      };\r\n    });\r\n\r\n    // Add `LazyWrapper` methods that accept an `iteratee` value.\r\n    arrayEach(['filter', 'map', 'takeWhile'], function(methodName, index) {\r\n      var type = index + 1,\r\n          isFilter = type != LAZY_MAP_FLAG;\r\n\r\n      LazyWrapper.prototype[methodName] = function(iteratee, thisArg) {\r\n        var result = this.clone();\r\n        result.__iteratees__.push({ 'iteratee': getCallback(iteratee, thisArg, 1), 'type': type });\r\n        result.__filtered__ = result.__filtered__ || isFilter;\r\n        return result;\r\n      };\r\n    });\r\n\r\n    // Add `LazyWrapper` methods for `_.first` and `_.last`.\r\n    arrayEach(['first', 'last'], function(methodName, index) {\r\n      var takeName = 'take' + (index ? 'Right' : '');\r\n\r\n      LazyWrapper.prototype[methodName] = function() {\r\n        return this[takeName](1).value()[0];\r\n      };\r\n    });\r\n\r\n    // Add `LazyWrapper` methods for `_.initial` and `_.rest`.\r\n    arrayEach(['initial', 'rest'], function(methodName, index) {\r\n      var dropName = 'drop' + (index ? '' : 'Right');\r\n\r\n      LazyWrapper.prototype[methodName] = function() {\r\n        return this.__filtered__ ? new LazyWrapper(this) : this[dropName](1);\r\n      };\r\n    });\r\n\r\n    // Add `LazyWrapper` methods for `_.pluck` and `_.where`.\r\n    arrayEach(['pluck', 'where'], function(methodName, index) {\r\n      var operationName = index ? 'filter' : 'map',\r\n          createCallback = index ? baseMatches : property;\r\n\r\n      LazyWrapper.prototype[methodName] = function(value) {\r\n        return this[operationName](createCallback(value));\r\n      };\r\n    });\r\n\r\n    LazyWrapper.prototype.compact = function() {\r\n      return this.filter(identity);\r\n    };\r\n\r\n    LazyWrapper.prototype.reject = function(predicate, thisArg) {\r\n      predicate = getCallback(predicate, thisArg, 1);\r\n      return this.filter(function(value) {\r\n        return !predicate(value);\r\n      });\r\n    };\r\n\r\n    LazyWrapper.prototype.slice = function(start, end) {\r\n      start = start == null ? 0 : (+start || 0);\r\n\r\n      var result = this;\r\n      if (result.__filtered__ && (start > 0 || end < 0)) {\r\n        return new LazyWrapper(result);\r\n      }\r\n      if (start < 0) {\r\n        result = result.takeRight(-start);\r\n      } else if (start) {\r\n        result = result.drop(start);\r\n      }\r\n      if (end !== undefined) {\r\n        end = (+end || 0);\r\n        result = end < 0 ? result.dropRight(-end) : result.take(end - start);\r\n      }\r\n      return result;\r\n    };\r\n\r\n    LazyWrapper.prototype.takeRightWhile = function(predicate, thisArg) {\r\n      return this.reverse().takeWhile(predicate, thisArg).reverse();\r\n    };\r\n\r\n    LazyWrapper.prototype.toArray = function() {\r\n      return this.take(POSITIVE_INFINITY);\r\n    };\r\n\r\n    // Add `LazyWrapper` methods to `lodash.prototype`.\r\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\r\n      var checkIteratee = /^(?:filter|map|reject)|While$/.test(methodName),\r\n          retUnwrapped = /^(?:first|last)$/.test(methodName),\r\n          lodashFunc = lodash[retUnwrapped ? ('take' + (methodName == 'last' ? 'Right' : '')) : methodName];\r\n\r\n      if (!lodashFunc) {\r\n        return;\r\n      }\r\n      lodash.prototype[methodName] = function() {\r\n        var args = retUnwrapped ? [1] : arguments,\r\n            chainAll = this.__chain__,\r\n            value = this.__wrapped__,\r\n            isHybrid = !!this.__actions__.length,\r\n            isLazy = value instanceof LazyWrapper,\r\n            iteratee = args[0],\r\n            useLazy = isLazy || isArray(value);\r\n\r\n        if (useLazy && checkIteratee && typeof iteratee == 'function' && iteratee.length != 1) {\r\n          // Avoid lazy use if the iteratee has a \"length\" value other than `1`.\r\n          isLazy = useLazy = false;\r\n        }\r\n        var interceptor = function(value) {\r\n          return (retUnwrapped && chainAll)\r\n            ? lodashFunc(value, 1)[0]\r\n            : lodashFunc.apply(undefined, arrayPush([value], args));\r\n        };\r\n\r\n        var action = { 'func': thru, 'args': [interceptor], 'thisArg': undefined },\r\n            onlyLazy = isLazy && !isHybrid;\r\n\r\n        if (retUnwrapped && !chainAll) {\r\n          if (onlyLazy) {\r\n            value = value.clone();\r\n            value.__actions__.push(action);\r\n            return func.call(value);\r\n          }\r\n          return lodashFunc.call(undefined, this.value())[0];\r\n        }\r\n        if (!retUnwrapped && useLazy) {\r\n          value = onlyLazy ? value : new LazyWrapper(this);\r\n          var result = func.apply(value, args);\r\n          result.__actions__.push(action);\r\n          return new LodashWrapper(result, chainAll);\r\n        }\r\n        return this.thru(interceptor);\r\n      };\r\n    });\r\n\r\n    // Add `Array` and `String` methods to `lodash.prototype`.\r\n    arrayEach(['join', 'pop', 'push', 'replace', 'shift', 'sort', 'splice', 'split', 'unshift'], function(methodName) {\r\n      var func = (/^(?:replace|split)$/.test(methodName) ? stringProto : arrayProto)[methodName],\r\n          chainName = /^(?:push|sort|unshift)$/.test(methodName) ? 'tap' : 'thru',\r\n          retUnwrapped = /^(?:join|pop|replace|shift)$/.test(methodName);\r\n\r\n      lodash.prototype[methodName] = function() {\r\n        var args = arguments;\r\n        if (retUnwrapped && !this.__chain__) {\r\n          return func.apply(this.value(), args);\r\n        }\r\n        return this[chainName](function(value) {\r\n          return func.apply(value, args);\r\n        });\r\n      };\r\n    });\r\n\r\n    // Map minified function names to their real names.\r\n    baseForOwn(LazyWrapper.prototype, function(func, methodName) {\r\n      var lodashFunc = lodash[methodName];\r\n      if (lodashFunc) {\r\n        var key = (lodashFunc.name + ''),\r\n            names = realNames[key] || (realNames[key] = []);\r\n\r\n        names.push({ 'name': methodName, 'func': lodashFunc });\r\n      }\r\n    });\r\n\r\n    realNames[createHybridWrapper(undefined, BIND_KEY_FLAG).name] = [{ 'name': 'wrapper', 'func': undefined }];\r\n\r\n    // Add functions to the lazy wrapper.\r\n    LazyWrapper.prototype.clone = lazyClone;\r\n    LazyWrapper.prototype.reverse = lazyReverse;\r\n    LazyWrapper.prototype.value = lazyValue;\r\n\r\n    // Add chaining functions to the `lodash` wrapper.\r\n    lodash.prototype.chain = wrapperChain;\r\n    lodash.prototype.commit = wrapperCommit;\r\n    lodash.prototype.concat = wrapperConcat;\r\n    lodash.prototype.plant = wrapperPlant;\r\n    lodash.prototype.reverse = wrapperReverse;\r\n    lodash.prototype.toString = wrapperToString;\r\n    lodash.prototype.run = lodash.prototype.toJSON = lodash.prototype.valueOf = lodash.prototype.value = wrapperValue;\r\n\r\n    // Add function aliases to the `lodash` wrapper.\r\n    lodash.prototype.collect = lodash.prototype.map;\r\n    lodash.prototype.head = lodash.prototype.first;\r\n    lodash.prototype.select = lodash.prototype.filter;\r\n    lodash.prototype.tail = lodash.prototype.rest;\r\n\r\n    return lodash;\r\n  }\r\n\r\n  /*--------------------------------------------------------------------------*/\r\n\r\n  // Export lodash.\r\n  var _ = runInContext();\r\n\r\n  // Some AMD build optimizers like r.js check for condition patterns like the following:\r\n  if (typeof define == 'function' && typeof define.amd == 'object' && define.amd) {\r\n    // Expose lodash to the global object when an AMD loader is present to avoid\r\n    // errors in cases where lodash is loaded by a script tag and not intended\r\n    // as an AMD module. See http://requirejs.org/docs/errors.html#mismatch for\r\n    // more details.\r\n    root._ = _;\r\n\r\n    // Define as an anonymous module so, through path mapping, it can be\r\n    // referenced as the \"underscore\" module.\r\n    define(function() {\r\n      return _;\r\n    });\r\n  }\r\n  // Check for `exports` after `define` in case a build optimizer adds an `exports` object.\r\n  else if (freeExports && freeModule) {\r\n    // Export for Node.js or RingoJS.\r\n    if (moduleExports) {\r\n      (freeModule.exports = _)._ = _;\r\n    }\r\n    // Export for Rhino with CommonJS support.\r\n    else {\r\n      freeExports._ = _;\r\n    }\r\n  }\r\n  else {\r\n    // Export for a browser or Rhino.\r\n    root._ = _;\r\n  }\r\n}.call(this));\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/lodash/lodash.js\n ** module id = 59\n ** module chunks = 0\n **/","module.exports = function(module) {\r\n\tif(!module.webpackPolyfill) {\r\n\t\tmodule.deprecate = function() {};\r\n\t\tmodule.paths = [];\r\n\t\t// module.parent = undefined by default\r\n\t\tmodule.children = [];\r\n\t\tmodule.webpackPolyfill = 1;\r\n\t}\r\n\treturn module;\r\n}\r\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** (webpack)/buildin/module.js\n ** module id = 60\n ** module chunks = 0\n **/","module.exports = __webpack_public_path__ + \"723e31f389b6dd77d68545b69583256f.jpg\";\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/src/content/whatsdota.jpg\n ** module id = 61\n ** module chunks = 0\n **/","if(!global[\"dat\"]) global[\"dat\"] = {};\nmodule.exports = global[\"dat\"][\"gui\"] = require(\"-!E:\\\\shanghai-metro-ad\\\\app\\\\lib\\\\dat.gui.js\\\\build\\\\dat.gui.js\");\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./~/expose-loader?dat.gui!./app/lib/dat.gui.js/build/dat.gui.js\n ** module id = 62\n ** module chunks = 0\n **/","/**\r\n * dat-gui JavaScript Controller Library\r\n * http://code.google.com/p/dat-gui\r\n *\r\n * Copyright 2011 Data Arts Team, Google Creative Lab\r\n *\r\n * Licensed under the Apache License, Version 2.0 (the \"License\");\r\n * you may not use this file except in compliance with the License.\r\n * You may obtain a copy of the License at\r\n *\r\n * http://www.apache.org/licenses/LICENSE-2.0\r\n */\r\n\r\n/** @namespace */\r\ndat = dat || {};\r\n\r\n/** @namespace */\r\ndat.gui = dat.gui || {};\r\n\r\n/** @namespace */\r\ndat.utils = dat.utils || {};\r\n\r\n/** @namespace */\r\ndat.controllers = dat.controllers || {};\r\n\r\n/** @namespace */\r\ndat.dom = dat.dom || {};\r\n\r\n/** @namespace */\r\ndat.color = dat.color || {};\r\n\r\ndat.utils.css = (function () {\r\n  return {\r\n    load: function (url, doc) {\r\n      doc = doc || document;\r\n      var link = doc.createElement('link');\r\n      link.type = 'text/css';\r\n      link.rel = 'stylesheet';\r\n      link.href = url;\r\n      doc.getElementsByTagName('head')[0].appendChild(link);\r\n    },\r\n    inject: function(css, doc) {\r\n      doc = doc || document;\r\n      var injected = document.createElement('style');\r\n      injected.type = 'text/css';\r\n      injected.innerHTML = css;\r\n      doc.getElementsByTagName('head')[0].appendChild(injected);\r\n    }\r\n  }\r\n})();\r\n\r\n\r\ndat.utils.common = (function () {\r\n  \r\n  var ARR_EACH = Array.prototype.forEach;\r\n  var ARR_SLICE = Array.prototype.slice;\r\n\r\n  /**\r\n   * Band-aid methods for things that should be a lot easier in JavaScript.\r\n   * Implementation and structure inspired by underscore.js\r\n   * http://documentcloud.github.com/underscore/\r\n   */\r\n\r\n  return { \r\n    \r\n    BREAK: {},\r\n  \r\n    extend: function(target) {\r\n      \r\n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\r\n        \r\n        for (var key in obj)\r\n          if (!this.isUndefined(obj[key])) \r\n            target[key] = obj[key];\r\n        \r\n      }, this);\r\n      \r\n      return target;\r\n      \r\n    },\r\n    \r\n    defaults: function(target) {\r\n      \r\n      this.each(ARR_SLICE.call(arguments, 1), function(obj) {\r\n        \r\n        for (var key in obj)\r\n          if (this.isUndefined(target[key])) \r\n            target[key] = obj[key];\r\n        \r\n      }, this);\r\n      \r\n      return target;\r\n    \r\n    },\r\n    \r\n    compose: function() {\r\n      var toCall = ARR_SLICE.call(arguments);\r\n            return function() {\r\n              var args = ARR_SLICE.call(arguments);\r\n              for (var i = toCall.length -1; i >= 0; i--) {\r\n                args = [toCall[i].apply(this, args)];\r\n              }\r\n              return args[0];\r\n            }\r\n    },\r\n    \r\n    each: function(obj, itr, scope) {\r\n\r\n      if (!obj) return;\r\n\r\n      if (ARR_EACH && obj.forEach && obj.forEach === ARR_EACH) { \r\n        \r\n        obj.forEach(itr, scope);\r\n        \r\n      } else if (obj.length === obj.length + 0) { // Is number but not NaN\r\n        \r\n        for (var key = 0, l = obj.length; key < l; key++)\r\n          if (key in obj && itr.call(scope, obj[key], key) === this.BREAK) \r\n            return;\r\n            \r\n      } else {\r\n\r\n        for (var key in obj) \r\n          if (itr.call(scope, obj[key], key) === this.BREAK)\r\n            return;\r\n            \r\n      }\r\n            \r\n    },\r\n    \r\n    defer: function(fnc) {\r\n      setTimeout(fnc, 0);\r\n    },\r\n    \r\n    toArray: function(obj) {\r\n      if (obj.toArray) return obj.toArray();\r\n      return ARR_SLICE.call(obj);\r\n    },\r\n\r\n    isUndefined: function(obj) {\r\n      return obj === undefined;\r\n    },\r\n    \r\n    isNull: function(obj) {\r\n      return obj === null;\r\n    },\r\n    \r\n    isNaN: function(obj) {\r\n      return obj !== obj;\r\n    },\r\n    \r\n    isArray: Array.isArray || function(obj) {\r\n      return obj.constructor === Array;\r\n    },\r\n    \r\n    isObject: function(obj) {\r\n      return obj === Object(obj);\r\n    },\r\n    \r\n    isNumber: function(obj) {\r\n      return obj === obj+0;\r\n    },\r\n    \r\n    isString: function(obj) {\r\n      return obj === obj+'';\r\n    },\r\n    \r\n    isBoolean: function(obj) {\r\n      return obj === false || obj === true;\r\n    },\r\n    \r\n    isFunction: function(obj) {\r\n      return Object.prototype.toString.call(obj) === '[object Function]';\r\n    }\r\n  \r\n  };\r\n    \r\n})();\r\n\r\n\r\ndat.controllers.Controller = (function (common) {\r\n\r\n  /**\r\n   * @class An \"abstract\" class that represents a given property of an object.\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var Controller = function(object, property) {\r\n\r\n    this.initialValue = object[property];\r\n\r\n    /**\r\n     * Those who extend this class will put their DOM elements in here.\r\n     * @type {DOMElement}\r\n     */\r\n    this.domElement = document.createElement('div');\r\n\r\n    /**\r\n     * The object to manipulate\r\n     * @type {Object}\r\n     */\r\n    this.object = object;\r\n\r\n    /**\r\n     * The name of the property to manipulate\r\n     * @type {String}\r\n     */\r\n    this.property = property;\r\n\r\n    /**\r\n     * The function to be called on change.\r\n     * @type {Function}\r\n     * @ignore\r\n     */\r\n    this.__onChange = undefined;\r\n\r\n    /**\r\n     * The function to be called on finishing change.\r\n     * @type {Function}\r\n     * @ignore\r\n     */\r\n    this.__onFinishChange = undefined;\r\n\r\n  };\r\n\r\n  common.extend(\r\n\r\n      Controller.prototype,\r\n\r\n      /** @lends dat.controllers.Controller.prototype */\r\n      {\r\n\r\n        /**\r\n         * Specify that a function fire every time someone changes the value with\r\n         * this Controller.\r\n         *\r\n         * @param {Function} fnc This function will be called whenever the value\r\n         * is modified via this Controller.\r\n         * @returns {dat.controllers.Controller} this\r\n         */\r\n        onChange: function(fnc) {\r\n          this.__onChange = fnc;\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * Specify that a function fire every time someone \"finishes\" changing\r\n         * the value wih this Controller. Useful for values that change\r\n         * incrementally like numbers or strings.\r\n         *\r\n         * @param {Function} fnc This function will be called whenever\r\n         * someone \"finishes\" changing the value via this Controller.\r\n         * @returns {dat.controllers.Controller} this\r\n         */\r\n        onFinishChange: function(fnc) {\r\n          this.__onFinishChange = fnc;\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * Change the value of <code>object[property]</code>\r\n         *\r\n         * @param {Object} newValue The new value of <code>object[property]</code>\r\n         */\r\n        setValue: function(newValue) {\r\n          this.object[this.property] = newValue;\r\n          if (this.__onChange) {\r\n            this.__onChange.call(this, newValue);\r\n          }\r\n          this.updateDisplay();\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * Gets the value of <code>object[property]</code>\r\n         *\r\n         * @returns {Object} The current value of <code>object[property]</code>\r\n         */\r\n        getValue: function() {\r\n          return this.object[this.property];\r\n        },\r\n\r\n        /**\r\n         * Refreshes the visual display of a Controller in order to keep sync\r\n         * with the object's current value.\r\n         * @returns {dat.controllers.Controller} this\r\n         */\r\n        updateDisplay: function() {\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * @returns {Boolean} true if the value has deviated from initialValue\r\n         */\r\n        isModified: function() {\r\n          return this.initialValue !== this.getValue()\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n\r\n  return Controller;\r\n\r\n\r\n})(dat.utils.common);\r\n\r\n\r\ndat.dom.dom = (function (common) {\r\n\r\n  var EVENT_MAP = {\r\n    'HTMLEvents': ['change'],\r\n    'MouseEvents': ['click','mousemove','mousedown','mouseup', 'mouseover'],\r\n    'KeyboardEvents': ['keydown']\r\n  };\r\n\r\n  var EVENT_MAP_INV = {};\r\n  common.each(EVENT_MAP, function(v, k) {\r\n    common.each(v, function(e) {\r\n      EVENT_MAP_INV[e] = k;\r\n    });\r\n  });\r\n\r\n  var CSS_VALUE_PIXELS = /(\\d+(\\.\\d+)?)px/;\r\n\r\n  function cssValueToPixels(val) {\r\n\r\n    if (val === '0' || common.isUndefined(val)) return 0;\r\n\r\n    var match = val.match(CSS_VALUE_PIXELS);\r\n\r\n    if (!common.isNull(match)) {\r\n      return parseFloat(match[1]);\r\n    }\r\n\r\n    // TODO ...ems? %?\r\n\r\n    return 0;\r\n\r\n  }\r\n\r\n  /**\r\n   * @namespace\r\n   * @member dat.dom\r\n   */\r\n  var dom = {\r\n\r\n    /**\r\n     * \r\n     * @param elem\r\n     * @param selectable\r\n     */\r\n    makeSelectable: function(elem, selectable) {\r\n\r\n      if (elem === undefined || elem.style === undefined) return;\r\n\r\n      elem.onselectstart = selectable ? function() {\r\n        return false;\r\n      } : function() {\r\n      };\r\n\r\n      elem.style.MozUserSelect = selectable ? 'auto' : 'none';\r\n      elem.style.KhtmlUserSelect = selectable ? 'auto' : 'none';\r\n      elem.unselectable = selectable ? 'on' : 'off';\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param horizontal\r\n     * @param vertical\r\n     */\r\n    makeFullscreen: function(elem, horizontal, vertical) {\r\n\r\n      if (common.isUndefined(horizontal)) horizontal = true;\r\n      if (common.isUndefined(vertical)) vertical = true;\r\n\r\n      elem.style.position = 'absolute';\r\n\r\n      if (horizontal) {\r\n        elem.style.left = 0;\r\n        elem.style.right = 0;\r\n      }\r\n      if (vertical) {\r\n        elem.style.top = 0;\r\n        elem.style.bottom = 0;\r\n      }\r\n\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param eventType\r\n     * @param params\r\n     */\r\n    fakeEvent: function(elem, eventType, params, aux) {\r\n      params = params || {};\r\n      var className = EVENT_MAP_INV[eventType];\r\n      if (!className) {\r\n        throw new Error('Event type ' + eventType + ' not supported.');\r\n      }\r\n      var evt = document.createEvent(className);\r\n      switch (className) {\r\n        case 'MouseEvents':\r\n          var clientX = params.x || params.clientX || 0;\r\n          var clientY = params.y || params.clientY || 0;\r\n          evt.initMouseEvent(eventType, params.bubbles || false,\r\n              params.cancelable || true, window, params.clickCount || 1,\r\n              0, //screen X\r\n              0, //screen Y\r\n              clientX, //client X\r\n              clientY, //client Y\r\n              false, false, false, false, 0, null);\r\n          break;\r\n        case 'KeyboardEvents':\r\n          var init = evt.initKeyboardEvent || evt.initKeyEvent; // webkit || moz\r\n          common.defaults(params, {\r\n            cancelable: true,\r\n            ctrlKey: false,\r\n            altKey: false,\r\n            shiftKey: false,\r\n            metaKey: false,\r\n            keyCode: undefined,\r\n            charCode: undefined\r\n          });\r\n          init(eventType, params.bubbles || false,\r\n              params.cancelable, window,\r\n              params.ctrlKey, params.altKey,\r\n              params.shiftKey, params.metaKey,\r\n              params.keyCode, params.charCode);\r\n          break;\r\n        default:\r\n          evt.initEvent(eventType, params.bubbles || false,\r\n              params.cancelable || true);\r\n          break;\r\n      }\r\n      common.defaults(evt, aux);\r\n      elem.dispatchEvent(evt);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param event\r\n     * @param func\r\n     * @param bool\r\n     */\r\n    bind: function(elem, event, func, bool) {\r\n      bool = bool || false;\r\n      if (elem.addEventListener)\r\n        elem.addEventListener(event, func, bool);\r\n      else if (elem.attachEvent)\r\n        elem.attachEvent('on' + event, func);\r\n      return dom;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param event\r\n     * @param func\r\n     * @param bool\r\n     */\r\n    unbind: function(elem, event, func, bool) {\r\n      bool = bool || false;\r\n      if (elem.removeEventListener)\r\n        elem.removeEventListener(event, func, bool);\r\n      else if (elem.detachEvent)\r\n        elem.detachEvent('on' + event, func);\r\n      return dom;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param className\r\n     */\r\n    addClass: function(elem, className) {\r\n      if (elem.className === undefined) {\r\n        elem.className = className;\r\n      } else if (elem.className !== className) {\r\n        var classes = elem.className.split(/ +/);\r\n        if (classes.indexOf(className) == -1) {\r\n          classes.push(className);\r\n          elem.className = classes.join(' ').replace(/^\\s+/, '').replace(/\\s+$/, '');\r\n        }\r\n      }\r\n      return dom;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     * @param className\r\n     */\r\n    removeClass: function(elem, className) {\r\n      if (className) {\r\n        if (elem.className === undefined) {\r\n          // elem.className = className;\r\n        } else if (elem.className === className) {\r\n          elem.removeAttribute('class');\r\n        } else {\r\n          var classes = elem.className.split(/ +/);\r\n          var index = classes.indexOf(className);\r\n          if (index != -1) {\r\n            classes.splice(index, 1);\r\n            elem.className = classes.join(' ');\r\n          }\r\n        }\r\n      } else {\r\n        elem.className = undefined;\r\n      }\r\n      return dom;\r\n    },\r\n\r\n    hasClass: function(elem, className) {\r\n      return new RegExp('(?:^|\\\\s+)' + className + '(?:\\\\s+|$)').test(elem.className) || false;\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     */\r\n    getWidth: function(elem) {\r\n\r\n      var style = getComputedStyle(elem);\r\n\r\n      return cssValueToPixels(style['border-left-width']) +\r\n          cssValueToPixels(style['border-right-width']) +\r\n          cssValueToPixels(style['padding-left']) +\r\n          cssValueToPixels(style['padding-right']) +\r\n          cssValueToPixels(style['width']);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     */\r\n    getHeight: function(elem) {\r\n\r\n      var style = getComputedStyle(elem);\r\n\r\n      return cssValueToPixels(style['border-top-width']) +\r\n          cssValueToPixels(style['border-bottom-width']) +\r\n          cssValueToPixels(style['padding-top']) +\r\n          cssValueToPixels(style['padding-bottom']) +\r\n          cssValueToPixels(style['height']);\r\n    },\r\n\r\n    /**\r\n     *\r\n     * @param elem\r\n     */\r\n    getOffset: function(elem) {\r\n      var offset = {left: 0, top:0};\r\n      if (elem.offsetParent) {\r\n        do {\r\n          offset.left += elem.offsetLeft;\r\n          offset.top += elem.offsetTop;\r\n        } while (elem = elem.offsetParent);\r\n      }\r\n      return offset;\r\n    },\r\n\r\n    // http://stackoverflow.com/posts/2684561/revisions\r\n    /**\r\n     * \r\n     * @param elem\r\n     */\r\n    isActive: function(elem) {\r\n      return elem === document.activeElement && ( elem.type || elem.href );\r\n    }\r\n\r\n  };\r\n\r\n  return dom;\r\n\r\n})(dat.utils.common);\r\n\r\n\r\ndat.controllers.OptionController = (function (Controller, dom, common) {\r\n\r\n  /**\r\n   * @class Provides a select input to alter the property of an object, using a\r\n   * list of accepted values.\r\n   *\r\n   * @extends dat.controllers.Controller\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   * @param {Object|string[]} options A map of labels to acceptable values, or\r\n   * a list of acceptable string values.\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var OptionController = function(object, property, options) {\r\n\r\n    OptionController.superclass.call(this, object, property);\r\n\r\n    var _this = this;\r\n\r\n    /**\r\n     * The drop down menu\r\n     * @ignore\r\n     */\r\n    this.__select = document.createElement('select');\r\n\r\n    if (common.isArray(options)) {\r\n      var map = {};\r\n      common.each(options, function(element) {\r\n        map[element] = element;\r\n      });\r\n      options = map;\r\n    }\r\n\r\n    common.each(options, function(value, key) {\r\n\r\n      var opt = document.createElement('option');\r\n      opt.innerHTML = key;\r\n      opt.setAttribute('value', value);\r\n      _this.__select.appendChild(opt);\r\n\r\n    });\r\n\r\n    // Acknowledge original value\r\n    this.updateDisplay();\r\n\r\n    dom.bind(this.__select, 'change', function() {\r\n      var desiredValue = this.options[this.selectedIndex].value;\r\n      _this.setValue(desiredValue);\r\n    });\r\n\r\n    this.domElement.appendChild(this.__select);\r\n\r\n  };\r\n\r\n  OptionController.superclass = Controller;\r\n\r\n  common.extend(\r\n\r\n      OptionController.prototype,\r\n      Controller.prototype,\r\n\r\n      {\r\n\r\n        setValue: function(v) {\r\n          var toReturn = OptionController.superclass.prototype.setValue.call(this, v);\r\n          if (this.__onFinishChange) {\r\n            this.__onFinishChange.call(this, this.getValue());\r\n          }\r\n          return toReturn;\r\n        },\r\n\r\n        updateDisplay: function() {\r\n          this.__select.value = this.getValue();\r\n          return OptionController.superclass.prototype.updateDisplay.call(this);\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n\r\n  return OptionController;\r\n\r\n})(dat.controllers.Controller,\r\ndat.dom.dom,\r\ndat.utils.common);\r\n\r\n\r\ndat.controllers.NumberController = (function (Controller, common) {\r\n\r\n  /**\r\n   * @class Represents a given property of an object that is a number.\r\n   *\r\n   * @extends dat.controllers.Controller\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   * @param {Object} [params] Optional parameters\r\n   * @param {Number} [params.min] Minimum allowed value\r\n   * @param {Number} [params.max] Maximum allowed value\r\n   * @param {Number} [params.step] Increment by which to change value\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var NumberController = function(object, property, params) {\r\n\r\n    NumberController.superclass.call(this, object, property);\r\n\r\n    params = params || {};\r\n\r\n    this.__min = params.min;\r\n    this.__max = params.max;\r\n    this.__step = params.step;\r\n\r\n    if (common.isUndefined(this.__step)) {\r\n\r\n      if (this.initialValue == 0) {\r\n        this.__impliedStep = 1; // What are we, psychics?\r\n      } else {\r\n        // Hey Doug, check this out.\r\n        this.__impliedStep = Math.pow(10, Math.floor(Math.log(this.initialValue)/Math.LN10))/10;\r\n      }\r\n\r\n    } else {\r\n\r\n    \tthis.__impliedStep = this.__step;\r\n\r\n    }\r\n\r\n    this.__precision = numDecimals(this.__impliedStep);\r\n\r\n\r\n  };\r\n\r\n  NumberController.superclass = Controller;\r\n\r\n  common.extend(\r\n\r\n      NumberController.prototype,\r\n      Controller.prototype,\r\n\r\n      /** @lends dat.controllers.NumberController.prototype */\r\n      {\r\n\r\n        setValue: function(v) {\r\n\r\n          if (this.__min !== undefined && v < this.__min) {\r\n            v = this.__min;\r\n          } else if (this.__max !== undefined && v > this.__max) {\r\n            v = this.__max;\r\n          }\r\n\r\n          if (this.__step !== undefined && v % this.__step != 0) {\r\n            v = Math.round(v / this.__step) * this.__step;\r\n          }\r\n\r\n          return NumberController.superclass.prototype.setValue.call(this, v);\r\n\r\n        },\r\n\r\n        /**\r\n         * Specify a minimum value for <code>object[property]</code>.\r\n         *\r\n         * @param {Number} minValue The minimum value for\r\n         * <code>object[property]</code>\r\n         * @returns {dat.controllers.NumberController} this\r\n         */\r\n        min: function(v) {\r\n          this.__min = v;\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * Specify a maximum value for <code>object[property]</code>.\r\n         *\r\n         * @param {Number} maxValue The maximum value for\r\n         * <code>object[property]</code>\r\n         * @returns {dat.controllers.NumberController} this\r\n         */\r\n        max: function(v) {\r\n          this.__max = v;\r\n          return this;\r\n        },\r\n\r\n        /**\r\n         * Specify a step value that dat.controllers.NumberController\r\n         * increments by.\r\n         *\r\n         * @param {Number} stepValue The step value for\r\n         * dat.controllers.NumberController\r\n         * @default if minimum and maximum specified increment is 1% of the\r\n         * difference otherwise stepValue is 1\r\n         * @returns {dat.controllers.NumberController} this\r\n         */\r\n        step: function(v) {\r\n          this.__step = v;\r\n          this.__impliedStep = v;\r\n          this.__precision = numDecimals(v);\r\n          return this;\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n\r\n  function numDecimals(x) {\r\n    x = x.toString();\r\n    if (x.indexOf('.') > -1) {\r\n      return x.length - x.indexOf('.') - 1;\r\n    } else {\r\n      return 0;\r\n    }\r\n  }\r\n\r\n  return NumberController;\r\n\r\n})(dat.controllers.Controller,\r\ndat.utils.common);\r\n\r\n\r\ndat.controllers.NumberControllerBox = (function (NumberController, dom, common) {\r\n\r\n  /**\r\n   * @class Represents a given property of an object that is a number and\r\n   * provides an input element with which to manipulate it.\r\n   *\r\n   * @extends dat.controllers.Controller\r\n   * @extends dat.controllers.NumberController\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   * @param {Object} [params] Optional parameters\r\n   * @param {Number} [params.min] Minimum allowed value\r\n   * @param {Number} [params.max] Maximum allowed value\r\n   * @param {Number} [params.step] Increment by which to change value\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var NumberControllerBox = function(object, property, params) {\r\n\r\n    this.__truncationSuspended = false;\r\n\r\n    NumberControllerBox.superclass.call(this, object, property, params);\r\n\r\n    var _this = this;\r\n\r\n    /**\r\n     * {Number} Previous mouse y position\r\n     * @ignore\r\n     */\r\n    var prev_y;\r\n\r\n    this.__input = document.createElement('input');\r\n    this.__input.setAttribute('type', 'text');\r\n\r\n    // Makes it so manually specified values are not truncated.\r\n\r\n    dom.bind(this.__input, 'change', onChange);\r\n    dom.bind(this.__input, 'blur', onBlur);\r\n    dom.bind(this.__input, 'mousedown', onMouseDown);\r\n    dom.bind(this.__input, 'keydown', function(e) {\r\n\r\n      // When pressing entire, you can be as precise as you want.\r\n      if (e.keyCode === 13) {\r\n        _this.__truncationSuspended = true;\r\n        this.blur();\r\n        _this.__truncationSuspended = false;\r\n      }\r\n\r\n    });\r\n\r\n    function onChange() {\r\n      var attempted = parseFloat(_this.__input.value);\r\n      if (!common.isNaN(attempted)) _this.setValue(attempted);\r\n    }\r\n\r\n    function onBlur() {\r\n      onChange();\r\n      if (_this.__onFinishChange) {\r\n        _this.__onFinishChange.call(_this, _this.getValue());\r\n      }\r\n    }\r\n\r\n    function onMouseDown(e) {\r\n      dom.bind(window, 'mousemove', onMouseDrag);\r\n      dom.bind(window, 'mouseup', onMouseUp);\r\n      prev_y = e.clientY;\r\n    }\r\n\r\n    function onMouseDrag(e) {\r\n\r\n      var diff = prev_y - e.clientY;\r\n      _this.setValue(_this.getValue() + diff * _this.__impliedStep);\r\n\r\n      prev_y = e.clientY;\r\n\r\n    }\r\n\r\n    function onMouseUp() {\r\n      dom.unbind(window, 'mousemove', onMouseDrag);\r\n      dom.unbind(window, 'mouseup', onMouseUp);\r\n    }\r\n\r\n    this.updateDisplay();\r\n\r\n    this.domElement.appendChild(this.__input);\r\n\r\n  };\r\n\r\n  NumberControllerBox.superclass = NumberController;\r\n\r\n  common.extend(\r\n\r\n      NumberControllerBox.prototype,\r\n      NumberController.prototype,\r\n\r\n      {\r\n\r\n        updateDisplay: function() {\r\n\r\n          this.__input.value = this.__truncationSuspended ? this.getValue() : roundToDecimal(this.getValue(), this.__precision);\r\n          return NumberControllerBox.superclass.prototype.updateDisplay.call(this);\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n\r\n  function roundToDecimal(value, decimals) {\r\n    var tenTo = Math.pow(10, decimals);\r\n    return Math.round(value * tenTo) / tenTo;\r\n  }\r\n\r\n  return NumberControllerBox;\r\n\r\n})(dat.controllers.NumberController,\r\ndat.dom.dom,\r\ndat.utils.common);\r\n\r\n\r\ndat.controllers.NumberControllerSlider = (function (NumberController, dom, css, common, styleSheet) {\r\n\r\n  /**\r\n   * @class Represents a given property of an object that is a number, contains\r\n   * a minimum and maximum, and provides a slider element with which to\r\n   * manipulate it. It should be noted that the slider element is made up of\r\n   * <code>&lt;div&gt;</code> tags, <strong>not</strong> the html5\r\n   * <code>&lt;slider&gt;</code> element.\r\n   *\r\n   * @extends dat.controllers.Controller\r\n   * @extends dat.controllers.NumberController\r\n   * \r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   * @param {Number} minValue Minimum allowed value\r\n   * @param {Number} maxValue Maximum allowed value\r\n   * @param {Number} stepValue Increment by which to change value\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var NumberControllerSlider = function(object, property, min, max, step) {\r\n\r\n    NumberControllerSlider.superclass.call(this, object, property, { min: min, max: max, step: step });\r\n\r\n    var _this = this;\r\n\r\n    this.__background = document.createElement('div');\r\n    this.__foreground = document.createElement('div');\r\n    \r\n\r\n\r\n    dom.bind(this.__background, 'mousedown', onMouseDown);\r\n    \r\n    dom.addClass(this.__background, 'slider');\r\n    dom.addClass(this.__foreground, 'slider-fg');\r\n\r\n    function onMouseDown(e) {\r\n\r\n      dom.bind(window, 'mousemove', onMouseDrag);\r\n      dom.bind(window, 'mouseup', onMouseUp);\r\n\r\n      onMouseDrag(e);\r\n    }\r\n\r\n    function onMouseDrag(e) {\r\n\r\n      e.preventDefault();\r\n\r\n      var offset = dom.getOffset(_this.__background);\r\n      var width = dom.getWidth(_this.__background);\r\n      \r\n      _this.setValue(\r\n      \tmap(e.clientX, offset.left, offset.left + width, _this.__min, _this.__max)\r\n      );\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    function onMouseUp() {\r\n      dom.unbind(window, 'mousemove', onMouseDrag);\r\n      dom.unbind(window, 'mouseup', onMouseUp);\r\n      if (_this.__onFinishChange) {\r\n        _this.__onFinishChange.call(_this, _this.getValue());\r\n      }\r\n    }\r\n\r\n    this.updateDisplay();\r\n\r\n    this.__background.appendChild(this.__foreground);\r\n    this.domElement.appendChild(this.__background);\r\n\r\n  };\r\n\r\n  NumberControllerSlider.superclass = NumberController;\r\n\r\n  /**\r\n   * Injects default stylesheet for slider elements.\r\n   */\r\n  NumberControllerSlider.useDefaultStyles = function() {\r\n    css.inject(styleSheet);\r\n  };\r\n\r\n  common.extend(\r\n\r\n      NumberControllerSlider.prototype,\r\n      NumberController.prototype,\r\n\r\n      {\r\n\r\n        updateDisplay: function() {\r\n          var pct = (this.getValue() - this.__min)/(this.__max - this.__min);\r\n          this.__foreground.style.width = pct*100+'%';\r\n          return NumberControllerSlider.superclass.prototype.updateDisplay.call(this);\r\n        }\r\n\r\n      }\r\n\r\n\r\n\r\n  );\r\n\r\n\tfunction map(v, i1, i2, o1, o2) {\r\n\t\treturn o1 + (o2 - o1) * ((v - i1) / (i2 - i1));\r\n\t}\r\n\r\n  return NumberControllerSlider;\r\n  \r\n})(dat.controllers.NumberController,\r\ndat.dom.dom,\r\ndat.utils.css,\r\ndat.utils.common,\r\n\"/**\\n * dat-gui JavaScript Controller Library\\n * http://code.google.com/p/dat-gui\\n *\\n * Copyright 2011 Data Arts Team, Google Creative Lab\\n *\\n * Licensed under the Apache License, Version 2.0 (the \\\"License\\\");\\n * you may not use this file except in compliance with the License.\\n * You may obtain a copy of the License at\\n *\\n * http://www.apache.org/licenses/LICENSE-2.0\\n */\\n\\n.slider {\\n  box-shadow: inset 0 2px 4px rgba(0,0,0,0.15);\\n  height: 1em;\\n  border-radius: 1em;\\n  background-color: #eee;\\n  padding: 0 0.5em;\\n  overflow: hidden;\\n}\\n\\n.slider-fg {\\n  padding: 1px 0 2px 0;\\n  background-color: #aaa;\\n  height: 1em;\\n  margin-left: -0.5em;\\n  padding-right: 0.5em;\\n  border-radius: 1em 0 0 1em;\\n}\\n\\n.slider-fg:after {\\n  display: inline-block;\\n  border-radius: 1em;\\n  background-color: #fff;\\n  border:  1px solid #aaa;\\n  content: '';\\n  float: right;\\n  margin-right: -1em;\\n  margin-top: -1px;\\n  height: 0.9em;\\n  width: 0.9em;\\n}\");\r\n\r\n\r\ndat.controllers.FunctionController = (function (Controller, dom, common) {\r\n\r\n  /**\r\n   * @class Provides a GUI interface to fire a specified method, a property of an object.\r\n   *\r\n   * @extends dat.controllers.Controller\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var FunctionController = function(object, property, text) {\r\n\r\n    FunctionController.superclass.call(this, object, property);\r\n\r\n    var _this = this;\r\n\r\n    this.__button = document.createElement('div');\r\n    this.__button.innerHTML = text === undefined ? 'Fire' : text;\r\n    dom.bind(this.__button, 'click', function(e) {\r\n      e.preventDefault();\r\n      _this.fire();\r\n      return false;\r\n    });\r\n\r\n    dom.addClass(this.__button, 'button');\r\n\r\n    this.domElement.appendChild(this.__button);\r\n\r\n\r\n  };\r\n\r\n  FunctionController.superclass = Controller;\r\n\r\n  common.extend(\r\n\r\n      FunctionController.prototype,\r\n      Controller.prototype,\r\n      {\r\n        \r\n        fire: function() {\r\n          if (this.__onChange) {\r\n            this.__onChange.call(this);\r\n          }\r\n          this.getValue().call(this.object);\r\n          if (this.__onFinishChange) {\r\n            this.__onFinishChange.call(this, this.getValue());\r\n          }\r\n        }\r\n      }\r\n\r\n  );\r\n\r\n  return FunctionController;\r\n\r\n})(dat.controllers.Controller,\r\ndat.dom.dom,\r\ndat.utils.common);\r\n\r\n\r\ndat.controllers.BooleanController = (function (Controller, dom, common) {\r\n\r\n  /**\r\n   * @class Provides a checkbox input to alter the boolean property of an object.\r\n   * @extends dat.controllers.Controller\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var BooleanController = function(object, property) {\r\n\r\n    BooleanController.superclass.call(this, object, property);\r\n\r\n    var _this = this;\r\n    this.__prev = this.getValue();\r\n\r\n    this.__checkbox = document.createElement('input');\r\n    this.__checkbox.setAttribute('type', 'checkbox');\r\n\r\n\r\n    dom.bind(this.__checkbox, 'change', onChange, false);\r\n\r\n    this.domElement.appendChild(this.__checkbox);\r\n\r\n    // Match original value\r\n    this.updateDisplay();\r\n\r\n    function onChange() {\r\n      _this.setValue(!_this.__prev);\r\n    }\r\n\r\n  };\r\n\r\n  BooleanController.superclass = Controller;\r\n\r\n  common.extend(\r\n\r\n      BooleanController.prototype,\r\n      Controller.prototype,\r\n\r\n      {\r\n\r\n        setValue: function(v) {\r\n          var toReturn = BooleanController.superclass.prototype.setValue.call(this, v);\r\n          if (this.__onFinishChange) {\r\n            this.__onFinishChange.call(this, this.getValue());\r\n          }\r\n          this.__prev = this.getValue();\r\n          return toReturn;\r\n        },\r\n\r\n        updateDisplay: function() {\r\n          \r\n          if (this.getValue() === true) {\r\n            this.__checkbox.setAttribute('checked', 'checked');\r\n            this.__checkbox.checked = true;    \r\n          } else {\r\n              this.__checkbox.checked = false;\r\n          }\r\n\r\n          return BooleanController.superclass.prototype.updateDisplay.call(this);\r\n\r\n        }\r\n\r\n\r\n      }\r\n\r\n  );\r\n\r\n  return BooleanController;\r\n\r\n})(dat.controllers.Controller,\r\ndat.dom.dom,\r\ndat.utils.common);\r\n\r\n\r\ndat.color.toString = (function (common) {\r\n\r\n  return function(color) {\r\n\r\n    if (color.a == 1 || common.isUndefined(color.a)) {\r\n\r\n      var s = color.hex.toString(16);\r\n      while (s.length < 6) {\r\n        s = '0' + s;\r\n      }\r\n\r\n      return '#' + s;\r\n\r\n    } else {\r\n\r\n      return 'rgba(' + Math.round(color.r) + ',' + Math.round(color.g) + ',' + Math.round(color.b) + ',' + color.a + ')';\r\n\r\n    }\r\n\r\n  }\r\n\r\n})(dat.utils.common);\r\n\r\n\r\ndat.color.interpret = (function (toString, common) {\r\n\r\n  var result, toReturn;\r\n\r\n  var interpret = function() {\r\n\r\n    toReturn = false;\r\n\r\n    var original = arguments.length > 1 ? common.toArray(arguments) : arguments[0];\r\n\r\n    common.each(INTERPRETATIONS, function(family) {\r\n\r\n      if (family.litmus(original)) {\r\n\r\n        common.each(family.conversions, function(conversion, conversionName) {\r\n\r\n          result = conversion.read(original);\r\n\r\n          if (toReturn === false && result !== false) {\r\n            toReturn = result;\r\n            result.conversionName = conversionName;\r\n            result.conversion = conversion;\r\n            return common.BREAK;\r\n\r\n          }\r\n\r\n        });\r\n\r\n        return common.BREAK;\r\n\r\n      }\r\n\r\n    });\r\n\r\n    return toReturn;\r\n\r\n  };\r\n\r\n  var INTERPRETATIONS = [\r\n\r\n    // Strings\r\n    {\r\n\r\n      litmus: common.isString,\r\n\r\n      conversions: {\r\n\r\n        THREE_CHAR_HEX: {\r\n\r\n          read: function(original) {\r\n\r\n            var test = original.match(/^#([A-F0-9])([A-F0-9])([A-F0-9])$/i);\r\n            if (test === null) return false;\r\n\r\n            return {\r\n              space: 'HEX',\r\n              hex: parseInt(\r\n                  '0x' +\r\n                      test[1].toString() + test[1].toString() +\r\n                      test[2].toString() + test[2].toString() +\r\n                      test[3].toString() + test[3].toString())\r\n            };\r\n\r\n          },\r\n\r\n          write: toString\r\n\r\n        },\r\n\r\n        SIX_CHAR_HEX: {\r\n\r\n          read: function(original) {\r\n\r\n            var test = original.match(/^#([A-F0-9]{6})$/i);\r\n            if (test === null) return false;\r\n\r\n            return {\r\n              space: 'HEX',\r\n              hex: parseInt('0x' + test[1].toString())\r\n            };\r\n\r\n          },\r\n\r\n          write: toString\r\n\r\n        },\r\n\r\n        CSS_RGB: {\r\n\r\n          read: function(original) {\r\n\r\n            var test = original.match(/^rgb\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\)/);\r\n            if (test === null) return false;\r\n\r\n            return {\r\n              space: 'RGB',\r\n              r: parseFloat(test[1]),\r\n              g: parseFloat(test[2]),\r\n              b: parseFloat(test[3])\r\n            };\r\n\r\n          },\r\n\r\n          write: toString\r\n\r\n        },\r\n\r\n        CSS_RGBA: {\r\n\r\n          read: function(original) {\r\n\r\n            var test = original.match(/^rgba\\(\\s*(.+)\\s*,\\s*(.+)\\s*,\\s*(.+)\\s*\\,\\s*(.+)\\s*\\)/);\r\n            if (test === null) return false;\r\n\r\n            return {\r\n              space: 'RGB',\r\n              r: parseFloat(test[1]),\r\n              g: parseFloat(test[2]),\r\n              b: parseFloat(test[3]),\r\n              a: parseFloat(test[4])\r\n            };\r\n\r\n          },\r\n\r\n          write: toString\r\n\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // Numbers\r\n    {\r\n\r\n      litmus: common.isNumber,\r\n\r\n      conversions: {\r\n\r\n        HEX: {\r\n          read: function(original) {\r\n            return {\r\n              space: 'HEX',\r\n              hex: original,\r\n              conversionName: 'HEX'\r\n            }\r\n          },\r\n\r\n          write: function(color) {\r\n            return color.hex;\r\n          }\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // Arrays\r\n    {\r\n\r\n      litmus: common.isArray,\r\n\r\n      conversions: {\r\n\r\n        RGB_ARRAY: {\r\n          read: function(original) {\r\n            if (original.length != 3) return false;\r\n            return {\r\n              space: 'RGB',\r\n              r: original[0],\r\n              g: original[1],\r\n              b: original[2]\r\n            };\r\n          },\r\n\r\n          write: function(color) {\r\n            return [color.r, color.g, color.b];\r\n          }\r\n\r\n        },\r\n\r\n        RGBA_ARRAY: {\r\n          read: function(original) {\r\n            if (original.length != 4) return false;\r\n            return {\r\n              space: 'RGB',\r\n              r: original[0],\r\n              g: original[1],\r\n              b: original[2],\r\n              a: original[3]\r\n            };\r\n          },\r\n\r\n          write: function(color) {\r\n            return [color.r, color.g, color.b, color.a];\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    },\r\n\r\n    // Objects\r\n    {\r\n\r\n      litmus: common.isObject,\r\n\r\n      conversions: {\r\n\r\n        RGBA_OBJ: {\r\n          read: function(original) {\r\n            if (common.isNumber(original.r) &&\r\n                common.isNumber(original.g) &&\r\n                common.isNumber(original.b) &&\r\n                common.isNumber(original.a)) {\r\n              return {\r\n                space: 'RGB',\r\n                r: original.r,\r\n                g: original.g,\r\n                b: original.b,\r\n                a: original.a\r\n              }\r\n            }\r\n            return false;\r\n          },\r\n\r\n          write: function(color) {\r\n            return {\r\n              r: color.r,\r\n              g: color.g,\r\n              b: color.b,\r\n              a: color.a\r\n            }\r\n          }\r\n        },\r\n\r\n        RGB_OBJ: {\r\n          read: function(original) {\r\n            if (common.isNumber(original.r) &&\r\n                common.isNumber(original.g) &&\r\n                common.isNumber(original.b)) {\r\n              return {\r\n                space: 'RGB',\r\n                r: original.r,\r\n                g: original.g,\r\n                b: original.b\r\n              }\r\n            }\r\n            return false;\r\n          },\r\n\r\n          write: function(color) {\r\n            return {\r\n              r: color.r,\r\n              g: color.g,\r\n              b: color.b\r\n            }\r\n          }\r\n        },\r\n\r\n        HSVA_OBJ: {\r\n          read: function(original) {\r\n            if (common.isNumber(original.h) &&\r\n                common.isNumber(original.s) &&\r\n                common.isNumber(original.v) &&\r\n                common.isNumber(original.a)) {\r\n              return {\r\n                space: 'HSV',\r\n                h: original.h,\r\n                s: original.s,\r\n                v: original.v,\r\n                a: original.a\r\n              }\r\n            }\r\n            return false;\r\n          },\r\n\r\n          write: function(color) {\r\n            return {\r\n              h: color.h,\r\n              s: color.s,\r\n              v: color.v,\r\n              a: color.a\r\n            }\r\n          }\r\n        },\r\n\r\n        HSV_OBJ: {\r\n          read: function(original) {\r\n            if (common.isNumber(original.h) &&\r\n                common.isNumber(original.s) &&\r\n                common.isNumber(original.v)) {\r\n              return {\r\n                space: 'HSV',\r\n                h: original.h,\r\n                s: original.s,\r\n                v: original.v\r\n              }\r\n            }\r\n            return false;\r\n          },\r\n\r\n          write: function(color) {\r\n            return {\r\n              h: color.h,\r\n              s: color.s,\r\n              v: color.v\r\n            }\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n\r\n  ];\r\n\r\n  return interpret;\r\n\r\n\r\n})(dat.color.toString,\r\ndat.utils.common);\r\n\r\n\r\ndat.GUI = dat.gui.GUI = (function (css, saveDialogueContents, styleSheet, controllerFactory, Controller, BooleanController, FunctionController, NumberControllerBox, NumberControllerSlider, OptionController, ColorController, requestAnimationFrame, CenteredDiv, dom, common) {\r\n\r\n  css.inject(styleSheet);\r\n\r\n  /** Outer-most className for GUI's */\r\n  var CSS_NAMESPACE = 'dg';\r\n\r\n  var HIDE_KEY_CODE = 72;\r\n\r\n  /** The only value shared between the JS and SCSS. Use caution. */\r\n  var CLOSE_BUTTON_HEIGHT = 20;\r\n\r\n  var DEFAULT_DEFAULT_PRESET_NAME = 'Default';\r\n\r\n  var SUPPORTS_LOCAL_STORAGE = (function() {\r\n    try {\r\n      return 'localStorage' in window && window['localStorage'] !== null;\r\n    } catch (e) {\r\n      return false;\r\n    }\r\n  })();\r\n\r\n  var SAVE_DIALOGUE;\r\n\r\n  /** Have we yet to create an autoPlace GUI? */\r\n  var auto_place_virgin = true;\r\n\r\n  /** Fixed position div that auto place GUI's go inside */\r\n  var auto_place_container;\r\n\r\n  /** Are we hiding the GUI's ? */\r\n  var hide = false;\r\n\r\n  /** GUI's which should be hidden */\r\n  var hideable_guis = [];\r\n\r\n  /**\r\n   * A lightweight controller library for JavaScript. It allows you to easily\r\n   * manipulate variables and fire functions on the fly.\r\n   * @class\r\n   *\r\n   * @member dat.gui\r\n   *\r\n   * @param {Object} [params]\r\n   * @param {String} [params.name] The name of this GUI.\r\n   * @param {Object} [params.load] JSON object representing the saved state of\r\n   * this GUI.\r\n   * @param {Boolean} [params.auto=true]\r\n   * @param {dat.gui.GUI} [params.parent] The GUI I'm nested in.\r\n   * @param {Boolean} [params.closed] If true, starts closed\r\n   */\r\n  var GUI = function(params) {\r\n\r\n    var _this = this;\r\n\r\n    /**\r\n     * Outermost DOM Element\r\n     * @type DOMElement\r\n     */\r\n    this.domElement = document.createElement('div');\r\n    this.__ul = document.createElement('ul');\r\n    this.domElement.appendChild(this.__ul);\r\n\r\n    dom.addClass(this.domElement, CSS_NAMESPACE);\r\n\r\n    /**\r\n     * Nested GUI's by name\r\n     * @ignore\r\n     */\r\n    this.__folders = {};\r\n\r\n    this.__controllers = [];\r\n\r\n    /**\r\n     * List of objects I'm remembering for save, only used in top level GUI\r\n     * @ignore\r\n     */\r\n    this.__rememberedObjects = [];\r\n\r\n    /**\r\n     * Maps the index of remembered objects to a map of controllers, only used\r\n     * in top level GUI.\r\n     *\r\n     * @private\r\n     * @ignore\r\n     *\r\n     * @example\r\n     * [\r\n     *  {\r\n     *    propertyName: Controller,\r\n     *    anotherPropertyName: Controller\r\n     *  },\r\n     *  {\r\n     *    propertyName: Controller\r\n     *  }\r\n     * ]\r\n     */\r\n    this.__rememberedObjectIndecesToControllers = [];\r\n\r\n    this.__listening = [];\r\n\r\n    params = params || {};\r\n\r\n    // Default parameters\r\n    params = common.defaults(params, {\r\n      autoPlace: true,\r\n      width: GUI.DEFAULT_WIDTH\r\n    });\r\n\r\n    params = common.defaults(params, {\r\n      resizable: params.autoPlace,\r\n      hideable: params.autoPlace\r\n    });\r\n\r\n\r\n    if (!common.isUndefined(params.load)) {\r\n\r\n      // Explicit preset\r\n      if (params.preset) params.load.preset = params.preset;\r\n\r\n    } else {\r\n\r\n      params.load = { preset: DEFAULT_DEFAULT_PRESET_NAME };\r\n\r\n    }\r\n\r\n    if (common.isUndefined(params.parent) && params.hideable) {\r\n      hideable_guis.push(this);\r\n    }\r\n\r\n    // Only root level GUI's are resizable.\r\n    params.resizable = common.isUndefined(params.parent) && params.resizable;\r\n\r\n\r\n    if (params.autoPlace && common.isUndefined(params.scrollable)) {\r\n      params.scrollable = true;\r\n    }\r\n//    params.scrollable = common.isUndefined(params.parent) && params.scrollable === true;\r\n\r\n    // Not part of params because I don't want people passing this in via\r\n    // constructor. Should be a 'remembered' value.\r\n    var use_local_storage =\r\n        SUPPORTS_LOCAL_STORAGE &&\r\n            localStorage.getItem(getLocalStorageHash(this, 'isLocal')) === 'true';\r\n\r\n    var saveToLocalStorage;\r\n\r\n    Object.defineProperties(this,\r\n\r\n        /** @lends dat.gui.GUI.prototype */\r\n        {\r\n\r\n          /**\r\n           * The parent <code>GUI</code>\r\n           * @type dat.gui.GUI\r\n           */\r\n          parent: {\r\n            get: function() {\r\n              return params.parent;\r\n            }\r\n          },\r\n\r\n          scrollable: {\r\n            get: function() {\r\n              return params.scrollable;\r\n            }\r\n          },\r\n\r\n          /**\r\n           * Handles <code>GUI</code>'s element placement for you\r\n           * @type Boolean\r\n           */\r\n          autoPlace: {\r\n            get: function() {\r\n              return params.autoPlace;\r\n            }\r\n          },\r\n\r\n          /**\r\n           * The identifier for a set of saved values\r\n           * @type String\r\n           */\r\n          preset: {\r\n\r\n            get: function() {\r\n              if (_this.parent) {\r\n                return _this.getRoot().preset;\r\n              } else {\r\n                return params.load.preset;\r\n              }\r\n            },\r\n\r\n            set: function(v) {\r\n              if (_this.parent) {\r\n                _this.getRoot().preset = v;\r\n              } else {\r\n                params.load.preset = v;\r\n              }\r\n              setPresetSelectIndex(this);\r\n              _this.revert();\r\n            }\r\n\r\n          },\r\n\r\n          /**\r\n           * The width of <code>GUI</code> element\r\n           * @type Number\r\n           */\r\n          width: {\r\n            get: function() {\r\n              return params.width;\r\n            },\r\n            set: function(v) {\r\n              params.width = v;\r\n              setWidth(_this, v);\r\n            }\r\n          },\r\n\r\n          /**\r\n           * The name of <code>GUI</code>. Used for folders. i.e\r\n           * a folder's name\r\n           * @type String\r\n           */\r\n          name: {\r\n            get: function() {\r\n              return params.name;\r\n            },\r\n            set: function(v) {\r\n              // TODO Check for collisions among sibling folders\r\n              params.name = v;\r\n              if (title_row_name) {\r\n                title_row_name.innerHTML = params.name;\r\n              }\r\n            }\r\n          },\r\n\r\n          /**\r\n           * Whether the <code>GUI</code> is collapsed or not\r\n           * @type Boolean\r\n           */\r\n          closed: {\r\n            get: function() {\r\n              return params.closed;\r\n            },\r\n            set: function(v) {\r\n              params.closed = v;\r\n              if (params.closed) {\r\n                dom.addClass(_this.__ul, GUI.CLASS_CLOSED);\r\n              } else {\r\n                dom.removeClass(_this.__ul, GUI.CLASS_CLOSED);\r\n              }\r\n              // For browsers that aren't going to respect the CSS transition,\r\n              // Lets just check our height against the window height right off\r\n              // the bat.\r\n              this.onResize();\r\n\r\n              if (_this.__closeButton) {\r\n                _this.__closeButton.innerHTML = v ? GUI.TEXT_OPEN : GUI.TEXT_CLOSED;\r\n              }\r\n            }\r\n          },\r\n\r\n          /**\r\n           * Contains all presets\r\n           * @type Object\r\n           */\r\n          load: {\r\n            get: function() {\r\n              return params.load;\r\n            }\r\n          },\r\n\r\n          /**\r\n           * Determines whether or not to use <a href=\"https://developer.mozilla.org/en/DOM/Storage#localStorage\">localStorage</a> as the means for\r\n           * <code>remember</code>ing\r\n           * @type Boolean\r\n           */\r\n          useLocalStorage: {\r\n\r\n            get: function() {\r\n              return use_local_storage;\r\n            },\r\n            set: function(bool) {\r\n              if (SUPPORTS_LOCAL_STORAGE) {\r\n                use_local_storage = bool;\r\n                if (bool) {\r\n                  dom.bind(window, 'unload', saveToLocalStorage);\r\n                } else {\r\n                  dom.unbind(window, 'unload', saveToLocalStorage);\r\n                }\r\n                localStorage.setItem(getLocalStorageHash(_this, 'isLocal'), bool);\r\n              }\r\n            }\r\n\r\n          }\r\n\r\n        });\r\n\r\n    // Are we a root level GUI?\r\n    if (common.isUndefined(params.parent)) {\r\n\r\n      params.closed = false;\r\n\r\n      dom.addClass(this.domElement, GUI.CLASS_MAIN);\r\n      dom.makeSelectable(this.domElement, false);\r\n\r\n      // Are we supposed to be loading locally?\r\n      if (SUPPORTS_LOCAL_STORAGE) {\r\n\r\n        if (use_local_storage) {\r\n\r\n          _this.useLocalStorage = true;\r\n\r\n          var saved_gui = localStorage.getItem(getLocalStorageHash(this, 'gui'));\r\n\r\n          if (saved_gui) {\r\n            params.load = JSON.parse(saved_gui);\r\n          }\r\n\r\n        }\r\n\r\n      }\r\n\r\n      this.__closeButton = document.createElement('div');\r\n      this.__closeButton.innerHTML = GUI.TEXT_CLOSED;\r\n      dom.addClass(this.__closeButton, GUI.CLASS_CLOSE_BUTTON);\r\n      this.domElement.appendChild(this.__closeButton);\r\n\r\n      dom.bind(this.__closeButton, 'click', function() {\r\n\r\n        _this.closed = !_this.closed;\r\n\r\n\r\n      });\r\n\r\n\r\n      // Oh, you're a nested GUI!\r\n    } else {\r\n\r\n      if (params.closed === undefined) {\r\n        params.closed = true;\r\n      }\r\n\r\n      var title_row_name = document.createTextNode(params.name);\r\n      dom.addClass(title_row_name, 'controller-name');\r\n\r\n      var title_row = addRow(_this, title_row_name);\r\n\r\n      var on_click_title = function(e) {\r\n        e.preventDefault();\r\n        _this.closed = !_this.closed;\r\n        return false;\r\n      };\r\n\r\n      dom.addClass(this.__ul, GUI.CLASS_CLOSED);\r\n\r\n      dom.addClass(title_row, 'title');\r\n      dom.bind(title_row, 'click', on_click_title);\r\n\r\n      if (!params.closed) {\r\n        this.closed = false;\r\n      }\r\n\r\n    }\r\n\r\n    if (params.autoPlace) {\r\n\r\n      if (common.isUndefined(params.parent)) {\r\n\r\n        if (auto_place_virgin) {\r\n          auto_place_container = document.createElement('div');\r\n          dom.addClass(auto_place_container, CSS_NAMESPACE);\r\n          dom.addClass(auto_place_container, GUI.CLASS_AUTO_PLACE_CONTAINER);\r\n          document.body.appendChild(auto_place_container);\r\n          auto_place_virgin = false;\r\n        }\r\n\r\n        // Put it in the dom for you.\r\n        auto_place_container.appendChild(this.domElement);\r\n\r\n        // Apply the auto styles\r\n        dom.addClass(this.domElement, GUI.CLASS_AUTO_PLACE);\r\n\r\n      }\r\n\r\n\r\n      // Make it not elastic.\r\n      if (!this.parent) setWidth(_this, params.width);\r\n\r\n    }\r\n\r\n    dom.bind(window, 'resize', function() { _this.onResize() });\r\n    dom.bind(this.__ul, 'webkitTransitionEnd', function() { _this.onResize(); });\r\n    dom.bind(this.__ul, 'transitionend', function() { _this.onResize() });\r\n    dom.bind(this.__ul, 'oTransitionEnd', function() { _this.onResize() });\r\n    this.onResize();\r\n\r\n\r\n    if (params.resizable) {\r\n      addResizeHandle(this);\r\n    }\r\n\r\n    saveToLocalStorage = function () {\r\n      if (SUPPORTS_LOCAL_STORAGE && localStorage.getItem(getLocalStorageHash(_this, 'isLocal')) === 'true') {\r\n        localStorage.setItem(getLocalStorageHash(_this, 'gui'), JSON.stringify(_this.getSaveObject()));\r\n      }\r\n    }\r\n\r\n    // expose this method publicly\r\n    this.saveToLocalStorageIfPossible = saveToLocalStorage;\r\n\r\n    var root = _this.getRoot();\r\n    function resetWidth() {\r\n\t      var root = _this.getRoot();\r\n\t      root.width += 1;\r\n\t      common.defer(function() {\r\n\t        root.width -= 1;\r\n\t      });\r\n\t    }\r\n\r\n\t    if (!params.parent) {\r\n\t      resetWidth();\r\n\t    }\r\n\r\n  };\r\n\r\n  GUI.toggleHide = function() {\r\n\r\n    hide = !hide;\r\n    common.each(hideable_guis, function(gui) {\r\n      gui.domElement.style.zIndex = hide ? -999 : 999;\r\n      gui.domElement.style.opacity = hide ? 0 : 1;\r\n    });\r\n  };\r\n\r\n  GUI.CLASS_AUTO_PLACE = 'a';\r\n  GUI.CLASS_AUTO_PLACE_CONTAINER = 'ac';\r\n  GUI.CLASS_MAIN = 'main';\r\n  GUI.CLASS_CONTROLLER_ROW = 'cr';\r\n  GUI.CLASS_TOO_TALL = 'taller-than-window';\r\n  GUI.CLASS_CLOSED = 'closed';\r\n  GUI.CLASS_CLOSE_BUTTON = 'close-button';\r\n  GUI.CLASS_DRAG = 'drag';\r\n\r\n  GUI.DEFAULT_WIDTH = 245;\r\n  GUI.TEXT_CLOSED = 'Close Controls';\r\n  GUI.TEXT_OPEN = 'Open Controls';\r\n\r\n  dom.bind(window, 'keydown', function(e) {\r\n\r\n    if (document.activeElement.type !== 'text' &&\r\n        (e.which === HIDE_KEY_CODE || e.keyCode == HIDE_KEY_CODE)) {\r\n      GUI.toggleHide();\r\n    }\r\n\r\n  }, false);\r\n\r\n  common.extend(\r\n\r\n      GUI.prototype,\r\n\r\n      /** @lends dat.gui.GUI */\r\n      {\r\n\r\n        /**\r\n         * @param object\r\n         * @param property\r\n         * @returns {dat.controllers.Controller} The new controller that was added.\r\n         * @instance\r\n         */\r\n        add: function(object, property) {\r\n\r\n          return add(\r\n              this,\r\n              object,\r\n              property,\r\n              {\r\n                factoryArgs: Array.prototype.slice.call(arguments, 2)\r\n              }\r\n          );\r\n\r\n        },\r\n\r\n        /**\r\n         * @param object\r\n         * @param property\r\n         * @returns {dat.controllers.ColorController} The new controller that was added.\r\n         * @instance\r\n         */\r\n        addColor: function(object, property) {\r\n\r\n          return add(\r\n              this,\r\n              object,\r\n              property,\r\n              {\r\n                color: true\r\n              }\r\n          );\r\n\r\n        },\r\n\r\n        /**\r\n         * @param controller\r\n         * @instance\r\n         */\r\n        remove: function(controller) {\r\n\r\n          // TODO listening?\r\n          this.__ul.removeChild(controller.__li);\r\n          this.__controllers.splice(this.__controllers.indexOf(controller), 1);\r\n          var _this = this;\r\n          common.defer(function() {\r\n            _this.onResize();\r\n          });\r\n\r\n        },\r\n\r\n        destroy: function() {\r\n\r\n          if (this.autoPlace) {\r\n            auto_place_container.removeChild(this.domElement);\r\n          }\r\n\r\n        },\r\n\r\n        /**\r\n         * @param name\r\n         * @returns {dat.gui.GUI} The new folder.\r\n         * @throws {Error} if this GUI already has a folder by the specified\r\n         * name\r\n         * @instance\r\n         */\r\n        addFolder: function(name) {\r\n\r\n          // We have to prevent collisions on names in order to have a key\r\n          // by which to remember saved values\r\n          if (this.__folders[name] !== undefined) {\r\n            throw new Error('You already have a folder in this GUI by the' +\r\n                ' name \"' + name + '\"');\r\n          }\r\n\r\n          var new_gui_params = { name: name, parent: this };\r\n\r\n          // We need to pass down the autoPlace trait so that we can\r\n          // attach event listeners to open/close folder actions to\r\n          // ensure that a scrollbar appears if the window is too short.\r\n          new_gui_params.autoPlace = this.autoPlace;\r\n\r\n          // Do we have saved appearance data for this folder?\r\n\r\n          if (this.load && // Anything loaded?\r\n              this.load.folders && // Was my parent a dead-end?\r\n              this.load.folders[name]) { // Did daddy remember me?\r\n\r\n            // Start me closed if I was closed\r\n            new_gui_params.closed = this.load.folders[name].closed;\r\n\r\n            // Pass down the loaded data\r\n            new_gui_params.load = this.load.folders[name];\r\n\r\n          }\r\n\r\n          var gui = new GUI(new_gui_params);\r\n          this.__folders[name] = gui;\r\n\r\n          var li = addRow(this, gui.domElement);\r\n          dom.addClass(li, 'folder');\r\n          return gui;\r\n\r\n        },\r\n\r\n        open: function() {\r\n          this.closed = false;\r\n        },\r\n\r\n        close: function() {\r\n          this.closed = true;\r\n        },\r\n\r\n        onResize: function() {\r\n\r\n          var root = this.getRoot();\r\n\r\n          if (root.scrollable) {\r\n\r\n            var top = dom.getOffset(root.__ul).top;\r\n            var h = 0;\r\n\r\n            common.each(root.__ul.childNodes, function(node) {\r\n              if (! (root.autoPlace && node === root.__save_row))\r\n                h += dom.getHeight(node);\r\n            });\r\n\r\n            if (window.innerHeight - top - CLOSE_BUTTON_HEIGHT < h) {\r\n              dom.addClass(root.domElement, GUI.CLASS_TOO_TALL);\r\n              root.__ul.style.height = window.innerHeight - top - CLOSE_BUTTON_HEIGHT + 'px';\r\n            } else {\r\n              dom.removeClass(root.domElement, GUI.CLASS_TOO_TALL);\r\n              root.__ul.style.height = 'auto';\r\n            }\r\n\r\n          }\r\n\r\n          if (root.__resize_handle) {\r\n            common.defer(function() {\r\n              root.__resize_handle.style.height = root.__ul.offsetHeight + 'px';\r\n            });\r\n          }\r\n\r\n          if (root.__closeButton) {\r\n            root.__closeButton.style.width = root.width + 'px';\r\n          }\r\n\r\n        },\r\n\r\n        /**\r\n         * Mark objects for saving. The order of these objects cannot change as\r\n         * the GUI grows. When remembering new objects, append them to the end\r\n         * of the list.\r\n         *\r\n         * @param {Object...} objects\r\n         * @throws {Error} if not called on a top level GUI.\r\n         * @instance\r\n         */\r\n        remember: function() {\r\n\r\n          if (common.isUndefined(SAVE_DIALOGUE)) {\r\n            SAVE_DIALOGUE = new CenteredDiv();\r\n            SAVE_DIALOGUE.domElement.innerHTML = saveDialogueContents;\r\n          }\r\n\r\n          if (this.parent) {\r\n            throw new Error(\"You can only call remember on a top level GUI.\");\r\n          }\r\n\r\n          var _this = this;\r\n\r\n          common.each(Array.prototype.slice.call(arguments), function(object) {\r\n            if (_this.__rememberedObjects.length == 0) {\r\n              addSaveMenu(_this);\r\n            }\r\n            if (_this.__rememberedObjects.indexOf(object) == -1) {\r\n              _this.__rememberedObjects.push(object);\r\n            }\r\n          });\r\n\r\n          if (this.autoPlace) {\r\n            // Set save row width\r\n            setWidth(this, this.width);\r\n          }\r\n\r\n        },\r\n\r\n        /**\r\n         * @returns {dat.gui.GUI} the topmost parent GUI of a nested GUI.\r\n         * @instance\r\n         */\r\n        getRoot: function() {\r\n          var gui = this;\r\n          while (gui.parent) {\r\n            gui = gui.parent;\r\n          }\r\n          return gui;\r\n        },\r\n\r\n        /**\r\n         * @returns {Object} a JSON object representing the current state of\r\n         * this GUI as well as its remembered properties.\r\n         * @instance\r\n         */\r\n        getSaveObject: function() {\r\n\r\n          var toReturn = this.load;\r\n\r\n          toReturn.closed = this.closed;\r\n\r\n          // Am I remembering any values?\r\n          if (this.__rememberedObjects.length > 0) {\r\n\r\n            toReturn.preset = this.preset;\r\n\r\n            if (!toReturn.remembered) {\r\n              toReturn.remembered = {};\r\n            }\r\n\r\n            toReturn.remembered[this.preset] = getCurrentPreset(this);\r\n\r\n          }\r\n\r\n          toReturn.folders = {};\r\n          common.each(this.__folders, function(element, key) {\r\n            toReturn.folders[key] = element.getSaveObject();\r\n          });\r\n\r\n          return toReturn;\r\n\r\n        },\r\n\r\n        save: function() {\r\n\r\n          if (!this.load.remembered) {\r\n            this.load.remembered = {};\r\n          }\r\n\r\n          this.load.remembered[this.preset] = getCurrentPreset(this);\r\n          markPresetModified(this, false);\r\n          this.saveToLocalStorageIfPossible();\r\n\r\n        },\r\n\r\n        saveAs: function(presetName) {\r\n\r\n          if (!this.load.remembered) {\r\n\r\n            // Retain default values upon first save\r\n            this.load.remembered = {};\r\n            this.load.remembered[DEFAULT_DEFAULT_PRESET_NAME] = getCurrentPreset(this, true);\r\n\r\n          }\r\n\r\n          this.load.remembered[presetName] = getCurrentPreset(this);\r\n          this.preset = presetName;\r\n          addPresetOption(this, presetName, true);\r\n          this.saveToLocalStorageIfPossible();\r\n\r\n        },\r\n\r\n        revert: function(gui) {\r\n\r\n          common.each(this.__controllers, function(controller) {\r\n            // Make revert work on Default.\r\n            if (!this.getRoot().load.remembered) {\r\n              controller.setValue(controller.initialValue);\r\n            } else {\r\n              recallSavedValue(gui || this.getRoot(), controller);\r\n            }\r\n          }, this);\r\n\r\n          common.each(this.__folders, function(folder) {\r\n            folder.revert(folder);\r\n          });\r\n\r\n          if (!gui) {\r\n            markPresetModified(this.getRoot(), false);\r\n          }\r\n\r\n\r\n        },\r\n\r\n        listen: function(controller) {\r\n\r\n          var init = this.__listening.length == 0;\r\n          this.__listening.push(controller);\r\n          if (init) updateDisplays(this.__listening);\r\n\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n\r\n  function add(gui, object, property, params) {\r\n\r\n    if (object[property] === undefined) {\r\n      throw new Error(\"Object \" + object + \" has no property \\\"\" + property + \"\\\"\");\r\n    }\r\n\r\n    var controller;\r\n\r\n    if (params.color) {\r\n\r\n      controller = new ColorController(object, property);\r\n\r\n    } else {\r\n\r\n      var factoryArgs = [object,property].concat(params.factoryArgs);\r\n      controller = controllerFactory.apply(gui, factoryArgs);\r\n\r\n    }\r\n\r\n    if (params.before instanceof Controller) {\r\n      params.before = params.before.__li;\r\n    }\r\n\r\n    recallSavedValue(gui, controller);\r\n\r\n    dom.addClass(controller.domElement, 'c');\r\n\r\n    var name = document.createElement('span');\r\n    dom.addClass(name, 'property-name');\r\n    name.innerHTML = controller.property;\r\n\r\n    var container = document.createElement('div');\r\n    container.appendChild(name);\r\n    container.appendChild(controller.domElement);\r\n\r\n    var li = addRow(gui, container, params.before);\r\n\r\n    dom.addClass(li, GUI.CLASS_CONTROLLER_ROW);\r\n    dom.addClass(li, typeof controller.getValue());\r\n\r\n    augmentController(gui, li, controller);\r\n\r\n    gui.__controllers.push(controller);\r\n\r\n    return controller;\r\n\r\n  }\r\n\r\n  /**\r\n   * Add a row to the end of the GUI or before another row.\r\n   *\r\n   * @param gui\r\n   * @param [dom] If specified, inserts the dom content in the new row\r\n   * @param [liBefore] If specified, places the new row before another row\r\n   */\r\n  function addRow(gui, dom, liBefore) {\r\n    var li = document.createElement('li');\r\n    if (dom) li.appendChild(dom);\r\n    if (liBefore) {\r\n      gui.__ul.insertBefore(li, params.before);\r\n    } else {\r\n      gui.__ul.appendChild(li);\r\n    }\r\n    gui.onResize();\r\n    return li;\r\n  }\r\n\r\n  function augmentController(gui, li, controller) {\r\n\r\n    controller.__li = li;\r\n    controller.__gui = gui;\r\n\r\n    common.extend(controller, {\r\n\r\n      options: function(options) {\r\n\r\n        if (arguments.length > 1) {\r\n          controller.remove();\r\n\r\n          return add(\r\n              gui,\r\n              controller.object,\r\n              controller.property,\r\n              {\r\n                before: controller.__li.nextElementSibling,\r\n                factoryArgs: [common.toArray(arguments)]\r\n              }\r\n          );\r\n\r\n        }\r\n\r\n        if (common.isArray(options) || common.isObject(options)) {\r\n          controller.remove();\r\n\r\n          return add(\r\n              gui,\r\n              controller.object,\r\n              controller.property,\r\n              {\r\n                before: controller.__li.nextElementSibling,\r\n                factoryArgs: [options]\r\n              }\r\n          );\r\n\r\n        }\r\n\r\n      },\r\n\r\n      name: function(v) {\r\n        controller.__li.firstElementChild.firstElementChild.innerHTML = v;\r\n        return controller;\r\n      },\r\n\r\n      listen: function() {\r\n        controller.__gui.listen(controller);\r\n        return controller;\r\n      },\r\n\r\n      remove: function() {\r\n        controller.__gui.remove(controller);\r\n        return controller;\r\n      }\r\n\r\n    });\r\n\r\n    // All sliders should be accompanied by a box.\r\n    if (controller instanceof NumberControllerSlider) {\r\n\r\n      var box = new NumberControllerBox(controller.object, controller.property,\r\n          { min: controller.__min, max: controller.__max, step: controller.__step });\r\n\r\n      common.each(['updateDisplay', 'onChange', 'onFinishChange'], function(method) {\r\n        var pc = controller[method];\r\n        var pb = box[method];\r\n        controller[method] = box[method] = function() {\r\n          var args = Array.prototype.slice.call(arguments);\r\n          pc.apply(controller, args);\r\n          return pb.apply(box, args);\r\n        }\r\n      });\r\n\r\n      dom.addClass(li, 'has-slider');\r\n      controller.domElement.insertBefore(box.domElement, controller.domElement.firstElementChild);\r\n\r\n    }\r\n    else if (controller instanceof NumberControllerBox) {\r\n\r\n      var r = function(returned) {\r\n\r\n        // Have we defined both boundaries?\r\n        if (common.isNumber(controller.__min) && common.isNumber(controller.__max)) {\r\n\r\n          // Well, then lets just replace this with a slider.\r\n          controller.remove();\r\n          return add(\r\n              gui,\r\n              controller.object,\r\n              controller.property,\r\n              {\r\n                before: controller.__li.nextElementSibling,\r\n                factoryArgs: [controller.__min, controller.__max, controller.__step]\r\n              });\r\n\r\n        }\r\n\r\n        return returned;\r\n\r\n      };\r\n\r\n      controller.min = common.compose(r, controller.min);\r\n      controller.max = common.compose(r, controller.max);\r\n\r\n    }\r\n    else if (controller instanceof BooleanController) {\r\n\r\n      dom.bind(li, 'click', function() {\r\n        dom.fakeEvent(controller.__checkbox, 'click');\r\n      });\r\n\r\n      dom.bind(controller.__checkbox, 'click', function(e) {\r\n        e.stopPropagation(); // Prevents double-toggle\r\n      })\r\n\r\n    }\r\n    else if (controller instanceof FunctionController) {\r\n\r\n      dom.bind(li, 'click', function() {\r\n        dom.fakeEvent(controller.__button, 'click');\r\n      });\r\n\r\n      dom.bind(li, 'mouseover', function() {\r\n        dom.addClass(controller.__button, 'hover');\r\n      });\r\n\r\n      dom.bind(li, 'mouseout', function() {\r\n        dom.removeClass(controller.__button, 'hover');\r\n      });\r\n\r\n    }\r\n    else if (controller instanceof ColorController) {\r\n\r\n      dom.addClass(li, 'color');\r\n      controller.updateDisplay = common.compose(function(r) {\r\n        li.style.borderLeftColor = controller.__color.toString();\r\n        return r;\r\n      }, controller.updateDisplay);\r\n\r\n      controller.updateDisplay();\r\n\r\n    }\r\n\r\n    controller.setValue = common.compose(function(r) {\r\n      if (gui.getRoot().__preset_select && controller.isModified()) {\r\n        markPresetModified(gui.getRoot(), true);\r\n      }\r\n      return r;\r\n    }, controller.setValue);\r\n\r\n  }\r\n\r\n  function recallSavedValue(gui, controller) {\r\n\r\n    // Find the topmost GUI, that's where remembered objects live.\r\n    var root = gui.getRoot();\r\n\r\n    // Does the object we're controlling match anything we've been told to\r\n    // remember?\r\n    var matched_index = root.__rememberedObjects.indexOf(controller.object);\r\n\r\n    // Why yes, it does!\r\n    if (matched_index != -1) {\r\n\r\n      // Let me fetch a map of controllers for thcommon.isObject.\r\n      var controller_map =\r\n          root.__rememberedObjectIndecesToControllers[matched_index];\r\n\r\n      // Ohp, I believe this is the first controller we've created for this\r\n      // object. Lets make the map fresh.\r\n      if (controller_map === undefined) {\r\n        controller_map = {};\r\n        root.__rememberedObjectIndecesToControllers[matched_index] =\r\n            controller_map;\r\n      }\r\n\r\n      // Keep track of this controller\r\n      controller_map[controller.property] = controller;\r\n\r\n      // Okay, now have we saved any values for this controller?\r\n      if (root.load && root.load.remembered) {\r\n\r\n        var preset_map = root.load.remembered;\r\n\r\n        // Which preset are we trying to load?\r\n        var preset;\r\n\r\n        if (preset_map[gui.preset]) {\r\n\r\n          preset = preset_map[gui.preset];\r\n\r\n        } else if (preset_map[DEFAULT_DEFAULT_PRESET_NAME]) {\r\n\r\n          // Uhh, you can have the default instead?\r\n          preset = preset_map[DEFAULT_DEFAULT_PRESET_NAME];\r\n\r\n        } else {\r\n\r\n          // Nada.\r\n\r\n          return;\r\n\r\n        }\r\n\r\n\r\n        // Did the loaded object remember thcommon.isObject?\r\n        if (preset[matched_index] &&\r\n\r\n          // Did we remember this particular property?\r\n            preset[matched_index][controller.property] !== undefined) {\r\n\r\n          // We did remember something for this guy ...\r\n          var value = preset[matched_index][controller.property];\r\n\r\n          // And that's what it is.\r\n          controller.initialValue = value;\r\n          controller.setValue(value);\r\n\r\n        }\r\n\r\n      }\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function getLocalStorageHash(gui, key) {\r\n    // TODO how does this deal with multiple GUI's?\r\n    return document.location.href + '.' + key;\r\n\r\n  }\r\n\r\n  function addSaveMenu(gui) {\r\n\r\n    var div = gui.__save_row = document.createElement('li');\r\n\r\n    dom.addClass(gui.domElement, 'has-save');\r\n\r\n    gui.__ul.insertBefore(div, gui.__ul.firstChild);\r\n\r\n    dom.addClass(div, 'save-row');\r\n\r\n    var gears = document.createElement('span');\r\n    gears.innerHTML = '&nbsp;';\r\n    dom.addClass(gears, 'button gears');\r\n\r\n    // TODO replace with FunctionController\r\n    var button = document.createElement('span');\r\n    button.innerHTML = 'Save';\r\n    dom.addClass(button, 'button');\r\n    dom.addClass(button, 'save');\r\n\r\n    var button2 = document.createElement('span');\r\n    button2.innerHTML = 'New';\r\n    dom.addClass(button2, 'button');\r\n    dom.addClass(button2, 'save-as');\r\n\r\n    var button3 = document.createElement('span');\r\n    button3.innerHTML = 'Revert';\r\n    dom.addClass(button3, 'button');\r\n    dom.addClass(button3, 'revert');\r\n\r\n    var select = gui.__preset_select = document.createElement('select');\r\n\r\n    if (gui.load && gui.load.remembered) {\r\n\r\n      common.each(gui.load.remembered, function(value, key) {\r\n        addPresetOption(gui, key, key == gui.preset);\r\n      });\r\n\r\n    } else {\r\n      addPresetOption(gui, DEFAULT_DEFAULT_PRESET_NAME, false);\r\n    }\r\n\r\n    dom.bind(select, 'change', function() {\r\n\r\n\r\n      for (var index = 0; index < gui.__preset_select.length; index++) {\r\n        gui.__preset_select[index].innerHTML = gui.__preset_select[index].value;\r\n      }\r\n\r\n      gui.preset = this.value;\r\n\r\n    });\r\n\r\n    div.appendChild(select);\r\n    div.appendChild(gears);\r\n    div.appendChild(button);\r\n    div.appendChild(button2);\r\n    div.appendChild(button3);\r\n\r\n    if (SUPPORTS_LOCAL_STORAGE) {\r\n\r\n      var saveLocally = document.getElementById('dg-save-locally');\r\n      var explain = document.getElementById('dg-local-explain');\r\n\r\n      saveLocally.style.display = 'block';\r\n\r\n      var localStorageCheckBox = document.getElementById('dg-local-storage');\r\n\r\n      if (localStorage.getItem(getLocalStorageHash(gui, 'isLocal')) === 'true') {\r\n        localStorageCheckBox.setAttribute('checked', 'checked');\r\n      }\r\n\r\n      function showHideExplain() {\r\n        explain.style.display = gui.useLocalStorage ? 'block' : 'none';\r\n      }\r\n\r\n      showHideExplain();\r\n\r\n      // TODO: Use a boolean controller, fool!\r\n      dom.bind(localStorageCheckBox, 'change', function() {\r\n        gui.useLocalStorage = !gui.useLocalStorage;\r\n        showHideExplain();\r\n      });\r\n\r\n    }\r\n\r\n    var newConstructorTextArea = document.getElementById('dg-new-constructor');\r\n\r\n    dom.bind(newConstructorTextArea, 'keydown', function(e) {\r\n      if (e.metaKey && (e.which === 67 || e.keyCode == 67)) {\r\n        SAVE_DIALOGUE.hide();\r\n      }\r\n    });\r\n\r\n    dom.bind(gears, 'click', function() {\r\n      newConstructorTextArea.innerHTML = JSON.stringify(gui.getSaveObject(), undefined, 2);\r\n      SAVE_DIALOGUE.show();\r\n      newConstructorTextArea.focus();\r\n      newConstructorTextArea.select();\r\n    });\r\n\r\n    dom.bind(button, 'click', function() {\r\n      gui.save();\r\n    });\r\n\r\n    dom.bind(button2, 'click', function() {\r\n      var presetName = prompt('Enter a new preset name.');\r\n      if (presetName) gui.saveAs(presetName);\r\n    });\r\n\r\n    dom.bind(button3, 'click', function() {\r\n      gui.revert();\r\n    });\r\n\r\n//    div.appendChild(button2);\r\n\r\n  }\r\n\r\n  function addResizeHandle(gui) {\r\n\r\n    gui.__resize_handle = document.createElement('div');\r\n\r\n    common.extend(gui.__resize_handle.style, {\r\n\r\n      width: '6px',\r\n      marginLeft: '-3px',\r\n      height: '200px',\r\n      cursor: 'ew-resize',\r\n      position: 'absolute'\r\n//      border: '1px solid blue'\r\n\r\n    });\r\n\r\n    var pmouseX;\r\n\r\n    dom.bind(gui.__resize_handle, 'mousedown', dragStart);\r\n    dom.bind(gui.__closeButton, 'mousedown', dragStart);\r\n\r\n    gui.domElement.insertBefore(gui.__resize_handle, gui.domElement.firstElementChild);\r\n\r\n    function dragStart(e) {\r\n\r\n      e.preventDefault();\r\n\r\n      pmouseX = e.clientX;\r\n\r\n      dom.addClass(gui.__closeButton, GUI.CLASS_DRAG);\r\n      dom.bind(window, 'mousemove', drag);\r\n      dom.bind(window, 'mouseup', dragStop);\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    function drag(e) {\r\n\r\n      e.preventDefault();\r\n\r\n      gui.width += pmouseX - e.clientX;\r\n      gui.onResize();\r\n      pmouseX = e.clientX;\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    function dragStop() {\r\n\r\n      dom.removeClass(gui.__closeButton, GUI.CLASS_DRAG);\r\n      dom.unbind(window, 'mousemove', drag);\r\n      dom.unbind(window, 'mouseup', dragStop);\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function setWidth(gui, w) {\r\n    gui.domElement.style.width = w + 'px';\r\n    // Auto placed save-rows are position fixed, so we have to\r\n    // set the width manually if we want it to bleed to the edge\r\n    if (gui.__save_row && gui.autoPlace) {\r\n      gui.__save_row.style.width = w + 'px';\r\n    }if (gui.__closeButton) {\r\n      gui.__closeButton.style.width = w + 'px';\r\n    }\r\n  }\r\n\r\n  function getCurrentPreset(gui, useInitialValues) {\r\n\r\n    var toReturn = {};\r\n\r\n    // For each object I'm remembering\r\n    common.each(gui.__rememberedObjects, function(val, index) {\r\n\r\n      var saved_values = {};\r\n\r\n      // The controllers I've made for thcommon.isObject by property\r\n      var controller_map =\r\n          gui.__rememberedObjectIndecesToControllers[index];\r\n\r\n      // Remember each value for each property\r\n      common.each(controller_map, function(controller, property) {\r\n        saved_values[property] = useInitialValues ? controller.initialValue : controller.getValue();\r\n      });\r\n\r\n      // Save the values for thcommon.isObject\r\n      toReturn[index] = saved_values;\r\n\r\n    });\r\n\r\n    return toReturn;\r\n\r\n  }\r\n\r\n  function addPresetOption(gui, name, setSelected) {\r\n    var opt = document.createElement('option');\r\n    opt.innerHTML = name;\r\n    opt.value = name;\r\n    gui.__preset_select.appendChild(opt);\r\n    if (setSelected) {\r\n      gui.__preset_select.selectedIndex = gui.__preset_select.length - 1;\r\n    }\r\n  }\r\n\r\n  function setPresetSelectIndex(gui) {\r\n    for (var index = 0; index < gui.__preset_select.length; index++) {\r\n      if (gui.__preset_select[index].value == gui.preset) {\r\n        gui.__preset_select.selectedIndex = index;\r\n      }\r\n    }\r\n  }\r\n\r\n  function markPresetModified(gui, modified) {\r\n    var opt = gui.__preset_select[gui.__preset_select.selectedIndex];\r\n//    console.log('mark', modified, opt);\r\n    if (modified) {\r\n      opt.innerHTML = opt.value + \"*\";\r\n    } else {\r\n      opt.innerHTML = opt.value;\r\n    }\r\n  }\r\n\r\n  function updateDisplays(controllerArray) {\r\n\r\n\r\n    if (controllerArray.length != 0) {\r\n\r\n      requestAnimationFrame(function() {\r\n        updateDisplays(controllerArray);\r\n      });\r\n\r\n    }\r\n\r\n    common.each(controllerArray, function(c) {\r\n      c.updateDisplay();\r\n    });\r\n\r\n  }\r\n\r\n  return GUI;\r\n\r\n})(dat.utils.css,\r\n\"<div id=\\\"dg-save\\\" class=\\\"dg dialogue\\\">\\n\\n  Here's the new load parameter for your <code>GUI</code>'s constructor:\\n\\n  <textarea id=\\\"dg-new-constructor\\\"></textarea>\\n\\n  <div id=\\\"dg-save-locally\\\">\\n\\n    <input id=\\\"dg-local-storage\\\" type=\\\"checkbox\\\"/> Automatically save\\n    values to <code>localStorage</code> on exit.\\n\\n    <div id=\\\"dg-local-explain\\\">The values saved to <code>localStorage</code> will\\n      override those passed to <code>dat.GUI</code>'s constructor. This makes it\\n      easier to work incrementally, but <code>localStorage</code> is fragile,\\n      and your friends may not see the same values you do.\\n      \\n    </div>\\n    \\n  </div>\\n\\n</div>\",\r\n\".dg {\\n  /** Clear list styles */\\n  /* Auto-place container */\\n  /* Auto-placed GUI's */\\n  /* Line items that don't contain folders. */\\n  /** Folder names */\\n  /** Hides closed items */\\n  /** Controller row */\\n  /** Name-half (left) */\\n  /** Controller-half (right) */\\n  /** Controller placement */\\n  /** Shorter number boxes when slider is present. */\\n  /** Ensure the entire boolean and function row shows a hand */ }\\n  .dg ul {\\n    list-style: none;\\n    margin: 0;\\n    padding: 0;\\n    width: 100%;\\n    clear: both; }\\n  .dg.ac {\\n    position: fixed;\\n    top: 0;\\n    left: 0;\\n    right: 0;\\n    height: 0;\\n    z-index: 0; }\\n  .dg:not(.ac) .main {\\n    /** Exclude mains in ac so that we don't hide close button */\\n    overflow: hidden; }\\n  .dg.main {\\n    -webkit-transition: opacity 0.1s linear;\\n    -o-transition: opacity 0.1s linear;\\n    -moz-transition: opacity 0.1s linear;\\n    transition: opacity 0.1s linear; }\\n    .dg.main.taller-than-window {\\n      overflow-y: auto; }\\n      .dg.main.taller-than-window .close-button {\\n        opacity: 1;\\n        /* TODO, these are style notes */\\n        margin-top: -1px;\\n        border-top: 1px solid #2c2c2c; }\\n    .dg.main ul.closed .close-button {\\n      opacity: 1 !important; }\\n    .dg.main:hover .close-button,\\n    .dg.main .close-button.drag {\\n      opacity: 1; }\\n    .dg.main .close-button {\\n      /*opacity: 0;*/\\n      -webkit-transition: opacity 0.1s linear;\\n      -o-transition: opacity 0.1s linear;\\n      -moz-transition: opacity 0.1s linear;\\n      transition: opacity 0.1s linear;\\n      border: 0;\\n      position: absolute;\\n      line-height: 19px;\\n      height: 20px;\\n      /* TODO, these are style notes */\\n      cursor: pointer;\\n      text-align: center;\\n      background-color: #000; }\\n      .dg.main .close-button:hover {\\n        background-color: #111; }\\n  .dg.a {\\n    float: right;\\n    margin-right: 15px;\\n    overflow-x: hidden; }\\n    .dg.a.has-save > ul {\\n      margin-top: 27px; }\\n      .dg.a.has-save > ul.closed {\\n        margin-top: 0; }\\n    .dg.a .save-row {\\n      position: fixed;\\n      top: 0;\\n      z-index: 1002; }\\n  .dg li {\\n    -webkit-transition: height 0.1s ease-out;\\n    -o-transition: height 0.1s ease-out;\\n    -moz-transition: height 0.1s ease-out;\\n    transition: height 0.1s ease-out; }\\n  .dg li:not(.folder) {\\n    cursor: auto;\\n    height: 27px;\\n    line-height: 27px;\\n    overflow: hidden;\\n    padding: 0 4px 0 5px; }\\n  .dg li.folder {\\n    padding: 0;\\n    border-left: 4px solid rgba(0, 0, 0, 0); }\\n  .dg li.title {\\n    cursor: pointer;\\n    margin-left: -4px; }\\n  .dg .closed li:not(.title),\\n  .dg .closed ul li,\\n  .dg .closed ul li > * {\\n    height: 0;\\n    overflow: hidden;\\n    border: 0; }\\n  .dg .cr {\\n    clear: both;\\n    padding-left: 3px;\\n    height: 27px; }\\n  .dg .property-name {\\n    cursor: default;\\n    float: left;\\n    clear: left;\\n    width: 40%;\\n    overflow: hidden;\\n    text-overflow: ellipsis; }\\n  .dg .c {\\n    float: left;\\n    width: 60%; }\\n  .dg .c input[type=text] {\\n    border: 0;\\n    margin-top: 4px;\\n    padding: 3px;\\n    width: 100%;\\n    float: right; }\\n  .dg .has-slider input[type=text] {\\n    width: 30%;\\n    /*display: none;*/\\n    margin-left: 0; }\\n  .dg .slider {\\n    float: left;\\n    width: 66%;\\n    margin-left: -5px;\\n    margin-right: 0;\\n    height: 19px;\\n    margin-top: 4px; }\\n  .dg .slider-fg {\\n    height: 100%; }\\n  .dg .c input[type=checkbox] {\\n    margin-top: 9px; }\\n  .dg .c select {\\n    margin-top: 5px; }\\n  .dg .cr.function,\\n  .dg .cr.function .property-name,\\n  .dg .cr.function *,\\n  .dg .cr.boolean,\\n  .dg .cr.boolean * {\\n    cursor: pointer; }\\n  .dg .selector {\\n    display: none;\\n    position: absolute;\\n    margin-left: -9px;\\n    margin-top: 23px;\\n    z-index: 10; }\\n  .dg .c:hover .selector,\\n  .dg .selector.drag {\\n    display: block; }\\n  .dg li.save-row {\\n    padding: 0; }\\n    .dg li.save-row .button {\\n      display: inline-block;\\n      padding: 0px 6px; }\\n  .dg.dialogue {\\n    background-color: #222;\\n    width: 460px;\\n    padding: 15px;\\n    font-size: 13px;\\n    line-height: 15px; }\\n\\n/* TODO Separate style and structure */\\n#dg-new-constructor {\\n  padding: 10px;\\n  color: #222;\\n  font-family: Monaco, monospace;\\n  font-size: 10px;\\n  border: 0;\\n  resize: none;\\n  box-shadow: inset 1px 1px 1px #888;\\n  word-wrap: break-word;\\n  margin: 12px 0;\\n  display: block;\\n  width: 440px;\\n  overflow-y: scroll;\\n  height: 100px;\\n  position: relative; }\\n\\n#dg-local-explain {\\n  display: none;\\n  font-size: 11px;\\n  line-height: 17px;\\n  border-radius: 3px;\\n  background-color: #333;\\n  padding: 8px;\\n  margin-top: 10px; }\\n  #dg-local-explain code {\\n    font-size: 10px; }\\n\\n#dat-gui-save-locally {\\n  display: none; }\\n\\n/** Main type */\\n.dg {\\n  color: #eee;\\n  font: 11px 'Lucida Grande', sans-serif;\\n  text-shadow: 0 -1px 0 #111;\\n  /** Auto place */\\n  /* Controller row, <li> */\\n  /** Controllers */ }\\n  .dg.main {\\n    /** Scrollbar */ }\\n    .dg.main::-webkit-scrollbar {\\n      width: 5px;\\n      background: #1a1a1a; }\\n    .dg.main::-webkit-scrollbar-corner {\\n      height: 0;\\n      display: none; }\\n    .dg.main::-webkit-scrollbar-thumb {\\n      border-radius: 5px;\\n      background: #676767; }\\n  .dg li:not(.folder) {\\n    background: #1a1a1a;\\n    border-bottom: 1px solid #2c2c2c; }\\n  .dg li.save-row {\\n    line-height: 25px;\\n    background: #dad5cb;\\n    border: 0; }\\n    .dg li.save-row select {\\n      margin-left: 5px;\\n      width: 108px; }\\n    .dg li.save-row .button {\\n      margin-left: 5px;\\n      margin-top: 1px;\\n      border-radius: 2px;\\n      font-size: 9px;\\n      line-height: 7px;\\n      padding: 4px 4px 5px 4px;\\n      background: #c5bdad;\\n      color: #fff;\\n      text-shadow: 0 1px 0 #b0a58f;\\n      box-shadow: 0 -1px 0 #b0a58f;\\n      cursor: pointer; }\\n      .dg li.save-row .button.gears {\\n        background: #c5bdad url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAAsAAAANCAYAAAB/9ZQ7AAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAQJJREFUeNpiYKAU/P//PwGIC/ApCABiBSAW+I8AClAcgKxQ4T9hoMAEUrxx2QSGN6+egDX+/vWT4e7N82AMYoPAx/evwWoYoSYbACX2s7KxCxzcsezDh3evFoDEBYTEEqycggWAzA9AuUSQQgeYPa9fPv6/YWm/Acx5IPb7ty/fw+QZblw67vDs8R0YHyQhgObx+yAJkBqmG5dPPDh1aPOGR/eugW0G4vlIoTIfyFcA+QekhhHJhPdQxbiAIguMBTQZrPD7108M6roWYDFQiIAAv6Aow/1bFwXgis+f2LUAynwoIaNcz8XNx3Dl7MEJUDGQpx9gtQ8YCueB+D26OECAAQDadt7e46D42QAAAABJRU5ErkJggg==) 2px 1px no-repeat;\\n        height: 7px;\\n        width: 8px; }\\n      .dg li.save-row .button:hover {\\n        background-color: #bab19e;\\n        box-shadow: 0 -1px 0 #b0a58f; }\\n  .dg li.folder {\\n    border-bottom: 0; }\\n  .dg li.title {\\n    padding-left: 16px;\\n    background: black url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlI+hKgFxoCgAOw==) 6px 10px no-repeat;\\n    cursor: pointer;\\n    border-bottom: 1px solid rgba(255, 255, 255, 0.2); }\\n  .dg .closed li.title {\\n    background-image: url(data:image/gif;base64,R0lGODlhBQAFAJEAAP////Pz8////////yH5BAEAAAIALAAAAAAFAAUAAAIIlGIWqMCbWAEAOw==); }\\n  .dg .cr.boolean {\\n    border-left: 3px solid #806787; }\\n  .dg .cr.function {\\n    border-left: 3px solid #e61d5f; }\\n  .dg .cr.number {\\n    border-left: 3px solid #2fa1d6; }\\n    .dg .cr.number input[type=text] {\\n      color: #2fa1d6; }\\n  .dg .cr.string {\\n    border-left: 3px solid #1ed36f; }\\n    .dg .cr.string input[type=text] {\\n      color: #1ed36f; }\\n  .dg .cr.function:hover, .dg .cr.boolean:hover {\\n    background: #111; }\\n  .dg .c input[type=text] {\\n    background: #303030;\\n    outline: none; }\\n    .dg .c input[type=text]:hover {\\n      background: #3c3c3c; }\\n    .dg .c input[type=text]:focus {\\n      background: #494949;\\n      color: #fff; }\\n  .dg .c .slider {\\n    background: #303030;\\n    cursor: ew-resize; }\\n  .dg .c .slider-fg {\\n    background: #2fa1d6; }\\n  .dg .c .slider:hover {\\n    background: #3c3c3c; }\\n    .dg .c .slider:hover .slider-fg {\\n      background: #44abda; }\\n\",\r\ndat.controllers.factory = (function (OptionController, NumberControllerBox, NumberControllerSlider, StringController, FunctionController, BooleanController, common) {\r\n\r\n      return function(object, property) {\r\n\r\n        var initialValue = object[property];\r\n\r\n        // Providing options?\r\n        if (common.isArray(arguments[2]) || common.isObject(arguments[2])) {\r\n          return new OptionController(object, property, arguments[2]);\r\n        }\r\n\r\n        // Providing a map?\r\n\r\n        if (common.isNumber(initialValue)) {\r\n\r\n          if (common.isNumber(arguments[2]) && common.isNumber(arguments[3])) {\r\n\r\n            // Has min and max.\r\n            return new NumberControllerSlider(object, property, arguments[2], arguments[3]);\r\n\r\n          } else {\r\n\r\n            return new NumberControllerBox(object, property, { min: arguments[2], max: arguments[3] });\r\n\r\n          }\r\n\r\n        }\r\n\r\n        if (common.isString(initialValue)) {\r\n          return new StringController(object, property);\r\n        }\r\n\r\n        if (common.isFunction(initialValue)) {\r\n          return new FunctionController(object, property, '');\r\n        }\r\n\r\n        if (common.isBoolean(initialValue)) {\r\n          return new BooleanController(object, property);\r\n        }\r\n\r\n      }\r\n\r\n    })(dat.controllers.OptionController,\r\ndat.controllers.NumberControllerBox,\r\ndat.controllers.NumberControllerSlider,\r\ndat.controllers.StringController = (function (Controller, dom, common) {\r\n\r\n  /**\r\n   * @class Provides a text input to alter the string property of an object.\r\n   *\r\n   * @extends dat.controllers.Controller\r\n   *\r\n   * @param {Object} object The object to be manipulated\r\n   * @param {string} property The name of the property to be manipulated\r\n   *\r\n   * @member dat.controllers\r\n   */\r\n  var StringController = function(object, property) {\r\n\r\n    StringController.superclass.call(this, object, property);\r\n\r\n    var _this = this;\r\n\r\n    this.__input = document.createElement('input');\r\n    this.__input.setAttribute('type', 'text');\r\n\r\n    dom.bind(this.__input, 'keyup', onChange);\r\n    dom.bind(this.__input, 'change', onChange);\r\n    dom.bind(this.__input, 'blur', onBlur);\r\n    dom.bind(this.__input, 'keydown', function(e) {\r\n      if (e.keyCode === 13) {\r\n        this.blur();\r\n      }\r\n    });\r\n    \r\n\r\n    function onChange() {\r\n      _this.setValue(_this.__input.value);\r\n    }\r\n\r\n    function onBlur() {\r\n      if (_this.__onFinishChange) {\r\n        _this.__onFinishChange.call(_this, _this.getValue());\r\n      }\r\n    }\r\n\r\n    this.updateDisplay();\r\n\r\n    this.domElement.appendChild(this.__input);\r\n\r\n  };\r\n\r\n  StringController.superclass = Controller;\r\n\r\n  common.extend(\r\n\r\n      StringController.prototype,\r\n      Controller.prototype,\r\n\r\n      {\r\n\r\n        updateDisplay: function() {\r\n          // Stops the caret from moving on account of:\r\n          // keyup -> setValue -> updateDisplay\r\n          if (!dom.isActive(this.__input)) {\r\n            this.__input.value = this.getValue();\r\n          }\r\n          return StringController.superclass.prototype.updateDisplay.call(this);\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n\r\n  return StringController;\r\n\r\n})(dat.controllers.Controller,\r\ndat.dom.dom,\r\ndat.utils.common),\r\ndat.controllers.FunctionController,\r\ndat.controllers.BooleanController,\r\ndat.utils.common),\r\ndat.controllers.Controller,\r\ndat.controllers.BooleanController,\r\ndat.controllers.FunctionController,\r\ndat.controllers.NumberControllerBox,\r\ndat.controllers.NumberControllerSlider,\r\ndat.controllers.OptionController,\r\ndat.controllers.ColorController = (function (Controller, dom, Color, interpret, common) {\r\n\r\n  var ColorController = function(object, property) {\r\n\r\n    ColorController.superclass.call(this, object, property);\r\n\r\n    this.__color = new Color(this.getValue());\r\n    this.__temp = new Color(0);\r\n\r\n    var _this = this;\r\n\r\n    this.domElement = document.createElement('div');\r\n\r\n    dom.makeSelectable(this.domElement, false);\r\n\r\n    this.__selector = document.createElement('div');\r\n    this.__selector.className = 'selector';\r\n\r\n    this.__saturation_field = document.createElement('div');\r\n    this.__saturation_field.className = 'saturation-field';\r\n\r\n    this.__field_knob = document.createElement('div');\r\n    this.__field_knob.className = 'field-knob';\r\n    this.__field_knob_border = '2px solid ';\r\n\r\n    this.__hue_knob = document.createElement('div');\r\n    this.__hue_knob.className = 'hue-knob';\r\n\r\n    this.__hue_field = document.createElement('div');\r\n    this.__hue_field.className = 'hue-field';\r\n\r\n    this.__input = document.createElement('input');\r\n    this.__input.type = 'text';\r\n    this.__input_textShadow = '0 1px 1px ';\r\n\r\n    dom.bind(this.__input, 'keydown', function(e) {\r\n      if (e.keyCode === 13) { // on enter\r\n        onBlur.call(this);\r\n      }\r\n    });\r\n\r\n    dom.bind(this.__input, 'blur', onBlur);\r\n\r\n    dom.bind(this.__selector, 'mousedown', function(e) {\r\n\r\n      dom\r\n        .addClass(this, 'drag')\r\n        .bind(window, 'mouseup', function(e) {\r\n          dom.removeClass(_this.__selector, 'drag');\r\n        });\r\n\r\n    });\r\n\r\n    var value_field = document.createElement('div');\r\n\r\n    common.extend(this.__selector.style, {\r\n      width: '122px',\r\n      height: '102px',\r\n      padding: '3px',\r\n      backgroundColor: '#222',\r\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.3)'\r\n    });\r\n\r\n    common.extend(this.__field_knob.style, {\r\n      position: 'absolute',\r\n      width: '12px',\r\n      height: '12px',\r\n      border: this.__field_knob_border + (this.__color.v < .5 ? '#fff' : '#000'),\r\n      boxShadow: '0px 1px 3px rgba(0,0,0,0.5)',\r\n      borderRadius: '12px',\r\n      zIndex: 1\r\n    });\r\n    \r\n    common.extend(this.__hue_knob.style, {\r\n      position: 'absolute',\r\n      width: '15px',\r\n      height: '2px',\r\n      borderRight: '4px solid #fff',\r\n      zIndex: 1\r\n    });\r\n\r\n    common.extend(this.__saturation_field.style, {\r\n      width: '100px',\r\n      height: '100px',\r\n      border: '1px solid #555',\r\n      marginRight: '3px',\r\n      display: 'inline-block',\r\n      cursor: 'pointer'\r\n    });\r\n\r\n    common.extend(value_field.style, {\r\n      width: '100%',\r\n      height: '100%',\r\n      background: 'none'\r\n    });\r\n    \r\n    linearGradient(value_field, 'top', 'rgba(0,0,0,0)', '#000');\r\n\r\n    common.extend(this.__hue_field.style, {\r\n      width: '15px',\r\n      height: '100px',\r\n      display: 'inline-block',\r\n      border: '1px solid #555',\r\n      cursor: 'ns-resize'\r\n    });\r\n\r\n    hueGradient(this.__hue_field);\r\n\r\n    common.extend(this.__input.style, {\r\n      outline: 'none',\r\n//      width: '120px',\r\n      textAlign: 'center',\r\n//      padding: '4px',\r\n//      marginBottom: '6px',\r\n      color: '#fff',\r\n      border: 0,\r\n      fontWeight: 'bold',\r\n      textShadow: this.__input_textShadow + 'rgba(0,0,0,0.7)'\r\n    });\r\n\r\n    dom.bind(this.__saturation_field, 'mousedown', fieldDown);\r\n    dom.bind(this.__field_knob, 'mousedown', fieldDown);\r\n\r\n    dom.bind(this.__hue_field, 'mousedown', function(e) {\r\n      setH(e);\r\n      dom.bind(window, 'mousemove', setH);\r\n      dom.bind(window, 'mouseup', unbindH);\r\n    });\r\n\r\n    function fieldDown(e) {\r\n      setSV(e);\r\n      // document.body.style.cursor = 'none';\r\n      dom.bind(window, 'mousemove', setSV);\r\n      dom.bind(window, 'mouseup', unbindSV);\r\n    }\r\n\r\n    function unbindSV() {\r\n      dom.unbind(window, 'mousemove', setSV);\r\n      dom.unbind(window, 'mouseup', unbindSV);\r\n      // document.body.style.cursor = 'default';\r\n    }\r\n\r\n    function onBlur() {\r\n      var i = interpret(this.value);\r\n      if (i !== false) {\r\n        _this.__color.__state = i;\r\n        _this.setValue(_this.__color.toOriginal());\r\n      } else {\r\n        this.value = _this.__color.toString();\r\n      }\r\n    }\r\n\r\n    function unbindH() {\r\n      dom.unbind(window, 'mousemove', setH);\r\n      dom.unbind(window, 'mouseup', unbindH);\r\n    }\r\n\r\n    this.__saturation_field.appendChild(value_field);\r\n    this.__selector.appendChild(this.__field_knob);\r\n    this.__selector.appendChild(this.__saturation_field);\r\n    this.__selector.appendChild(this.__hue_field);\r\n    this.__hue_field.appendChild(this.__hue_knob);\r\n\r\n    this.domElement.appendChild(this.__input);\r\n    this.domElement.appendChild(this.__selector);\r\n\r\n    this.updateDisplay();\r\n\r\n    function setSV(e) {\r\n\r\n      e.preventDefault();\r\n\r\n      var w = dom.getWidth(_this.__saturation_field);\r\n      var o = dom.getOffset(_this.__saturation_field);\r\n      var s = (e.clientX - o.left + document.body.scrollLeft) / w;\r\n      var v = 1 - (e.clientY - o.top + document.body.scrollTop) / w;\r\n\r\n      if (v > 1) v = 1;\r\n      else if (v < 0) v = 0;\r\n\r\n      if (s > 1) s = 1;\r\n      else if (s < 0) s = 0;\r\n\r\n      _this.__color.v = v;\r\n      _this.__color.s = s;\r\n\r\n      _this.setValue(_this.__color.toOriginal());\r\n\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n    function setH(e) {\r\n\r\n      e.preventDefault();\r\n\r\n      var s = dom.getHeight(_this.__hue_field);\r\n      var o = dom.getOffset(_this.__hue_field);\r\n      var h = 1 - (e.clientY - o.top + document.body.scrollTop) / s;\r\n\r\n      if (h > 1) h = 1;\r\n      else if (h < 0) h = 0;\r\n\r\n      _this.__color.h = h * 360;\r\n\r\n      _this.setValue(_this.__color.toOriginal());\r\n\r\n      return false;\r\n\r\n    }\r\n\r\n  };\r\n\r\n  ColorController.superclass = Controller;\r\n\r\n  common.extend(\r\n\r\n      ColorController.prototype,\r\n      Controller.prototype,\r\n\r\n      {\r\n\r\n        updateDisplay: function() {\r\n\r\n          var i = interpret(this.getValue());\r\n\r\n          if (i !== false) {\r\n\r\n            var mismatch = false;\r\n\r\n            // Check for mismatch on the interpreted value.\r\n\r\n            common.each(Color.COMPONENTS, function(component) {\r\n              if (!common.isUndefined(i[component]) &&\r\n                  !common.isUndefined(this.__color.__state[component]) &&\r\n                  i[component] !== this.__color.__state[component]) {\r\n                mismatch = true;\r\n                return {}; // break\r\n              }\r\n            }, this);\r\n\r\n            // If nothing diverges, we keep our previous values\r\n            // for statefulness, otherwise we recalculate fresh\r\n            if (mismatch) {\r\n              common.extend(this.__color.__state, i);\r\n            }\r\n\r\n          }\r\n\r\n          common.extend(this.__temp.__state, this.__color.__state);\r\n\r\n          this.__temp.a = 1;\r\n\r\n          var flip = (this.__color.v < .5 || this.__color.s > .5) ? 255 : 0;\r\n          var _flip = 255 - flip;\r\n\r\n          common.extend(this.__field_knob.style, {\r\n            marginLeft: 100 * this.__color.s - 7 + 'px',\r\n            marginTop: 100 * (1 - this.__color.v) - 7 + 'px',\r\n            backgroundColor: this.__temp.toString(),\r\n            border: this.__field_knob_border + 'rgb(' + flip + ',' + flip + ',' + flip +')'\r\n          });\r\n\r\n          this.__hue_knob.style.marginTop = (1 - this.__color.h / 360) * 100 + 'px'\r\n\r\n          this.__temp.s = 1;\r\n          this.__temp.v = 1;\r\n\r\n          linearGradient(this.__saturation_field, 'left', '#fff', this.__temp.toString());\r\n\r\n          common.extend(this.__input.style, {\r\n            backgroundColor: this.__input.value = this.__color.toString(),\r\n            color: 'rgb(' + flip + ',' + flip + ',' + flip +')',\r\n            textShadow: this.__input_textShadow + 'rgba(' + _flip + ',' + _flip + ',' + _flip +',.7)'\r\n          });\r\n\r\n        }\r\n\r\n      }\r\n\r\n  );\r\n  \r\n  var vendors = ['-moz-','-o-','-webkit-','-ms-',''];\r\n  \r\n  function linearGradient(elem, x, a, b) {\r\n    elem.style.background = '';\r\n    common.each(vendors, function(vendor) {\r\n      elem.style.cssText += 'background: ' + vendor + 'linear-gradient('+x+', '+a+' 0%, ' + b + ' 100%); ';\r\n    });\r\n  }\r\n  \r\n  function hueGradient(elem) {\r\n    elem.style.background = '';\r\n    elem.style.cssText += 'background: -moz-linear-gradient(top,  #ff0000 0%, #ff00ff 17%, #0000ff 34%, #00ffff 50%, #00ff00 67%, #ffff00 84%, #ff0000 100%);'\r\n    elem.style.cssText += 'background: -webkit-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\r\n    elem.style.cssText += 'background: -o-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\r\n    elem.style.cssText += 'background: -ms-linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\r\n    elem.style.cssText += 'background: linear-gradient(top,  #ff0000 0%,#ff00ff 17%,#0000ff 34%,#00ffff 50%,#00ff00 67%,#ffff00 84%,#ff0000 100%);'\r\n  }\r\n\r\n\r\n  return ColorController;\r\n\r\n})(dat.controllers.Controller,\r\ndat.dom.dom,\r\ndat.color.Color = (function (interpret, math, toString, common) {\r\n\r\n  var Color = function() {\r\n\r\n    this.__state = interpret.apply(this, arguments);\r\n\r\n    if (this.__state === false) {\r\n      throw 'Failed to interpret color arguments';\r\n    }\r\n\r\n    this.__state.a = this.__state.a || 1;\r\n\r\n\r\n  };\r\n\r\n  Color.COMPONENTS = ['r','g','b','h','s','v','hex','a'];\r\n\r\n  common.extend(Color.prototype, {\r\n\r\n    toString: function() {\r\n      return toString(this);\r\n    },\r\n\r\n    toOriginal: function() {\r\n      return this.__state.conversion.write(this);\r\n    }\r\n\r\n  });\r\n\r\n  defineRGBComponent(Color.prototype, 'r', 2);\r\n  defineRGBComponent(Color.prototype, 'g', 1);\r\n  defineRGBComponent(Color.prototype, 'b', 0);\r\n\r\n  defineHSVComponent(Color.prototype, 'h');\r\n  defineHSVComponent(Color.prototype, 's');\r\n  defineHSVComponent(Color.prototype, 'v');\r\n\r\n  Object.defineProperty(Color.prototype, 'a', {\r\n\r\n    get: function() {\r\n      return this.__state.a;\r\n    },\r\n\r\n    set: function(v) {\r\n      this.__state.a = v;\r\n    }\r\n\r\n  });\r\n\r\n  Object.defineProperty(Color.prototype, 'hex', {\r\n\r\n    get: function() {\r\n\r\n      if (!this.__state.space !== 'HEX') {\r\n        this.__state.hex = math.rgb_to_hex(this.r, this.g, this.b);\r\n      }\r\n\r\n      return this.__state.hex;\r\n\r\n    },\r\n\r\n    set: function(v) {\r\n\r\n      this.__state.space = 'HEX';\r\n      this.__state.hex = v;\r\n\r\n    }\r\n\r\n  });\r\n\r\n  function defineRGBComponent(target, component, componentHexIndex) {\r\n\r\n    Object.defineProperty(target, component, {\r\n\r\n      get: function() {\r\n\r\n        if (this.__state.space === 'RGB') {\r\n          return this.__state[component];\r\n        }\r\n\r\n        recalculateRGB(this, component, componentHexIndex);\r\n\r\n        return this.__state[component];\r\n\r\n      },\r\n\r\n      set: function(v) {\r\n\r\n        if (this.__state.space !== 'RGB') {\r\n          recalculateRGB(this, component, componentHexIndex);\r\n          this.__state.space = 'RGB';\r\n        }\r\n\r\n        this.__state[component] = v;\r\n\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  function defineHSVComponent(target, component) {\r\n\r\n    Object.defineProperty(target, component, {\r\n\r\n      get: function() {\r\n\r\n        if (this.__state.space === 'HSV')\r\n          return this.__state[component];\r\n\r\n        recalculateHSV(this);\r\n\r\n        return this.__state[component];\r\n\r\n      },\r\n\r\n      set: function(v) {\r\n\r\n        if (this.__state.space !== 'HSV') {\r\n          recalculateHSV(this);\r\n          this.__state.space = 'HSV';\r\n        }\r\n\r\n        this.__state[component] = v;\r\n\r\n      }\r\n\r\n    });\r\n\r\n  }\r\n\r\n  function recalculateRGB(color, component, componentHexIndex) {\r\n\r\n    if (color.__state.space === 'HEX') {\r\n\r\n      color.__state[component] = math.component_from_hex(color.__state.hex, componentHexIndex);\r\n\r\n    } else if (color.__state.space === 'HSV') {\r\n\r\n      common.extend(color.__state, math.hsv_to_rgb(color.__state.h, color.__state.s, color.__state.v));\r\n\r\n    } else {\r\n\r\n      throw 'Corrupted color state';\r\n\r\n    }\r\n\r\n  }\r\n\r\n  function recalculateHSV(color) {\r\n\r\n    var result = math.rgb_to_hsv(color.r, color.g, color.b);\r\n\r\n    common.extend(color.__state,\r\n        {\r\n          s: result.s,\r\n          v: result.v\r\n        }\r\n    );\r\n\r\n    if (!common.isNaN(result.h)) {\r\n      color.__state.h = result.h;\r\n    } else if (common.isUndefined(color.__state.h)) {\r\n      color.__state.h = 0;\r\n    }\r\n\r\n  }\r\n\r\n  return Color;\r\n\r\n})(dat.color.interpret,\r\ndat.color.math = (function () {\r\n\r\n  var tmpComponent;\r\n\r\n  return {\r\n\r\n    hsv_to_rgb: function(h, s, v) {\r\n\r\n      var hi = Math.floor(h / 60) % 6;\r\n\r\n      var f = h / 60 - Math.floor(h / 60);\r\n      var p = v * (1.0 - s);\r\n      var q = v * (1.0 - (f * s));\r\n      var t = v * (1.0 - ((1.0 - f) * s));\r\n      var c = [\r\n        [v, t, p],\r\n        [q, v, p],\r\n        [p, v, t],\r\n        [p, q, v],\r\n        [t, p, v],\r\n        [v, p, q]\r\n      ][hi];\r\n\r\n      return {\r\n        r: c[0] * 255,\r\n        g: c[1] * 255,\r\n        b: c[2] * 255\r\n      };\r\n\r\n    },\r\n\r\n    rgb_to_hsv: function(r, g, b) {\r\n\r\n      var min = Math.min(r, g, b),\r\n          max = Math.max(r, g, b),\r\n          delta = max - min,\r\n          h, s;\r\n\r\n      if (max != 0) {\r\n        s = delta / max;\r\n      } else {\r\n        return {\r\n          h: NaN,\r\n          s: 0,\r\n          v: 0\r\n        };\r\n      }\r\n\r\n      if (r == max) {\r\n        h = (g - b) / delta;\r\n      } else if (g == max) {\r\n        h = 2 + (b - r) / delta;\r\n      } else {\r\n        h = 4 + (r - g) / delta;\r\n      }\r\n      h /= 6;\r\n      if (h < 0) {\r\n        h += 1;\r\n      }\r\n\r\n      return {\r\n        h: h * 360,\r\n        s: s,\r\n        v: max / 255\r\n      };\r\n    },\r\n\r\n    rgb_to_hex: function(r, g, b) {\r\n      var hex = this.hex_with_component(0, 2, r);\r\n      hex = this.hex_with_component(hex, 1, g);\r\n      hex = this.hex_with_component(hex, 0, b);\r\n      return hex;\r\n    },\r\n\r\n    component_from_hex: function(hex, componentIndex) {\r\n      return (hex >> (componentIndex * 8)) & 0xFF;\r\n    },\r\n\r\n    hex_with_component: function(hex, componentIndex, value) {\r\n      return value << (tmpComponent = componentIndex * 8) | (hex & ~ (0xFF << tmpComponent));\r\n    }\r\n\r\n  }\r\n\r\n})(),\r\ndat.color.toString,\r\ndat.utils.common),\r\ndat.color.interpret,\r\ndat.utils.common),\r\ndat.utils.requestAnimationFrame = (function () {\r\n\r\n  /**\r\n   * requirejs version of Paul Irish's RequestAnimationFrame\r\n   * http://paulirish.com/2011/requestanimationframe-for-smart-animating/\r\n   */\r\n\r\n  return window.webkitRequestAnimationFrame ||\r\n      window.mozRequestAnimationFrame ||\r\n      window.oRequestAnimationFrame ||\r\n      window.msRequestAnimationFrame ||\r\n      function(callback, element) {\r\n\r\n        window.setTimeout(callback, 1000 / 60);\r\n\r\n      };\r\n})(),\r\ndat.dom.CenteredDiv = (function (dom, common) {\r\n\r\n\r\n  var CenteredDiv = function() {\r\n\r\n    this.backgroundElement = document.createElement('div');\r\n    common.extend(this.backgroundElement.style, {\r\n      backgroundColor: 'rgba(0,0,0,0.8)',\r\n      top: 0,\r\n      left: 0,\r\n      display: 'none',\r\n      zIndex: '1000',\r\n      opacity: 0,\r\n      WebkitTransition: 'opacity 0.2s linear',\r\n      transition: 'opacity 0.2s linear'\r\n    });\r\n\r\n    dom.makeFullscreen(this.backgroundElement);\r\n    this.backgroundElement.style.position = 'fixed';\r\n\r\n    this.domElement = document.createElement('div');\r\n    common.extend(this.domElement.style, {\r\n      position: 'fixed',\r\n      display: 'none',\r\n      zIndex: '1001',\r\n      opacity: 0,\r\n      WebkitTransition: '-webkit-transform 0.2s ease-out, opacity 0.2s linear',\r\n      transition: 'transform 0.2s ease-out, opacity 0.2s linear'\r\n    });\r\n\r\n\r\n    document.body.appendChild(this.backgroundElement);\r\n    document.body.appendChild(this.domElement);\r\n\r\n    var _this = this;\r\n    dom.bind(this.backgroundElement, 'click', function() {\r\n      _this.hide();\r\n    });\r\n\r\n\r\n  };\r\n\r\n  CenteredDiv.prototype.show = function() {\r\n\r\n    var _this = this;\r\n\r\n    this.backgroundElement.style.display = 'block';\r\n\r\n    this.domElement.style.display = 'block';\r\n    this.domElement.style.opacity = 0;\r\n//    this.domElement.style.top = '52%';\r\n    this.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n    this.layout();\r\n\r\n    common.defer(function() {\r\n      _this.backgroundElement.style.opacity = 1;\r\n      _this.domElement.style.opacity = 1;\r\n      _this.domElement.style.webkitTransform = 'scale(1)';\r\n    });\r\n\r\n  };\r\n\r\n  CenteredDiv.prototype.hide = function() {\r\n\r\n    var _this = this;\r\n\r\n    var hide = function() {\r\n\r\n      _this.domElement.style.display = 'none';\r\n      _this.backgroundElement.style.display = 'none';\r\n\r\n      dom.unbind(_this.domElement, 'webkitTransitionEnd', hide);\r\n      dom.unbind(_this.domElement, 'transitionend', hide);\r\n      dom.unbind(_this.domElement, 'oTransitionEnd', hide);\r\n\r\n    };\r\n\r\n    dom.bind(this.domElement, 'webkitTransitionEnd', hide);\r\n    dom.bind(this.domElement, 'transitionend', hide);\r\n    dom.bind(this.domElement, 'oTransitionEnd', hide);\r\n\r\n    this.backgroundElement.style.opacity = 0;\r\n//    this.domElement.style.top = '48%';\r\n    this.domElement.style.opacity = 0;\r\n    this.domElement.style.webkitTransform = 'scale(1.1)';\r\n\r\n  };\r\n\r\n  CenteredDiv.prototype.layout = function() {\r\n    this.domElement.style.left = window.innerWidth/2 - dom.getWidth(this.domElement) / 2 + 'px';\r\n    this.domElement.style.top = window.innerHeight/2 - dom.getHeight(this.domElement) / 2 + 'px';\r\n  };\r\n  \r\n  function lockScroll(e) {\r\n    console.log(e);\r\n  }\r\n\r\n  return CenteredDiv;\r\n\r\n})(dat.dom.dom,\r\ndat.utils.common),\r\ndat.dom.dom,\r\ndat.utils.common);\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./app/lib/dat.gui.js/build/dat.gui.js\n ** module id = 63\n ** module chunks = 0\n **/"],"sourceRoot":""}